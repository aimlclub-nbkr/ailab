(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var kd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Je(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var UI={exports:{}},Np={},BI={exports:{}},$e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wc=Symbol.for("react.element"),sM=Symbol.for("react.portal"),aM=Symbol.for("react.fragment"),oM=Symbol.for("react.strict_mode"),lM=Symbol.for("react.profiler"),uM=Symbol.for("react.provider"),cM=Symbol.for("react.context"),dM=Symbol.for("react.forward_ref"),fM=Symbol.for("react.suspense"),hM=Symbol.for("react.memo"),pM=Symbol.for("react.lazy"),g1=Symbol.iterator;function mM(t){return t===null||typeof t!="object"?null:(t=g1&&t[g1]||t["@@iterator"],typeof t=="function"?t:null)}var zI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qI=Object.assign,WI={};function ul(t,e,n){this.props=t,this.context=e,this.refs=WI,this.updater=n||zI}ul.prototype.isReactComponent={};ul.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ul.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function HI(){}HI.prototype=ul.prototype;function Tx(t,e,n){this.props=t,this.context=e,this.refs=WI,this.updater=n||zI}var Nx=Tx.prototype=new HI;Nx.constructor=Tx;qI(Nx,ul.prototype);Nx.isPureReactComponent=!0;var y1=Array.isArray,KI=Object.prototype.hasOwnProperty,Ix={current:null},GI={key:!0,ref:!0,__self:!0,__source:!0};function QI(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)KI.call(e,r)&&!GI.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:Wc,type:t,key:s,ref:a,props:i,_owner:Ix.current}}function gM(t,e){return{$$typeof:Wc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Px(t){return typeof t=="object"&&t!==null&&t.$$typeof===Wc}function yM(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var v1=/\/+/g;function Sg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?yM(""+t.key):e.toString(36)}function bf(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Wc:case sM:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Sg(a,0):r,y1(i)?(n="",t!=null&&(n=t.replace(v1,"$&/")+"/"),bf(i,e,n,"",function(c){return c})):i!=null&&(Px(i)&&(i=gM(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(v1,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",y1(t))for(var o=0;o<t.length;o++){s=t[o];var l=r+Sg(s,o);a+=bf(s,e,n,l,i)}else if(l=mM(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=r+Sg(s,o++),a+=bf(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Rd(t,e,n){if(t==null)return t;var r=[],i=0;return bf(t,r,"","",function(s){return e.call(n,s,i++)}),r}function vM(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var En={current:null},wf={transition:null},xM={ReactCurrentDispatcher:En,ReactCurrentBatchConfig:wf,ReactCurrentOwner:Ix};function XI(){throw Error("act(...) is not supported in production builds of React.")}$e.Children={map:Rd,forEach:function(t,e,n){Rd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Rd(t,function(){e++}),e},toArray:function(t){return Rd(t,function(e){return e})||[]},only:function(t){if(!Px(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};$e.Component=ul;$e.Fragment=aM;$e.Profiler=lM;$e.PureComponent=Tx;$e.StrictMode=oM;$e.Suspense=fM;$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xM;$e.act=XI;$e.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=qI({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=Ix.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)KI.call(e,l)&&!GI.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:Wc,type:t.type,key:i,ref:s,props:r,_owner:a}};$e.createContext=function(t){return t={$$typeof:cM,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:uM,_context:t},t.Consumer=t};$e.createElement=QI;$e.createFactory=function(t){var e=QI.bind(null,t);return e.type=t,e};$e.createRef=function(){return{current:null}};$e.forwardRef=function(t){return{$$typeof:dM,render:t}};$e.isValidElement=Px;$e.lazy=function(t){return{$$typeof:pM,_payload:{_status:-1,_result:t},_init:vM}};$e.memo=function(t,e){return{$$typeof:hM,type:t,compare:e===void 0?null:e}};$e.startTransition=function(t){var e=wf.transition;wf.transition={};try{t()}finally{wf.transition=e}};$e.unstable_act=XI;$e.useCallback=function(t,e){return En.current.useCallback(t,e)};$e.useContext=function(t){return En.current.useContext(t)};$e.useDebugValue=function(){};$e.useDeferredValue=function(t){return En.current.useDeferredValue(t)};$e.useEffect=function(t,e){return En.current.useEffect(t,e)};$e.useId=function(){return En.current.useId()};$e.useImperativeHandle=function(t,e,n){return En.current.useImperativeHandle(t,e,n)};$e.useInsertionEffect=function(t,e){return En.current.useInsertionEffect(t,e)};$e.useLayoutEffect=function(t,e){return En.current.useLayoutEffect(t,e)};$e.useMemo=function(t,e){return En.current.useMemo(t,e)};$e.useReducer=function(t,e,n){return En.current.useReducer(t,e,n)};$e.useRef=function(t){return En.current.useRef(t)};$e.useState=function(t){return En.current.useState(t)};$e.useSyncExternalStore=function(t,e,n){return En.current.useSyncExternalStore(t,e,n)};$e.useTransition=function(){return En.current.useTransition()};$e.version="18.3.1";BI.exports=$e;var L=BI.exports;const W=Je(L);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bM=L,wM=Symbol.for("react.element"),_M=Symbol.for("react.fragment"),SM=Object.prototype.hasOwnProperty,EM=bM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,AM={key:!0,ref:!0,__self:!0,__source:!0};function YI(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)SM.call(e,r)&&!AM.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:wM,type:t,key:s,ref:a,props:i,_owner:EM.current}}Np.Fragment=_M;Np.jsx=YI;Np.jsxs=YI;UI.exports=Np;var u=UI.exports,JI={exports:{}},Gn={},ZI={exports:{}},eP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,U){var V=M.length;M.push(U);e:for(;0<V;){var X=V-1>>>1,$=M[X];if(0<i($,U))M[X]=U,M[V]=$,V=X;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var U=M[0],V=M.pop();if(V!==U){M[0]=V;e:for(var X=0,$=M.length,G=$>>>1;X<G;){var ee=2*(X+1)-1,fe=M[ee],z=ee+1,J=M[z];if(0>i(fe,V))z<$&&0>i(J,fe)?(M[X]=J,M[z]=V,X=z):(M[X]=fe,M[ee]=V,X=ee);else if(z<$&&0>i(J,V))M[X]=J,M[z]=V,X=z;else break e}}return U}function i(M,U){var V=M.sortIndex-U.sortIndex;return V!==0?V:M.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],f=1,h=null,p=3,m=!1,g=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(M){for(var U=n(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=M)r(c),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(c)}}function P(M){if(w=!1,x(M),!g)if(n(l)!==null)g=!0,K(A);else{var U=n(c);U!==null&&B(P,U.startTime-M)}}function A(M,U){g=!1,w&&(w=!1,b(S),S=-1),m=!0;var V=p;try{for(x(U),h=n(l);h!==null&&(!(h.expirationTime>U)||M&&!k());){var X=h.callback;if(typeof X=="function"){h.callback=null,p=h.priorityLevel;var $=X(h.expirationTime<=U);U=t.unstable_now(),typeof $=="function"?h.callback=$:h===n(l)&&r(l),x(U)}else r(l);h=n(l)}if(h!==null)var G=!0;else{var ee=n(c);ee!==null&&B(P,ee.startTime-U),G=!1}return G}finally{h=null,p=V,m=!1}}var N=!1,E=null,S=-1,I=5,C=-1;function k(){return!(t.unstable_now()-C<I)}function j(){if(E!==null){var M=t.unstable_now();C=M;var U=!0;try{U=E(!0,M)}finally{U?O():(N=!1,E=null)}}else N=!1}var O;if(typeof v=="function")O=function(){v(j)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,F=D.port2;D.port1.onmessage=j,O=function(){F.postMessage(null)}}else O=function(){_(j,0)};function K(M){E=M,N||(N=!0,O())}function B(M,U){S=_(function(){M(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,K(A))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(M){switch(p){case 1:case 2:case 3:var U=3;break;default:U=p}var V=p;p=U;try{return M()}finally{p=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,U){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var V=p;p=M;try{return U()}finally{p=V}},t.unstable_scheduleCallback=function(M,U,V){var X=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?X+V:X):V=X,M){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=V+$,M={id:f++,callback:U,priorityLevel:M,startTime:V,expirationTime:$,sortIndex:-1},V>X?(M.sortIndex=V,e(c,M),n(l)===null&&M===n(c)&&(w?(b(S),S=-1):w=!0,B(P,V-X))):(M.sortIndex=$,e(l,M),g||m||(g=!0,K(A))),M},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(M){var U=p;return function(){var V=p;p=U;try{return M.apply(this,arguments)}finally{p=V}}}})(eP);ZI.exports=eP;var TM=ZI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NM=L,Kn=TM;function ae(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tP=new Set,Vu={};function Ea(t,e){To(t,e),To(t+"Capture",e)}function To(t,e){for(Vu[t]=e,t=0;t<e.length;t++)tP.add(e[t])}var _i=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),My=Object.prototype.hasOwnProperty,IM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x1={},b1={};function PM(t){return My.call(b1,t)?!0:My.call(x1,t)?!1:IM.test(t)?b1[t]=!0:(x1[t]=!0,!1)}function jM(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function OM(t,e,n,r){if(e===null||typeof e>"u"||jM(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function An(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var rn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){rn[t]=new An(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];rn[e]=new An(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){rn[t]=new An(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){rn[t]=new An(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){rn[t]=new An(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){rn[t]=new An(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){rn[t]=new An(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){rn[t]=new An(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){rn[t]=new An(t,5,!1,t.toLowerCase(),null,!1,!1)});var jx=/[\-:]([a-z])/g;function Ox(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(jx,Ox);rn[e]=new An(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(jx,Ox);rn[e]=new An(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(jx,Ox);rn[e]=new An(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){rn[t]=new An(t,1,!1,t.toLowerCase(),null,!1,!1)});rn.xlinkHref=new An("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){rn[t]=new An(t,1,!1,t.toLowerCase(),null,!0,!0)});function Cx(t,e,n,r){var i=rn.hasOwnProperty(e)?rn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(OM(e,n,i,r)&&(n=null),r||i===null?PM(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ri=NM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Dd=Symbol.for("react.element"),Ga=Symbol.for("react.portal"),Qa=Symbol.for("react.fragment"),kx=Symbol.for("react.strict_mode"),$y=Symbol.for("react.profiler"),nP=Symbol.for("react.provider"),rP=Symbol.for("react.context"),Rx=Symbol.for("react.forward_ref"),Ly=Symbol.for("react.suspense"),Vy=Symbol.for("react.suspense_list"),Dx=Symbol.for("react.memo"),Wi=Symbol.for("react.lazy"),iP=Symbol.for("react.offscreen"),w1=Symbol.iterator;function Ul(t){return t===null||typeof t!="object"?null:(t=w1&&t[w1]||t["@@iterator"],typeof t=="function"?t:null)}var yt=Object.assign,Eg;function au(t){if(Eg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Eg=e&&e[1]||""}return`
`+Eg+t}var Ag=!1;function Tg(t,e){if(!t||Ag)return"";Ag=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{Ag=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?au(t):""}function CM(t){switch(t.tag){case 5:return au(t.type);case 16:return au("Lazy");case 13:return au("Suspense");case 19:return au("SuspenseList");case 0:case 2:case 15:return t=Tg(t.type,!1),t;case 11:return t=Tg(t.type.render,!1),t;case 1:return t=Tg(t.type,!0),t;default:return""}}function Fy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Qa:return"Fragment";case Ga:return"Portal";case $y:return"Profiler";case kx:return"StrictMode";case Ly:return"Suspense";case Vy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case rP:return(t.displayName||"Context")+".Consumer";case nP:return(t._context.displayName||"Context")+".Provider";case Rx:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Dx:return e=t.displayName||null,e!==null?e:Fy(t.type)||"Memo";case Wi:e=t._payload,t=t._init;try{return Fy(t(e))}catch{}}return null}function kM(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fy(e);case 8:return e===kx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function gs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function sP(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function RM(t){var e=sP(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Md(t){t._valueTracker||(t._valueTracker=RM(t))}function aP(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=sP(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function qf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Uy(t,e){var n=e.checked;return yt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function _1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=gs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function oP(t,e){e=e.checked,e!=null&&Cx(t,"checked",e,!1)}function By(t,e){oP(t,e);var n=gs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?zy(t,e.type,n):e.hasOwnProperty("defaultValue")&&zy(t,e.type,gs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function S1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function zy(t,e,n){(e!=="number"||qf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ou=Array.isArray;function ho(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+gs(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function qy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ae(91));return yt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function E1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ae(92));if(ou(n)){if(1<n.length)throw Error(ae(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:gs(n)}}function lP(t,e){var n=gs(e.value),r=gs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function A1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function uP(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?uP(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var $d,cP=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for($d=$d||document.createElement("div"),$d.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=$d.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Fu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var xu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},DM=["Webkit","ms","Moz","O"];Object.keys(xu).forEach(function(t){DM.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),xu[e]=xu[t]})});function dP(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||xu.hasOwnProperty(t)&&xu[t]?(""+e).trim():e+"px"}function fP(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=dP(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var MM=yt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hy(t,e){if(e){if(MM[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ae(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ae(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ae(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ae(62))}}function Ky(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gy=null;function Mx(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qy=null,po=null,mo=null;function T1(t){if(t=Gc(t)){if(typeof Qy!="function")throw Error(ae(280));var e=t.stateNode;e&&(e=Cp(e),Qy(t.stateNode,t.type,e))}}function hP(t){po?mo?mo.push(t):mo=[t]:po=t}function pP(){if(po){var t=po,e=mo;if(mo=po=null,T1(t),e)for(t=0;t<e.length;t++)T1(e[t])}}function mP(t,e){return t(e)}function gP(){}var Ng=!1;function yP(t,e,n){if(Ng)return t(e,n);Ng=!0;try{return mP(t,e,n)}finally{Ng=!1,(po!==null||mo!==null)&&(gP(),pP())}}function Uu(t,e){var n=t.stateNode;if(n===null)return null;var r=Cp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ae(231,e,typeof n));return n}var Xy=!1;if(_i)try{var Bl={};Object.defineProperty(Bl,"passive",{get:function(){Xy=!0}}),window.addEventListener("test",Bl,Bl),window.removeEventListener("test",Bl,Bl)}catch{Xy=!1}function $M(t,e,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var bu=!1,Wf=null,Hf=!1,Yy=null,LM={onError:function(t){bu=!0,Wf=t}};function VM(t,e,n,r,i,s,a,o,l){bu=!1,Wf=null,$M.apply(LM,arguments)}function FM(t,e,n,r,i,s,a,o,l){if(VM.apply(this,arguments),bu){if(bu){var c=Wf;bu=!1,Wf=null}else throw Error(ae(198));Hf||(Hf=!0,Yy=c)}}function Aa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function vP(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function N1(t){if(Aa(t)!==t)throw Error(ae(188))}function UM(t){var e=t.alternate;if(!e){if(e=Aa(t),e===null)throw Error(ae(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return N1(i),t;if(s===r)return N1(i),e;s=s.sibling}throw Error(ae(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(ae(189))}}if(n.alternate!==r)throw Error(ae(190))}if(n.tag!==3)throw Error(ae(188));return n.stateNode.current===n?t:e}function xP(t){return t=UM(t),t!==null?bP(t):null}function bP(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=bP(t);if(e!==null)return e;t=t.sibling}return null}var wP=Kn.unstable_scheduleCallback,I1=Kn.unstable_cancelCallback,BM=Kn.unstable_shouldYield,zM=Kn.unstable_requestPaint,Pt=Kn.unstable_now,qM=Kn.unstable_getCurrentPriorityLevel,$x=Kn.unstable_ImmediatePriority,_P=Kn.unstable_UserBlockingPriority,Kf=Kn.unstable_NormalPriority,WM=Kn.unstable_LowPriority,SP=Kn.unstable_IdlePriority,Ip=null,Vr=null;function HM(t){if(Vr&&typeof Vr.onCommitFiberRoot=="function")try{Vr.onCommitFiberRoot(Ip,t,void 0,(t.current.flags&128)===128)}catch{}}var Er=Math.clz32?Math.clz32:QM,KM=Math.log,GM=Math.LN2;function QM(t){return t>>>=0,t===0?32:31-(KM(t)/GM|0)|0}var Ld=64,Vd=4194304;function lu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Gf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=lu(o):(s&=a,s!==0&&(r=lu(s)))}else a=n&~i,a!==0?r=lu(a):s!==0&&(r=lu(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Er(e),i=1<<n,r|=t[n],e&=~i;return r}function XM(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function YM(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Er(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=XM(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function Jy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function EP(){var t=Ld;return Ld<<=1,!(Ld&4194240)&&(Ld=64),t}function Ig(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Hc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Er(e),t[e]=n}function JM(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Er(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Lx(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Er(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ge=0;function AP(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var TP,Vx,NP,IP,PP,Zy=!1,Fd=[],rs=null,is=null,ss=null,Bu=new Map,zu=new Map,Gi=[],ZM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function P1(t,e){switch(t){case"focusin":case"focusout":rs=null;break;case"dragenter":case"dragleave":is=null;break;case"mouseover":case"mouseout":ss=null;break;case"pointerover":case"pointerout":Bu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":zu.delete(e.pointerId)}}function zl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Gc(e),e!==null&&Vx(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function e$(t,e,n,r,i){switch(e){case"focusin":return rs=zl(rs,t,e,n,r,i),!0;case"dragenter":return is=zl(is,t,e,n,r,i),!0;case"mouseover":return ss=zl(ss,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Bu.set(s,zl(Bu.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,zu.set(s,zl(zu.get(s)||null,t,e,n,r,i)),!0}return!1}function jP(t){var e=Xs(t.target);if(e!==null){var n=Aa(e);if(n!==null){if(e=n.tag,e===13){if(e=vP(n),e!==null){t.blockedOn=e,PP(t.priority,function(){NP(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _f(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ev(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Gy=r,n.target.dispatchEvent(r),Gy=null}else return e=Gc(n),e!==null&&Vx(e),t.blockedOn=n,!1;e.shift()}return!0}function j1(t,e,n){_f(t)&&n.delete(e)}function t$(){Zy=!1,rs!==null&&_f(rs)&&(rs=null),is!==null&&_f(is)&&(is=null),ss!==null&&_f(ss)&&(ss=null),Bu.forEach(j1),zu.forEach(j1)}function ql(t,e){t.blockedOn===e&&(t.blockedOn=null,Zy||(Zy=!0,Kn.unstable_scheduleCallback(Kn.unstable_NormalPriority,t$)))}function qu(t){function e(i){return ql(i,t)}if(0<Fd.length){ql(Fd[0],t);for(var n=1;n<Fd.length;n++){var r=Fd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(rs!==null&&ql(rs,t),is!==null&&ql(is,t),ss!==null&&ql(ss,t),Bu.forEach(e),zu.forEach(e),n=0;n<Gi.length;n++)r=Gi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Gi.length&&(n=Gi[0],n.blockedOn===null);)jP(n),n.blockedOn===null&&Gi.shift()}var go=Ri.ReactCurrentBatchConfig,Qf=!0;function n$(t,e,n,r){var i=Ge,s=go.transition;go.transition=null;try{Ge=1,Fx(t,e,n,r)}finally{Ge=i,go.transition=s}}function r$(t,e,n,r){var i=Ge,s=go.transition;go.transition=null;try{Ge=4,Fx(t,e,n,r)}finally{Ge=i,go.transition=s}}function Fx(t,e,n,r){if(Qf){var i=ev(t,e,n,r);if(i===null)Lg(t,e,r,Xf,n),P1(t,r);else if(e$(i,t,e,n,r))r.stopPropagation();else if(P1(t,r),e&4&&-1<ZM.indexOf(t)){for(;i!==null;){var s=Gc(i);if(s!==null&&TP(s),s=ev(t,e,n,r),s===null&&Lg(t,e,r,Xf,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Lg(t,e,r,null,n)}}var Xf=null;function ev(t,e,n,r){if(Xf=null,t=Mx(r),t=Xs(t),t!==null)if(e=Aa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=vP(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Xf=t,null}function OP(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qM()){case $x:return 1;case _P:return 4;case Kf:case WM:return 16;case SP:return 536870912;default:return 16}default:return 16}}var es=null,Ux=null,Sf=null;function CP(){if(Sf)return Sf;var t,e=Ux,n=e.length,r,i="value"in es?es.value:es.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return Sf=i.slice(t,1<r?1-r:void 0)}function Ef(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ud(){return!0}function O1(){return!1}function Qn(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ud:O1,this.isPropagationStopped=O1,this}return yt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ud)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ud)},persist:function(){},isPersistent:Ud}),e}var cl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bx=Qn(cl),Kc=yt({},cl,{view:0,detail:0}),i$=Qn(Kc),Pg,jg,Wl,Pp=yt({},Kc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zx,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wl&&(Wl&&t.type==="mousemove"?(Pg=t.screenX-Wl.screenX,jg=t.screenY-Wl.screenY):jg=Pg=0,Wl=t),Pg)},movementY:function(t){return"movementY"in t?t.movementY:jg}}),C1=Qn(Pp),s$=yt({},Pp,{dataTransfer:0}),a$=Qn(s$),o$=yt({},Kc,{relatedTarget:0}),Og=Qn(o$),l$=yt({},cl,{animationName:0,elapsedTime:0,pseudoElement:0}),u$=Qn(l$),c$=yt({},cl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),d$=Qn(c$),f$=yt({},cl,{data:0}),k1=Qn(f$),h$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},p$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},m$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function g$(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=m$[t])?!!e[t]:!1}function zx(){return g$}var y$=yt({},Kc,{key:function(t){if(t.key){var e=h$[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ef(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?p$[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zx,charCode:function(t){return t.type==="keypress"?Ef(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ef(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),v$=Qn(y$),x$=yt({},Pp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),R1=Qn(x$),b$=yt({},Kc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zx}),w$=Qn(b$),_$=yt({},cl,{propertyName:0,elapsedTime:0,pseudoElement:0}),S$=Qn(_$),E$=yt({},Pp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),A$=Qn(E$),T$=[9,13,27,32],qx=_i&&"CompositionEvent"in window,wu=null;_i&&"documentMode"in document&&(wu=document.documentMode);var N$=_i&&"TextEvent"in window&&!wu,kP=_i&&(!qx||wu&&8<wu&&11>=wu),D1=" ",M1=!1;function RP(t,e){switch(t){case"keyup":return T$.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function DP(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xa=!1;function I$(t,e){switch(t){case"compositionend":return DP(e);case"keypress":return e.which!==32?null:(M1=!0,D1);case"textInput":return t=e.data,t===D1&&M1?null:t;default:return null}}function P$(t,e){if(Xa)return t==="compositionend"||!qx&&RP(t,e)?(t=CP(),Sf=Ux=es=null,Xa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return kP&&e.locale!=="ko"?null:e.data;default:return null}}var j$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!j$[t.type]:e==="textarea"}function MP(t,e,n,r){hP(r),e=Yf(e,"onChange"),0<e.length&&(n=new Bx("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var _u=null,Wu=null;function O$(t){KP(t,0)}function jp(t){var e=Za(t);if(aP(e))return t}function C$(t,e){if(t==="change")return e}var $P=!1;if(_i){var Cg;if(_i){var kg="oninput"in document;if(!kg){var L1=document.createElement("div");L1.setAttribute("oninput","return;"),kg=typeof L1.oninput=="function"}Cg=kg}else Cg=!1;$P=Cg&&(!document.documentMode||9<document.documentMode)}function V1(){_u&&(_u.detachEvent("onpropertychange",LP),Wu=_u=null)}function LP(t){if(t.propertyName==="value"&&jp(Wu)){var e=[];MP(e,Wu,t,Mx(t)),yP(O$,e)}}function k$(t,e,n){t==="focusin"?(V1(),_u=e,Wu=n,_u.attachEvent("onpropertychange",LP)):t==="focusout"&&V1()}function R$(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return jp(Wu)}function D$(t,e){if(t==="click")return jp(e)}function M$(t,e){if(t==="input"||t==="change")return jp(e)}function $$(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Nr=typeof Object.is=="function"?Object.is:$$;function Hu(t,e){if(Nr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!My.call(e,i)||!Nr(t[i],e[i]))return!1}return!0}function F1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function U1(t,e){var n=F1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=F1(n)}}function VP(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?VP(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function FP(){for(var t=window,e=qf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=qf(t.document)}return e}function Wx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function L$(t){var e=FP(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&VP(n.ownerDocument.documentElement,n)){if(r!==null&&Wx(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=U1(n,s);var a=U1(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var V$=_i&&"documentMode"in document&&11>=document.documentMode,Ya=null,tv=null,Su=null,nv=!1;function B1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;nv||Ya==null||Ya!==qf(r)||(r=Ya,"selectionStart"in r&&Wx(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Su&&Hu(Su,r)||(Su=r,r=Yf(tv,"onSelect"),0<r.length&&(e=new Bx("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ya)))}function Bd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ja={animationend:Bd("Animation","AnimationEnd"),animationiteration:Bd("Animation","AnimationIteration"),animationstart:Bd("Animation","AnimationStart"),transitionend:Bd("Transition","TransitionEnd")},Rg={},UP={};_i&&(UP=document.createElement("div").style,"AnimationEvent"in window||(delete Ja.animationend.animation,delete Ja.animationiteration.animation,delete Ja.animationstart.animation),"TransitionEvent"in window||delete Ja.transitionend.transition);function Op(t){if(Rg[t])return Rg[t];if(!Ja[t])return t;var e=Ja[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in UP)return Rg[t]=e[n];return t}var BP=Op("animationend"),zP=Op("animationiteration"),qP=Op("animationstart"),WP=Op("transitionend"),HP=new Map,z1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Es(t,e){HP.set(t,e),Ea(e,[t])}for(var Dg=0;Dg<z1.length;Dg++){var Mg=z1[Dg],F$=Mg.toLowerCase(),U$=Mg[0].toUpperCase()+Mg.slice(1);Es(F$,"on"+U$)}Es(BP,"onAnimationEnd");Es(zP,"onAnimationIteration");Es(qP,"onAnimationStart");Es("dblclick","onDoubleClick");Es("focusin","onFocus");Es("focusout","onBlur");Es(WP,"onTransitionEnd");To("onMouseEnter",["mouseout","mouseover"]);To("onMouseLeave",["mouseout","mouseover"]);To("onPointerEnter",["pointerout","pointerover"]);To("onPointerLeave",["pointerout","pointerover"]);Ea("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ea("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ea("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ea("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ea("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ea("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),B$=new Set("cancel close invalid load scroll toggle".split(" ").concat(uu));function q1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,FM(r,e,void 0,t),t.currentTarget=null}function KP(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;q1(i,o,c),s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;q1(i,o,c),s=l}}}if(Hf)throw t=Yy,Hf=!1,Yy=null,t}function at(t,e){var n=e[ov];n===void 0&&(n=e[ov]=new Set);var r=t+"__bubble";n.has(r)||(GP(e,t,2,!1),n.add(r))}function $g(t,e,n){var r=0;e&&(r|=4),GP(n,t,r,e)}var zd="_reactListening"+Math.random().toString(36).slice(2);function Ku(t){if(!t[zd]){t[zd]=!0,tP.forEach(function(n){n!=="selectionchange"&&(B$.has(n)||$g(n,!1,t),$g(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[zd]||(e[zd]=!0,$g("selectionchange",!1,e))}}function GP(t,e,n,r){switch(OP(e)){case 1:var i=n$;break;case 4:i=r$;break;default:i=Fx}n=i.bind(null,e,n,t),i=void 0,!Xy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Lg(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Xs(o),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}o=o.parentNode}}r=r.return}yP(function(){var c=s,f=Mx(n),h=[];e:{var p=HP.get(t);if(p!==void 0){var m=Bx,g=t;switch(t){case"keypress":if(Ef(n)===0)break e;case"keydown":case"keyup":m=v$;break;case"focusin":g="focus",m=Og;break;case"focusout":g="blur",m=Og;break;case"beforeblur":case"afterblur":m=Og;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=C1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=a$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=w$;break;case BP:case zP:case qP:m=u$;break;case WP:m=S$;break;case"scroll":m=i$;break;case"wheel":m=A$;break;case"copy":case"cut":case"paste":m=d$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=R1}var w=(e&4)!==0,_=!w&&t==="scroll",b=w?p!==null?p+"Capture":null:p;w=[];for(var v=c,x;v!==null;){x=v;var P=x.stateNode;if(x.tag===5&&P!==null&&(x=P,b!==null&&(P=Uu(v,b),P!=null&&w.push(Gu(v,P,x)))),_)break;v=v.return}0<w.length&&(p=new m(p,g,null,n,f),h.push({event:p,listeners:w}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==Gy&&(g=n.relatedTarget||n.fromElement)&&(Xs(g)||g[Si]))break e;if((m||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=c,g=g?Xs(g):null,g!==null&&(_=Aa(g),g!==_||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=c),m!==g)){if(w=C1,P="onMouseLeave",b="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(w=R1,P="onPointerLeave",b="onPointerEnter",v="pointer"),_=m==null?p:Za(m),x=g==null?p:Za(g),p=new w(P,v+"leave",m,n,f),p.target=_,p.relatedTarget=x,P=null,Xs(f)===c&&(w=new w(b,v+"enter",g,n,f),w.target=x,w.relatedTarget=_,P=w),_=P,m&&g)t:{for(w=m,b=g,v=0,x=w;x;x=Va(x))v++;for(x=0,P=b;P;P=Va(P))x++;for(;0<v-x;)w=Va(w),v--;for(;0<x-v;)b=Va(b),x--;for(;v--;){if(w===b||b!==null&&w===b.alternate)break t;w=Va(w),b=Va(b)}w=null}else w=null;m!==null&&W1(h,p,m,w,!1),g!==null&&_!==null&&W1(h,_,g,w,!0)}}e:{if(p=c?Za(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var A=C$;else if($1(p))if($P)A=M$;else{A=R$;var N=k$}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(A=D$);if(A&&(A=A(t,c))){MP(h,A,n,f);break e}N&&N(t,p,c),t==="focusout"&&(N=p._wrapperState)&&N.controlled&&p.type==="number"&&zy(p,"number",p.value)}switch(N=c?Za(c):window,t){case"focusin":($1(N)||N.contentEditable==="true")&&(Ya=N,tv=c,Su=null);break;case"focusout":Su=tv=Ya=null;break;case"mousedown":nv=!0;break;case"contextmenu":case"mouseup":case"dragend":nv=!1,B1(h,n,f);break;case"selectionchange":if(V$)break;case"keydown":case"keyup":B1(h,n,f)}var E;if(qx)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Xa?RP(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(kP&&n.locale!=="ko"&&(Xa||S!=="onCompositionStart"?S==="onCompositionEnd"&&Xa&&(E=CP()):(es=f,Ux="value"in es?es.value:es.textContent,Xa=!0)),N=Yf(c,S),0<N.length&&(S=new k1(S,t,null,n,f),h.push({event:S,listeners:N}),E?S.data=E:(E=DP(n),E!==null&&(S.data=E)))),(E=N$?I$(t,n):P$(t,n))&&(c=Yf(c,"onBeforeInput"),0<c.length&&(f=new k1("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:c}),f.data=E))}KP(h,e)})}function Gu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Yf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Uu(t,n),s!=null&&r.unshift(Gu(t,s,i)),s=Uu(t,e),s!=null&&r.push(Gu(t,s,i))),t=t.return}return r}function Va(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function W1(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,i?(l=Uu(n,s),l!=null&&a.unshift(Gu(n,l,o))):i||(l=Uu(n,s),l!=null&&a.push(Gu(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var z$=/\r\n?/g,q$=/\u0000|\uFFFD/g;function H1(t){return(typeof t=="string"?t:""+t).replace(z$,`
`).replace(q$,"")}function qd(t,e,n){if(e=H1(e),H1(t)!==e&&n)throw Error(ae(425))}function Jf(){}var rv=null,iv=null;function sv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var av=typeof setTimeout=="function"?setTimeout:void 0,W$=typeof clearTimeout=="function"?clearTimeout:void 0,K1=typeof Promise=="function"?Promise:void 0,H$=typeof queueMicrotask=="function"?queueMicrotask:typeof K1<"u"?function(t){return K1.resolve(null).then(t).catch(K$)}:av;function K$(t){setTimeout(function(){throw t})}function Vg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),qu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);qu(e)}function as(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function G1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var dl=Math.random().toString(36).slice(2),Dr="__reactFiber$"+dl,Qu="__reactProps$"+dl,Si="__reactContainer$"+dl,ov="__reactEvents$"+dl,G$="__reactListeners$"+dl,Q$="__reactHandles$"+dl;function Xs(t){var e=t[Dr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Si]||n[Dr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=G1(t);t!==null;){if(n=t[Dr])return n;t=G1(t)}return e}t=n,n=t.parentNode}return null}function Gc(t){return t=t[Dr]||t[Si],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Za(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ae(33))}function Cp(t){return t[Qu]||null}var lv=[],eo=-1;function As(t){return{current:t}}function ct(t){0>eo||(t.current=lv[eo],lv[eo]=null,eo--)}function rt(t,e){eo++,lv[eo]=t.current,t.current=e}var ys={},gn=As(ys),kn=As(!1),fa=ys;function No(t,e){var n=t.type.contextTypes;if(!n)return ys;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Rn(t){return t=t.childContextTypes,t!=null}function Zf(){ct(kn),ct(gn)}function Q1(t,e,n){if(gn.current!==ys)throw Error(ae(168));rt(gn,e),rt(kn,n)}function QP(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ae(108,kM(t)||"Unknown",i));return yt({},n,r)}function eh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ys,fa=gn.current,rt(gn,t),rt(kn,kn.current),!0}function X1(t,e,n){var r=t.stateNode;if(!r)throw Error(ae(169));n?(t=QP(t,e,fa),r.__reactInternalMemoizedMergedChildContext=t,ct(kn),ct(gn),rt(gn,t)):ct(kn),rt(kn,n)}var oi=null,kp=!1,Fg=!1;function XP(t){oi===null?oi=[t]:oi.push(t)}function X$(t){kp=!0,XP(t)}function Ts(){if(!Fg&&oi!==null){Fg=!0;var t=0,e=Ge;try{var n=oi;for(Ge=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}oi=null,kp=!1}catch(i){throw oi!==null&&(oi=oi.slice(t+1)),wP($x,Ts),i}finally{Ge=e,Fg=!1}}return null}var to=[],no=0,th=null,nh=0,tr=[],nr=0,ha=null,li=1,ui="";function Bs(t,e){to[no++]=nh,to[no++]=th,th=t,nh=e}function YP(t,e,n){tr[nr++]=li,tr[nr++]=ui,tr[nr++]=ha,ha=t;var r=li;t=ui;var i=32-Er(r)-1;r&=~(1<<i),n+=1;var s=32-Er(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,li=1<<32-Er(e)+i|n<<i|r,ui=s+t}else li=1<<s|n<<i|r,ui=t}function Hx(t){t.return!==null&&(Bs(t,1),YP(t,1,0))}function Kx(t){for(;t===th;)th=to[--no],to[no]=null,nh=to[--no],to[no]=null;for(;t===ha;)ha=tr[--nr],tr[nr]=null,ui=tr[--nr],tr[nr]=null,li=tr[--nr],tr[nr]=null}var Wn=null,zn=null,ft=!1,wr=null;function JP(t,e){var n=ir(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Y1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Wn=t,zn=as(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Wn=t,zn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ha!==null?{id:li,overflow:ui}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ir(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Wn=t,zn=null,!0):!1;default:return!1}}function uv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function cv(t){if(ft){var e=zn;if(e){var n=e;if(!Y1(t,e)){if(uv(t))throw Error(ae(418));e=as(n.nextSibling);var r=Wn;e&&Y1(t,e)?JP(r,n):(t.flags=t.flags&-4097|2,ft=!1,Wn=t)}}else{if(uv(t))throw Error(ae(418));t.flags=t.flags&-4097|2,ft=!1,Wn=t}}}function J1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Wn=t}function Wd(t){if(t!==Wn)return!1;if(!ft)return J1(t),ft=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!sv(t.type,t.memoizedProps)),e&&(e=zn)){if(uv(t))throw ZP(),Error(ae(418));for(;e;)JP(t,e),e=as(e.nextSibling)}if(J1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ae(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){zn=as(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}zn=null}}else zn=Wn?as(t.stateNode.nextSibling):null;return!0}function ZP(){for(var t=zn;t;)t=as(t.nextSibling)}function Io(){zn=Wn=null,ft=!1}function Gx(t){wr===null?wr=[t]:wr.push(t)}var Y$=Ri.ReactCurrentBatchConfig;function Hl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ae(309));var r=n.stateNode}if(!r)throw Error(ae(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(ae(284));if(!n._owner)throw Error(ae(290,t))}return t}function Hd(t,e){throw t=Object.prototype.toString.call(e),Error(ae(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Z1(t){var e=t._init;return e(t._payload)}function ej(t){function e(b,v){if(t){var x=b.deletions;x===null?(b.deletions=[v],b.flags|=16):x.push(v)}}function n(b,v){if(!t)return null;for(;v!==null;)e(b,v),v=v.sibling;return null}function r(b,v){for(b=new Map;v!==null;)v.key!==null?b.set(v.key,v):b.set(v.index,v),v=v.sibling;return b}function i(b,v){return b=cs(b,v),b.index=0,b.sibling=null,b}function s(b,v,x){return b.index=x,t?(x=b.alternate,x!==null?(x=x.index,x<v?(b.flags|=2,v):x):(b.flags|=2,v)):(b.flags|=1048576,v)}function a(b){return t&&b.alternate===null&&(b.flags|=2),b}function o(b,v,x,P){return v===null||v.tag!==6?(v=Kg(x,b.mode,P),v.return=b,v):(v=i(v,x),v.return=b,v)}function l(b,v,x,P){var A=x.type;return A===Qa?f(b,v,x.props.children,P,x.key):v!==null&&(v.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Wi&&Z1(A)===v.type)?(P=i(v,x.props),P.ref=Hl(b,v,x),P.return=b,P):(P=Of(x.type,x.key,x.props,null,b.mode,P),P.ref=Hl(b,v,x),P.return=b,P)}function c(b,v,x,P){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=Gg(x,b.mode,P),v.return=b,v):(v=i(v,x.children||[]),v.return=b,v)}function f(b,v,x,P,A){return v===null||v.tag!==7?(v=ia(x,b.mode,P,A),v.return=b,v):(v=i(v,x),v.return=b,v)}function h(b,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Kg(""+v,b.mode,x),v.return=b,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Dd:return x=Of(v.type,v.key,v.props,null,b.mode,x),x.ref=Hl(b,null,v),x.return=b,x;case Ga:return v=Gg(v,b.mode,x),v.return=b,v;case Wi:var P=v._init;return h(b,P(v._payload),x)}if(ou(v)||Ul(v))return v=ia(v,b.mode,x,null),v.return=b,v;Hd(b,v)}return null}function p(b,v,x,P){var A=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return A!==null?null:o(b,v,""+x,P);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Dd:return x.key===A?l(b,v,x,P):null;case Ga:return x.key===A?c(b,v,x,P):null;case Wi:return A=x._init,p(b,v,A(x._payload),P)}if(ou(x)||Ul(x))return A!==null?null:f(b,v,x,P,null);Hd(b,x)}return null}function m(b,v,x,P,A){if(typeof P=="string"&&P!==""||typeof P=="number")return b=b.get(x)||null,o(v,b,""+P,A);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Dd:return b=b.get(P.key===null?x:P.key)||null,l(v,b,P,A);case Ga:return b=b.get(P.key===null?x:P.key)||null,c(v,b,P,A);case Wi:var N=P._init;return m(b,v,x,N(P._payload),A)}if(ou(P)||Ul(P))return b=b.get(x)||null,f(v,b,P,A,null);Hd(v,P)}return null}function g(b,v,x,P){for(var A=null,N=null,E=v,S=v=0,I=null;E!==null&&S<x.length;S++){E.index>S?(I=E,E=null):I=E.sibling;var C=p(b,E,x[S],P);if(C===null){E===null&&(E=I);break}t&&E&&C.alternate===null&&e(b,E),v=s(C,v,S),N===null?A=C:N.sibling=C,N=C,E=I}if(S===x.length)return n(b,E),ft&&Bs(b,S),A;if(E===null){for(;S<x.length;S++)E=h(b,x[S],P),E!==null&&(v=s(E,v,S),N===null?A=E:N.sibling=E,N=E);return ft&&Bs(b,S),A}for(E=r(b,E);S<x.length;S++)I=m(E,b,S,x[S],P),I!==null&&(t&&I.alternate!==null&&E.delete(I.key===null?S:I.key),v=s(I,v,S),N===null?A=I:N.sibling=I,N=I);return t&&E.forEach(function(k){return e(b,k)}),ft&&Bs(b,S),A}function w(b,v,x,P){var A=Ul(x);if(typeof A!="function")throw Error(ae(150));if(x=A.call(x),x==null)throw Error(ae(151));for(var N=A=null,E=v,S=v=0,I=null,C=x.next();E!==null&&!C.done;S++,C=x.next()){E.index>S?(I=E,E=null):I=E.sibling;var k=p(b,E,C.value,P);if(k===null){E===null&&(E=I);break}t&&E&&k.alternate===null&&e(b,E),v=s(k,v,S),N===null?A=k:N.sibling=k,N=k,E=I}if(C.done)return n(b,E),ft&&Bs(b,S),A;if(E===null){for(;!C.done;S++,C=x.next())C=h(b,C.value,P),C!==null&&(v=s(C,v,S),N===null?A=C:N.sibling=C,N=C);return ft&&Bs(b,S),A}for(E=r(b,E);!C.done;S++,C=x.next())C=m(E,b,S,C.value,P),C!==null&&(t&&C.alternate!==null&&E.delete(C.key===null?S:C.key),v=s(C,v,S),N===null?A=C:N.sibling=C,N=C);return t&&E.forEach(function(j){return e(b,j)}),ft&&Bs(b,S),A}function _(b,v,x,P){if(typeof x=="object"&&x!==null&&x.type===Qa&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Dd:e:{for(var A=x.key,N=v;N!==null;){if(N.key===A){if(A=x.type,A===Qa){if(N.tag===7){n(b,N.sibling),v=i(N,x.props.children),v.return=b,b=v;break e}}else if(N.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Wi&&Z1(A)===N.type){n(b,N.sibling),v=i(N,x.props),v.ref=Hl(b,N,x),v.return=b,b=v;break e}n(b,N);break}else e(b,N);N=N.sibling}x.type===Qa?(v=ia(x.props.children,b.mode,P,x.key),v.return=b,b=v):(P=Of(x.type,x.key,x.props,null,b.mode,P),P.ref=Hl(b,v,x),P.return=b,b=P)}return a(b);case Ga:e:{for(N=x.key;v!==null;){if(v.key===N)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){n(b,v.sibling),v=i(v,x.children||[]),v.return=b,b=v;break e}else{n(b,v);break}else e(b,v);v=v.sibling}v=Gg(x,b.mode,P),v.return=b,b=v}return a(b);case Wi:return N=x._init,_(b,v,N(x._payload),P)}if(ou(x))return g(b,v,x,P);if(Ul(x))return w(b,v,x,P);Hd(b,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(n(b,v.sibling),v=i(v,x),v.return=b,b=v):(n(b,v),v=Kg(x,b.mode,P),v.return=b,b=v),a(b)):n(b,v)}return _}var Po=ej(!0),tj=ej(!1),rh=As(null),ih=null,ro=null,Qx=null;function Xx(){Qx=ro=ih=null}function Yx(t){var e=rh.current;ct(rh),t._currentValue=e}function dv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function yo(t,e){ih=t,Qx=ro=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Pn=!0),t.firstContext=null)}function ur(t){var e=t._currentValue;if(Qx!==t)if(t={context:t,memoizedValue:e,next:null},ro===null){if(ih===null)throw Error(ae(308));ro=t,ih.dependencies={lanes:0,firstContext:t}}else ro=ro.next=t;return e}var Ys=null;function Jx(t){Ys===null?Ys=[t]:Ys.push(t)}function nj(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Jx(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ei(t,r)}function Ei(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Hi=!1;function Zx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rj(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function os(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Be&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ei(t,n)}return i=r.interleaved,i===null?(e.next=e,Jx(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ei(t,n)}function Af(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Lx(t,n)}}function eS(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function sh(t,e,n,r){var i=t.updateQueue;Hi=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var f=t.alternate;f!==null&&(f=f.updateQueue,o=f.lastBaseUpdate,o!==a&&(o===null?f.firstBaseUpdate=c:o.next=c,f.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;a=0,f=c=l=null,o=s;do{var p=o.lane,m=o.eventTime;if((r&p)===p){f!==null&&(f=f.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=t,w=o;switch(p=e,m=n,w.tag){case 1:if(g=w.payload,typeof g=="function"){h=g.call(m,h,p);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=w.payload,p=typeof g=="function"?g.call(m,h,p):g,p==null)break e;h=yt({},h,p);break e;case 2:Hi=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[o]:p.push(o))}else m={eventTime:m,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},f===null?(c=f=m,l=h):f=f.next=m,a|=p;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;p=o,o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(f===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ma|=a,t.lanes=a,t.memoizedState=h}}function tS(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ae(191,i));i.call(r)}}}var Qc={},Fr=As(Qc),Xu=As(Qc),Yu=As(Qc);function Js(t){if(t===Qc)throw Error(ae(174));return t}function eb(t,e){switch(rt(Yu,e),rt(Xu,t),rt(Fr,Qc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Wy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Wy(e,t)}ct(Fr),rt(Fr,e)}function jo(){ct(Fr),ct(Xu),ct(Yu)}function ij(t){Js(Yu.current);var e=Js(Fr.current),n=Wy(e,t.type);e!==n&&(rt(Xu,t),rt(Fr,n))}function tb(t){Xu.current===t&&(ct(Fr),ct(Xu))}var mt=As(0);function ah(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ug=[];function nb(){for(var t=0;t<Ug.length;t++)Ug[t]._workInProgressVersionPrimary=null;Ug.length=0}var Tf=Ri.ReactCurrentDispatcher,Bg=Ri.ReactCurrentBatchConfig,pa=0,gt=null,$t=null,Wt=null,oh=!1,Eu=!1,Ju=0,J$=0;function ln(){throw Error(ae(321))}function rb(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Nr(t[n],e[n]))return!1;return!0}function ib(t,e,n,r,i,s){if(pa=s,gt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Tf.current=t===null||t.memoizedState===null?n4:r4,t=n(r,i),Eu){s=0;do{if(Eu=!1,Ju=0,25<=s)throw Error(ae(301));s+=1,Wt=$t=null,e.updateQueue=null,Tf.current=i4,t=n(r,i)}while(Eu)}if(Tf.current=lh,e=$t!==null&&$t.next!==null,pa=0,Wt=$t=gt=null,oh=!1,e)throw Error(ae(300));return t}function sb(){var t=Ju!==0;return Ju=0,t}function kr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?gt.memoizedState=Wt=t:Wt=Wt.next=t,Wt}function cr(){if($t===null){var t=gt.alternate;t=t!==null?t.memoizedState:null}else t=$t.next;var e=Wt===null?gt.memoizedState:Wt.next;if(e!==null)Wt=e,$t=t;else{if(t===null)throw Error(ae(310));$t=t,t={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Wt===null?gt.memoizedState=Wt=t:Wt=Wt.next=t}return Wt}function Zu(t,e){return typeof e=="function"?e(t):e}function zg(t){var e=cr(),n=e.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=t;var r=$t,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,l=null,c=s;do{var f=c.lane;if((pa&f)===f)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=h,a=r):l=l.next=h,gt.lanes|=f,ma|=f}c=c.next}while(c!==null&&c!==s);l===null?a=r:l.next=o,Nr(r,e.memoizedState)||(Pn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,gt.lanes|=s,ma|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function qg(t){var e=cr(),n=e.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Nr(s,e.memoizedState)||(Pn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function sj(){}function aj(t,e){var n=gt,r=cr(),i=e(),s=!Nr(r.memoizedState,i);if(s&&(r.memoizedState=i,Pn=!0),r=r.queue,ab(uj.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Wt!==null&&Wt.memoizedState.tag&1){if(n.flags|=2048,ec(9,lj.bind(null,n,r,i,e),void 0,null),Ht===null)throw Error(ae(349));pa&30||oj(n,e,i)}return i}function oj(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function lj(t,e,n,r){e.value=n,e.getSnapshot=r,cj(e)&&dj(t)}function uj(t,e,n){return n(function(){cj(e)&&dj(t)})}function cj(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Nr(t,n)}catch{return!0}}function dj(t){var e=Ei(t,1);e!==null&&Ar(e,t,1,-1)}function nS(t){var e=kr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zu,lastRenderedState:t},e.queue=t,t=t.dispatch=t4.bind(null,gt,t),[e.memoizedState,t]}function ec(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function fj(){return cr().memoizedState}function Nf(t,e,n,r){var i=kr();gt.flags|=t,i.memoizedState=ec(1|e,n,void 0,r===void 0?null:r)}function Rp(t,e,n,r){var i=cr();r=r===void 0?null:r;var s=void 0;if($t!==null){var a=$t.memoizedState;if(s=a.destroy,r!==null&&rb(r,a.deps)){i.memoizedState=ec(e,n,s,r);return}}gt.flags|=t,i.memoizedState=ec(1|e,n,s,r)}function rS(t,e){return Nf(8390656,8,t,e)}function ab(t,e){return Rp(2048,8,t,e)}function hj(t,e){return Rp(4,2,t,e)}function pj(t,e){return Rp(4,4,t,e)}function mj(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function gj(t,e,n){return n=n!=null?n.concat([t]):null,Rp(4,4,mj.bind(null,e,t),n)}function ob(){}function yj(t,e){var n=cr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&rb(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function vj(t,e){var n=cr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&rb(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function xj(t,e,n){return pa&21?(Nr(n,e)||(n=EP(),gt.lanes|=n,ma|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Pn=!0),t.memoizedState=n)}function Z$(t,e){var n=Ge;Ge=n!==0&&4>n?n:4,t(!0);var r=Bg.transition;Bg.transition={};try{t(!1),e()}finally{Ge=n,Bg.transition=r}}function bj(){return cr().memoizedState}function e4(t,e,n){var r=us(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},wj(t))_j(e,n);else if(n=nj(t,e,n,r),n!==null){var i=Sn();Ar(n,t,r,i),Sj(n,e,r)}}function t4(t,e,n){var r=us(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(wj(t))_j(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Nr(o,a)){var l=e.interleaved;l===null?(i.next=i,Jx(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=nj(t,e,i,r),n!==null&&(i=Sn(),Ar(n,t,r,i),Sj(n,e,r))}}function wj(t){var e=t.alternate;return t===gt||e!==null&&e===gt}function _j(t,e){Eu=oh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Sj(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Lx(t,n)}}var lh={readContext:ur,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useInsertionEffect:ln,useLayoutEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useMutableSource:ln,useSyncExternalStore:ln,useId:ln,unstable_isNewReconciler:!1},n4={readContext:ur,useCallback:function(t,e){return kr().memoizedState=[t,e===void 0?null:e],t},useContext:ur,useEffect:rS,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Nf(4194308,4,mj.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Nf(4194308,4,t,e)},useInsertionEffect:function(t,e){return Nf(4,2,t,e)},useMemo:function(t,e){var n=kr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=kr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=e4.bind(null,gt,t),[r.memoizedState,t]},useRef:function(t){var e=kr();return t={current:t},e.memoizedState=t},useState:nS,useDebugValue:ob,useDeferredValue:function(t){return kr().memoizedState=t},useTransition:function(){var t=nS(!1),e=t[0];return t=Z$.bind(null,t[1]),kr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=gt,i=kr();if(ft){if(n===void 0)throw Error(ae(407));n=n()}else{if(n=e(),Ht===null)throw Error(ae(349));pa&30||oj(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,rS(uj.bind(null,r,s,t),[t]),r.flags|=2048,ec(9,lj.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=kr(),e=Ht.identifierPrefix;if(ft){var n=ui,r=li;n=(r&~(1<<32-Er(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ju++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=J$++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},r4={readContext:ur,useCallback:yj,useContext:ur,useEffect:ab,useImperativeHandle:gj,useInsertionEffect:hj,useLayoutEffect:pj,useMemo:vj,useReducer:zg,useRef:fj,useState:function(){return zg(Zu)},useDebugValue:ob,useDeferredValue:function(t){var e=cr();return xj(e,$t.memoizedState,t)},useTransition:function(){var t=zg(Zu)[0],e=cr().memoizedState;return[t,e]},useMutableSource:sj,useSyncExternalStore:aj,useId:bj,unstable_isNewReconciler:!1},i4={readContext:ur,useCallback:yj,useContext:ur,useEffect:ab,useImperativeHandle:gj,useInsertionEffect:hj,useLayoutEffect:pj,useMemo:vj,useReducer:qg,useRef:fj,useState:function(){return qg(Zu)},useDebugValue:ob,useDeferredValue:function(t){var e=cr();return $t===null?e.memoizedState=t:xj(e,$t.memoizedState,t)},useTransition:function(){var t=qg(Zu)[0],e=cr().memoizedState;return[t,e]},useMutableSource:sj,useSyncExternalStore:aj,useId:bj,unstable_isNewReconciler:!1};function xr(t,e){if(t&&t.defaultProps){e=yt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function fv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:yt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Dp={isMounted:function(t){return(t=t._reactInternals)?Aa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Sn(),i=us(t),s=gi(r,i);s.payload=e,n!=null&&(s.callback=n),e=os(t,s,i),e!==null&&(Ar(e,t,i,r),Af(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Sn(),i=us(t),s=gi(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=os(t,s,i),e!==null&&(Ar(e,t,i,r),Af(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Sn(),r=us(t),i=gi(n,r);i.tag=2,e!=null&&(i.callback=e),e=os(t,i,r),e!==null&&(Ar(e,t,r,n),Af(e,t,r))}};function iS(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!Hu(n,r)||!Hu(i,s):!0}function Ej(t,e,n){var r=!1,i=ys,s=e.contextType;return typeof s=="object"&&s!==null?s=ur(s):(i=Rn(e)?fa:gn.current,r=e.contextTypes,s=(r=r!=null)?No(t,i):ys),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Dp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function sS(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Dp.enqueueReplaceState(e,e.state,null)}function hv(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Zx(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ur(s):(s=Rn(e)?fa:gn.current,i.context=No(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(fv(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Dp.enqueueReplaceState(i,i.state,null),sh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Oo(t,e){try{var n="",r=e;do n+=CM(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Wg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function pv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var s4=typeof WeakMap=="function"?WeakMap:Map;function Aj(t,e,n){n=gi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ch||(ch=!0,Ev=r),pv(t,e)},n}function Tj(t,e,n){n=gi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){pv(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){pv(t,e),typeof r!="function"&&(ls===null?ls=new Set([this]):ls.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function aS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new s4;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=x4.bind(null,t,e,n),e.then(t,t))}function oS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function lS(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=gi(-1,1),e.tag=2,os(n,e,1))),n.lanes|=1),t)}var a4=Ri.ReactCurrentOwner,Pn=!1;function bn(t,e,n,r){e.child=t===null?tj(e,null,n,r):Po(e,t.child,n,r)}function uS(t,e,n,r,i){n=n.render;var s=e.ref;return yo(e,i),r=ib(t,e,n,r,s,i),n=sb(),t!==null&&!Pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ai(t,e,i)):(ft&&n&&Hx(e),e.flags|=1,bn(t,e,r,i),e.child)}function cS(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!mb(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Nj(t,e,s,r,i)):(t=Of(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Hu,n(a,r)&&t.ref===e.ref)return Ai(t,e,i)}return e.flags|=1,t=cs(s,r),t.ref=e.ref,t.return=e,e.child=t}function Nj(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Hu(s,r)&&t.ref===e.ref)if(Pn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Pn=!0);else return e.lanes=t.lanes,Ai(t,e,i)}return mv(t,e,n,r,i)}function Ij(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(so,Fn),Fn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,rt(so,Fn),Fn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,rt(so,Fn),Fn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,rt(so,Fn),Fn|=r;return bn(t,e,i,n),e.child}function Pj(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function mv(t,e,n,r,i){var s=Rn(n)?fa:gn.current;return s=No(e,s),yo(e,i),n=ib(t,e,n,r,s,i),r=sb(),t!==null&&!Pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ai(t,e,i)):(ft&&r&&Hx(e),e.flags|=1,bn(t,e,n,i),e.child)}function dS(t,e,n,r,i){if(Rn(n)){var s=!0;eh(e)}else s=!1;if(yo(e,i),e.stateNode===null)If(t,e),Ej(e,n,r),hv(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=ur(c):(c=Rn(n)?fa:gn.current,c=No(e,c));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==c)&&sS(e,a,r,c),Hi=!1;var p=e.memoizedState;a.state=p,sh(e,r,a,i),l=e.memoizedState,o!==r||p!==l||kn.current||Hi?(typeof f=="function"&&(fv(e,n,f,r),l=e.memoizedState),(o=Hi||iS(e,n,o,r,p,l,c))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,rj(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:xr(e.type,o),a.props=c,h=e.pendingProps,p=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=ur(l):(l=Rn(n)?fa:gn.current,l=No(e,l));var m=n.getDerivedStateFromProps;(f=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||p!==l)&&sS(e,a,r,l),Hi=!1,p=e.memoizedState,a.state=p,sh(e,r,a,i);var g=e.memoizedState;o!==h||p!==g||kn.current||Hi?(typeof m=="function"&&(fv(e,n,m,r),g=e.memoizedState),(c=Hi||iS(e,n,c,r,p,g,l)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),a.props=r,a.state=g,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return gv(t,e,n,r,s,i)}function gv(t,e,n,r,i,s){Pj(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&X1(e,n,!1),Ai(t,e,s);r=e.stateNode,a4.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Po(e,t.child,null,s),e.child=Po(e,null,o,s)):bn(t,e,o,s),e.memoizedState=r.state,i&&X1(e,n,!0),e.child}function jj(t){var e=t.stateNode;e.pendingContext?Q1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Q1(t,e.context,!1),eb(t,e.containerInfo)}function fS(t,e,n,r,i){return Io(),Gx(i),e.flags|=256,bn(t,e,n,r),e.child}var yv={dehydrated:null,treeContext:null,retryLane:0};function vv(t){return{baseLanes:t,cachePool:null,transitions:null}}function Oj(t,e,n){var r=e.pendingProps,i=mt.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),rt(mt,i&1),t===null)return cv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Lp(a,r,0,null),t=ia(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=vv(n),e.memoizedState=yv,t):lb(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return o4(t,e,a,r,o,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=cs(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=cs(o,s):(s=ia(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?vv(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=yv,r}return s=t.child,t=s.sibling,r=cs(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function lb(t,e){return e=Lp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Kd(t,e,n,r){return r!==null&&Gx(r),Po(e,t.child,null,n),t=lb(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function o4(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=Wg(Error(ae(422))),Kd(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Lp({mode:"visible",children:r.children},i,0,null),s=ia(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Po(e,t.child,null,a),e.child.memoizedState=vv(a),e.memoizedState=yv,s);if(!(e.mode&1))return Kd(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(ae(419)),r=Wg(s,r,void 0),Kd(t,e,a,r)}if(o=(a&t.childLanes)!==0,Pn||o){if(r=Ht,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ei(t,i),Ar(r,t,i,-1))}return pb(),r=Wg(Error(ae(421))),Kd(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=b4.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,zn=as(i.nextSibling),Wn=e,ft=!0,wr=null,t!==null&&(tr[nr++]=li,tr[nr++]=ui,tr[nr++]=ha,li=t.id,ui=t.overflow,ha=e),e=lb(e,r.children),e.flags|=4096,e)}function hS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),dv(t.return,e,n)}function Hg(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Cj(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(bn(t,e,r.children,n),r=mt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&hS(t,n,e);else if(t.tag===19)hS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(rt(mt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ah(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Hg(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ah(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Hg(e,!0,n,null,s);break;case"together":Hg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function If(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ai(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ma|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ae(153));if(e.child!==null){for(t=e.child,n=cs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=cs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function l4(t,e,n){switch(e.tag){case 3:jj(e),Io();break;case 5:ij(e);break;case 1:Rn(e.type)&&eh(e);break;case 4:eb(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;rt(rh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(rt(mt,mt.current&1),e.flags|=128,null):n&e.child.childLanes?Oj(t,e,n):(rt(mt,mt.current&1),t=Ai(t,e,n),t!==null?t.sibling:null);rt(mt,mt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Cj(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),rt(mt,mt.current),r)break;return null;case 22:case 23:return e.lanes=0,Ij(t,e,n)}return Ai(t,e,n)}var kj,xv,Rj,Dj;kj=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};xv=function(){};Rj=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Js(Fr.current);var s=null;switch(n){case"input":i=Uy(t,i),r=Uy(t,r),s=[];break;case"select":i=yt({},i,{value:void 0}),r=yt({},r,{value:void 0}),s=[];break;case"textarea":i=qy(t,i),r=qy(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Jf)}Hy(n,r);var a;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Vu.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Vu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&at("scroll",t),s||o===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};Dj=function(t,e,n,r){n!==r&&(e.flags|=4)};function Kl(t,e){if(!ft)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function un(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function u4(t,e,n){var r=e.pendingProps;switch(Kx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return un(e),null;case 1:return Rn(e.type)&&Zf(),un(e),null;case 3:return r=e.stateNode,jo(),ct(kn),ct(gn),nb(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Wd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,wr!==null&&(Nv(wr),wr=null))),xv(t,e),un(e),null;case 5:tb(e);var i=Js(Yu.current);if(n=e.type,t!==null&&e.stateNode!=null)Rj(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ae(166));return un(e),null}if(t=Js(Fr.current),Wd(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Dr]=e,r[Qu]=s,t=(e.mode&1)!==0,n){case"dialog":at("cancel",r),at("close",r);break;case"iframe":case"object":case"embed":at("load",r);break;case"video":case"audio":for(i=0;i<uu.length;i++)at(uu[i],r);break;case"source":at("error",r);break;case"img":case"image":case"link":at("error",r),at("load",r);break;case"details":at("toggle",r);break;case"input":_1(r,s),at("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},at("invalid",r);break;case"textarea":E1(r,s),at("invalid",r)}Hy(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&qd(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&qd(r.textContent,o,t),i=["children",""+o]):Vu.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&at("scroll",r)}switch(n){case"input":Md(r),S1(r,s,!0);break;case"textarea":Md(r),A1(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Jf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=uP(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Dr]=e,t[Qu]=r,kj(t,e,!1,!1),e.stateNode=t;e:{switch(a=Ky(n,r),n){case"dialog":at("cancel",t),at("close",t),i=r;break;case"iframe":case"object":case"embed":at("load",t),i=r;break;case"video":case"audio":for(i=0;i<uu.length;i++)at(uu[i],t);i=r;break;case"source":at("error",t),i=r;break;case"img":case"image":case"link":at("error",t),at("load",t),i=r;break;case"details":at("toggle",t),i=r;break;case"input":_1(t,r),i=Uy(t,r),at("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=yt({},r,{value:void 0}),at("invalid",t);break;case"textarea":E1(t,r),i=qy(t,r),at("invalid",t);break;default:i=r}Hy(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?fP(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&cP(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Fu(t,l):typeof l=="number"&&Fu(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Vu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&at("scroll",t):l!=null&&Cx(t,s,l,a))}switch(n){case"input":Md(t),S1(t,r,!1);break;case"textarea":Md(t),A1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+gs(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ho(t,!!r.multiple,s,!1):r.defaultValue!=null&&ho(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Jf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return un(e),null;case 6:if(t&&e.stateNode!=null)Dj(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ae(166));if(n=Js(Yu.current),Js(Fr.current),Wd(e)){if(r=e.stateNode,n=e.memoizedProps,r[Dr]=e,(s=r.nodeValue!==n)&&(t=Wn,t!==null))switch(t.tag){case 3:qd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&qd(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Dr]=e,e.stateNode=r}return un(e),null;case 13:if(ct(mt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ft&&zn!==null&&e.mode&1&&!(e.flags&128))ZP(),Io(),e.flags|=98560,s=!1;else if(s=Wd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ae(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ae(317));s[Dr]=e}else Io(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;un(e),s=!1}else wr!==null&&(Nv(wr),wr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||mt.current&1?Lt===0&&(Lt=3):pb())),e.updateQueue!==null&&(e.flags|=4),un(e),null);case 4:return jo(),xv(t,e),t===null&&Ku(e.stateNode.containerInfo),un(e),null;case 10:return Yx(e.type._context),un(e),null;case 17:return Rn(e.type)&&Zf(),un(e),null;case 19:if(ct(mt),s=e.memoizedState,s===null)return un(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)Kl(s,!1);else{if(Lt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=ah(t),a!==null){for(e.flags|=128,Kl(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return rt(mt,mt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Pt()>Co&&(e.flags|=128,r=!0,Kl(s,!1),e.lanes=4194304)}else{if(!r)if(t=ah(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Kl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!ft)return un(e),null}else 2*Pt()-s.renderingStartTime>Co&&n!==1073741824&&(e.flags|=128,r=!0,Kl(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Pt(),e.sibling=null,n=mt.current,rt(mt,r?n&1|2:n&1),e):(un(e),null);case 22:case 23:return hb(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Fn&1073741824&&(un(e),e.subtreeFlags&6&&(e.flags|=8192)):un(e),null;case 24:return null;case 25:return null}throw Error(ae(156,e.tag))}function c4(t,e){switch(Kx(e),e.tag){case 1:return Rn(e.type)&&Zf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return jo(),ct(kn),ct(gn),nb(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return tb(e),null;case 13:if(ct(mt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ae(340));Io()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ct(mt),null;case 4:return jo(),null;case 10:return Yx(e.type._context),null;case 22:case 23:return hb(),null;case 24:return null;default:return null}}var Gd=!1,fn=!1,d4=typeof WeakSet=="function"?WeakSet:Set,me=null;function io(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){_t(t,e,r)}else n.current=null}function bv(t,e,n){try{n()}catch(r){_t(t,e,r)}}var pS=!1;function f4(t,e){if(rv=Qf,t=FP(),Wx(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,c=0,f=0,h=t,p=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(o=a+i),h!==s||r!==0&&h.nodeType!==3||(l=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===t)break t;if(p===n&&++c===i&&(o=a),p===s&&++f===r&&(l=a),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(iv={focusedElem:t,selectionRange:n},Qf=!1,me=e;me!==null;)if(e=me,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,me=t;else for(;me!==null;){e=me;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var w=g.memoizedProps,_=g.memoizedState,b=e.stateNode,v=b.getSnapshotBeforeUpdate(e.elementType===e.type?w:xr(e.type,w),_);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ae(163))}}catch(P){_t(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,me=t;break}me=e.return}return g=pS,pS=!1,g}function Au(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&bv(e,n,s)}i=i.next}while(i!==r)}}function Mp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function wv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Mj(t){var e=t.alternate;e!==null&&(t.alternate=null,Mj(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Dr],delete e[Qu],delete e[ov],delete e[G$],delete e[Q$])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function $j(t){return t.tag===5||t.tag===3||t.tag===4}function mS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$j(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _v(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Jf));else if(r!==4&&(t=t.child,t!==null))for(_v(t,e,n),t=t.sibling;t!==null;)_v(t,e,n),t=t.sibling}function Sv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Sv(t,e,n),t=t.sibling;t!==null;)Sv(t,e,n),t=t.sibling}var Xt=null,br=!1;function zi(t,e,n){for(n=n.child;n!==null;)Lj(t,e,n),n=n.sibling}function Lj(t,e,n){if(Vr&&typeof Vr.onCommitFiberUnmount=="function")try{Vr.onCommitFiberUnmount(Ip,n)}catch{}switch(n.tag){case 5:fn||io(n,e);case 6:var r=Xt,i=br;Xt=null,zi(t,e,n),Xt=r,br=i,Xt!==null&&(br?(t=Xt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Xt.removeChild(n.stateNode));break;case 18:Xt!==null&&(br?(t=Xt,n=n.stateNode,t.nodeType===8?Vg(t.parentNode,n):t.nodeType===1&&Vg(t,n),qu(t)):Vg(Xt,n.stateNode));break;case 4:r=Xt,i=br,Xt=n.stateNode.containerInfo,br=!0,zi(t,e,n),Xt=r,br=i;break;case 0:case 11:case 14:case 15:if(!fn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&bv(n,e,a),i=i.next}while(i!==r)}zi(t,e,n);break;case 1:if(!fn&&(io(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){_t(n,e,o)}zi(t,e,n);break;case 21:zi(t,e,n);break;case 22:n.mode&1?(fn=(r=fn)||n.memoizedState!==null,zi(t,e,n),fn=r):zi(t,e,n);break;default:zi(t,e,n)}}function gS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new d4),e.forEach(function(r){var i=w4.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function yr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Xt=o.stateNode,br=!1;break e;case 3:Xt=o.stateNode.containerInfo,br=!0;break e;case 4:Xt=o.stateNode.containerInfo,br=!0;break e}o=o.return}if(Xt===null)throw Error(ae(160));Lj(s,a,i),Xt=null,br=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){_t(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Vj(e,t),e=e.sibling}function Vj(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(yr(e,t),Cr(t),r&4){try{Au(3,t,t.return),Mp(3,t)}catch(w){_t(t,t.return,w)}try{Au(5,t,t.return)}catch(w){_t(t,t.return,w)}}break;case 1:yr(e,t),Cr(t),r&512&&n!==null&&io(n,n.return);break;case 5:if(yr(e,t),Cr(t),r&512&&n!==null&&io(n,n.return),t.flags&32){var i=t.stateNode;try{Fu(i,"")}catch(w){_t(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&oP(i,s),Ky(o,a);var c=Ky(o,s);for(a=0;a<l.length;a+=2){var f=l[a],h=l[a+1];f==="style"?fP(i,h):f==="dangerouslySetInnerHTML"?cP(i,h):f==="children"?Fu(i,h):Cx(i,f,h,c)}switch(o){case"input":By(i,s);break;case"textarea":lP(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?ho(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?ho(i,!!s.multiple,s.defaultValue,!0):ho(i,!!s.multiple,s.multiple?[]:"",!1))}i[Qu]=s}catch(w){_t(t,t.return,w)}}break;case 6:if(yr(e,t),Cr(t),r&4){if(t.stateNode===null)throw Error(ae(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){_t(t,t.return,w)}}break;case 3:if(yr(e,t),Cr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{qu(e.containerInfo)}catch(w){_t(t,t.return,w)}break;case 4:yr(e,t),Cr(t);break;case 13:yr(e,t),Cr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(db=Pt())),r&4&&gS(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(fn=(c=fn)||f,yr(e,t),fn=c):yr(e,t),Cr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(me=t,f=t.child;f!==null;){for(h=me=f;me!==null;){switch(p=me,m=p.child,p.tag){case 0:case 11:case 14:case 15:Au(4,p,p.return);break;case 1:io(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(w){_t(r,n,w)}}break;case 5:io(p,p.return);break;case 22:if(p.memoizedState!==null){vS(h);continue}}m!==null?(m.return=p,me=m):vS(h)}f=f.sibling}e:for(f=null,h=t;;){if(h.tag===5){if(f===null){f=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=dP("display",a))}catch(w){_t(t,t.return,w)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(w){_t(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:yr(e,t),Cr(t),r&4&&gS(t);break;case 21:break;default:yr(e,t),Cr(t)}}function Cr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if($j(n)){var r=n;break e}n=n.return}throw Error(ae(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Fu(i,""),r.flags&=-33);var s=mS(t);Sv(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=mS(t);_v(t,o,a);break;default:throw Error(ae(161))}}catch(l){_t(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function h4(t,e,n){me=t,Fj(t)}function Fj(t,e,n){for(var r=(t.mode&1)!==0;me!==null;){var i=me,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Gd;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||fn;o=Gd;var c=fn;if(Gd=a,(fn=l)&&!c)for(me=i;me!==null;)a=me,l=a.child,a.tag===22&&a.memoizedState!==null?xS(i):l!==null?(l.return=a,me=l):xS(i);for(;s!==null;)me=s,Fj(s),s=s.sibling;me=i,Gd=o,fn=c}yS(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,me=s):yS(t)}}function yS(t){for(;me!==null;){var e=me;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:fn||Mp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!fn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:xr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&tS(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}tS(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&qu(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ae(163))}fn||e.flags&512&&wv(e)}catch(p){_t(e,e.return,p)}}if(e===t){me=null;break}if(n=e.sibling,n!==null){n.return=e.return,me=n;break}me=e.return}}function vS(t){for(;me!==null;){var e=me;if(e===t){me=null;break}var n=e.sibling;if(n!==null){n.return=e.return,me=n;break}me=e.return}}function xS(t){for(;me!==null;){var e=me;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Mp(4,e)}catch(l){_t(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){_t(e,i,l)}}var s=e.return;try{wv(e)}catch(l){_t(e,s,l)}break;case 5:var a=e.return;try{wv(e)}catch(l){_t(e,a,l)}}}catch(l){_t(e,e.return,l)}if(e===t){me=null;break}var o=e.sibling;if(o!==null){o.return=e.return,me=o;break}me=e.return}}var p4=Math.ceil,uh=Ri.ReactCurrentDispatcher,ub=Ri.ReactCurrentOwner,or=Ri.ReactCurrentBatchConfig,Be=0,Ht=null,kt=null,tn=0,Fn=0,so=As(0),Lt=0,tc=null,ma=0,$p=0,cb=0,Tu=null,Nn=null,db=0,Co=1/0,si=null,ch=!1,Ev=null,ls=null,Qd=!1,ts=null,dh=0,Nu=0,Av=null,Pf=-1,jf=0;function Sn(){return Be&6?Pt():Pf!==-1?Pf:Pf=Pt()}function us(t){return t.mode&1?Be&2&&tn!==0?tn&-tn:Y$.transition!==null?(jf===0&&(jf=EP()),jf):(t=Ge,t!==0||(t=window.event,t=t===void 0?16:OP(t.type)),t):1}function Ar(t,e,n,r){if(50<Nu)throw Nu=0,Av=null,Error(ae(185));Hc(t,n,r),(!(Be&2)||t!==Ht)&&(t===Ht&&(!(Be&2)&&($p|=n),Lt===4&&Qi(t,tn)),Dn(t,r),n===1&&Be===0&&!(e.mode&1)&&(Co=Pt()+500,kp&&Ts()))}function Dn(t,e){var n=t.callbackNode;YM(t,e);var r=Gf(t,t===Ht?tn:0);if(r===0)n!==null&&I1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&I1(n),e===1)t.tag===0?X$(bS.bind(null,t)):XP(bS.bind(null,t)),H$(function(){!(Be&6)&&Ts()}),n=null;else{switch(AP(r)){case 1:n=$x;break;case 4:n=_P;break;case 16:n=Kf;break;case 536870912:n=SP;break;default:n=Kf}n=Gj(n,Uj.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Uj(t,e){if(Pf=-1,jf=0,Be&6)throw Error(ae(327));var n=t.callbackNode;if(vo()&&t.callbackNode!==n)return null;var r=Gf(t,t===Ht?tn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=fh(t,r);else{e=r;var i=Be;Be|=2;var s=zj();(Ht!==t||tn!==e)&&(si=null,Co=Pt()+500,ra(t,e));do try{y4();break}catch(o){Bj(t,o)}while(!0);Xx(),uh.current=s,Be=i,kt!==null?e=0:(Ht=null,tn=0,e=Lt)}if(e!==0){if(e===2&&(i=Jy(t),i!==0&&(r=i,e=Tv(t,i))),e===1)throw n=tc,ra(t,0),Qi(t,r),Dn(t,Pt()),n;if(e===6)Qi(t,r);else{if(i=t.current.alternate,!(r&30)&&!m4(i)&&(e=fh(t,r),e===2&&(s=Jy(t),s!==0&&(r=s,e=Tv(t,s))),e===1))throw n=tc,ra(t,0),Qi(t,r),Dn(t,Pt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ae(345));case 2:zs(t,Nn,si);break;case 3:if(Qi(t,r),(r&130023424)===r&&(e=db+500-Pt(),10<e)){if(Gf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Sn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=av(zs.bind(null,t,Nn,si),e);break}zs(t,Nn,si);break;case 4:if(Qi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Er(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=Pt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*p4(r/1960))-r,10<r){t.timeoutHandle=av(zs.bind(null,t,Nn,si),r);break}zs(t,Nn,si);break;case 5:zs(t,Nn,si);break;default:throw Error(ae(329))}}}return Dn(t,Pt()),t.callbackNode===n?Uj.bind(null,t):null}function Tv(t,e){var n=Tu;return t.current.memoizedState.isDehydrated&&(ra(t,e).flags|=256),t=fh(t,e),t!==2&&(e=Nn,Nn=n,e!==null&&Nv(e)),t}function Nv(t){Nn===null?Nn=t:Nn.push.apply(Nn,t)}function m4(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Nr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Qi(t,e){for(e&=~cb,e&=~$p,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Er(e),r=1<<n;t[n]=-1,e&=~r}}function bS(t){if(Be&6)throw Error(ae(327));vo();var e=Gf(t,0);if(!(e&1))return Dn(t,Pt()),null;var n=fh(t,e);if(t.tag!==0&&n===2){var r=Jy(t);r!==0&&(e=r,n=Tv(t,r))}if(n===1)throw n=tc,ra(t,0),Qi(t,e),Dn(t,Pt()),n;if(n===6)throw Error(ae(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,zs(t,Nn,si),Dn(t,Pt()),null}function fb(t,e){var n=Be;Be|=1;try{return t(e)}finally{Be=n,Be===0&&(Co=Pt()+500,kp&&Ts())}}function ga(t){ts!==null&&ts.tag===0&&!(Be&6)&&vo();var e=Be;Be|=1;var n=or.transition,r=Ge;try{if(or.transition=null,Ge=1,t)return t()}finally{Ge=r,or.transition=n,Be=e,!(Be&6)&&Ts()}}function hb(){Fn=so.current,ct(so)}function ra(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,W$(n)),kt!==null)for(n=kt.return;n!==null;){var r=n;switch(Kx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zf();break;case 3:jo(),ct(kn),ct(gn),nb();break;case 5:tb(r);break;case 4:jo();break;case 13:ct(mt);break;case 19:ct(mt);break;case 10:Yx(r.type._context);break;case 22:case 23:hb()}n=n.return}if(Ht=t,kt=t=cs(t.current,null),tn=Fn=e,Lt=0,tc=null,cb=$p=ma=0,Nn=Tu=null,Ys!==null){for(e=0;e<Ys.length;e++)if(n=Ys[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}Ys=null}return t}function Bj(t,e){do{var n=kt;try{if(Xx(),Tf.current=lh,oh){for(var r=gt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}oh=!1}if(pa=0,Wt=$t=gt=null,Eu=!1,Ju=0,ub.current=null,n===null||n.return===null){Lt=1,tc=e,kt=null;break}e:{var s=t,a=n.return,o=n,l=e;if(e=tn,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,f=o,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=oS(a);if(m!==null){m.flags&=-257,lS(m,a,o,s,e),m.mode&1&&aS(s,c,e),e=m,l=c;var g=e.updateQueue;if(g===null){var w=new Set;w.add(l),e.updateQueue=w}else g.add(l);break e}else{if(!(e&1)){aS(s,c,e),pb();break e}l=Error(ae(426))}}else if(ft&&o.mode&1){var _=oS(a);if(_!==null){!(_.flags&65536)&&(_.flags|=256),lS(_,a,o,s,e),Gx(Oo(l,o));break e}}s=l=Oo(l,o),Lt!==4&&(Lt=2),Tu===null?Tu=[s]:Tu.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var b=Aj(s,l,e);eS(s,b);break e;case 1:o=l;var v=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(ls===null||!ls.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var P=Tj(s,o,e);eS(s,P);break e}}s=s.return}while(s!==null)}Wj(n)}catch(A){e=A,kt===n&&n!==null&&(kt=n=n.return);continue}break}while(!0)}function zj(){var t=uh.current;return uh.current=lh,t===null?lh:t}function pb(){(Lt===0||Lt===3||Lt===2)&&(Lt=4),Ht===null||!(ma&268435455)&&!($p&268435455)||Qi(Ht,tn)}function fh(t,e){var n=Be;Be|=2;var r=zj();(Ht!==t||tn!==e)&&(si=null,ra(t,e));do try{g4();break}catch(i){Bj(t,i)}while(!0);if(Xx(),Be=n,uh.current=r,kt!==null)throw Error(ae(261));return Ht=null,tn=0,Lt}function g4(){for(;kt!==null;)qj(kt)}function y4(){for(;kt!==null&&!BM();)qj(kt)}function qj(t){var e=Kj(t.alternate,t,Fn);t.memoizedProps=t.pendingProps,e===null?Wj(t):kt=e,ub.current=null}function Wj(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=c4(n,e),n!==null){n.flags&=32767,kt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Lt=6,kt=null;return}}else if(n=u4(n,e,Fn),n!==null){kt=n;return}if(e=e.sibling,e!==null){kt=e;return}kt=e=t}while(e!==null);Lt===0&&(Lt=5)}function zs(t,e,n){var r=Ge,i=or.transition;try{or.transition=null,Ge=1,v4(t,e,n,r)}finally{or.transition=i,Ge=r}return null}function v4(t,e,n,r){do vo();while(ts!==null);if(Be&6)throw Error(ae(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ae(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(JM(t,s),t===Ht&&(kt=Ht=null,tn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Qd||(Qd=!0,Gj(Kf,function(){return vo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=or.transition,or.transition=null;var a=Ge;Ge=1;var o=Be;Be|=4,ub.current=null,f4(t,n),Vj(n,t),L$(iv),Qf=!!rv,iv=rv=null,t.current=n,h4(n),zM(),Be=o,Ge=a,or.transition=s}else t.current=n;if(Qd&&(Qd=!1,ts=t,dh=i),s=t.pendingLanes,s===0&&(ls=null),HM(n.stateNode),Dn(t,Pt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ch)throw ch=!1,t=Ev,Ev=null,t;return dh&1&&t.tag!==0&&vo(),s=t.pendingLanes,s&1?t===Av?Nu++:(Nu=0,Av=t):Nu=0,Ts(),null}function vo(){if(ts!==null){var t=AP(dh),e=or.transition,n=Ge;try{if(or.transition=null,Ge=16>t?16:t,ts===null)var r=!1;else{if(t=ts,ts=null,dh=0,Be&6)throw Error(ae(331));var i=Be;for(Be|=4,me=t.current;me!==null;){var s=me,a=s.child;if(me.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(me=c;me!==null;){var f=me;switch(f.tag){case 0:case 11:case 15:Au(8,f,s)}var h=f.child;if(h!==null)h.return=f,me=h;else for(;me!==null;){f=me;var p=f.sibling,m=f.return;if(Mj(f),f===c){me=null;break}if(p!==null){p.return=m,me=p;break}me=m}}}var g=s.alternate;if(g!==null){var w=g.child;if(w!==null){g.child=null;do{var _=w.sibling;w.sibling=null,w=_}while(w!==null)}}me=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,me=a;else e:for(;me!==null;){if(s=me,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Au(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,me=b;break e}me=s.return}}var v=t.current;for(me=v;me!==null;){a=me;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,me=x;else e:for(a=v;me!==null;){if(o=me,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Mp(9,o)}}catch(A){_t(o,o.return,A)}if(o===a){me=null;break e}var P=o.sibling;if(P!==null){P.return=o.return,me=P;break e}me=o.return}}if(Be=i,Ts(),Vr&&typeof Vr.onPostCommitFiberRoot=="function")try{Vr.onPostCommitFiberRoot(Ip,t)}catch{}r=!0}return r}finally{Ge=n,or.transition=e}}return!1}function wS(t,e,n){e=Oo(n,e),e=Aj(t,e,1),t=os(t,e,1),e=Sn(),t!==null&&(Hc(t,1,e),Dn(t,e))}function _t(t,e,n){if(t.tag===3)wS(t,t,n);else for(;e!==null;){if(e.tag===3){wS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ls===null||!ls.has(r))){t=Oo(n,t),t=Tj(e,t,1),e=os(e,t,1),t=Sn(),e!==null&&(Hc(e,1,t),Dn(e,t));break}}e=e.return}}function x4(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Sn(),t.pingedLanes|=t.suspendedLanes&n,Ht===t&&(tn&n)===n&&(Lt===4||Lt===3&&(tn&130023424)===tn&&500>Pt()-db?ra(t,0):cb|=n),Dn(t,e)}function Hj(t,e){e===0&&(t.mode&1?(e=Vd,Vd<<=1,!(Vd&130023424)&&(Vd=4194304)):e=1);var n=Sn();t=Ei(t,e),t!==null&&(Hc(t,e,n),Dn(t,n))}function b4(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Hj(t,n)}function w4(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ae(314))}r!==null&&r.delete(e),Hj(t,n)}var Kj;Kj=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||kn.current)Pn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Pn=!1,l4(t,e,n);Pn=!!(t.flags&131072)}else Pn=!1,ft&&e.flags&1048576&&YP(e,nh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;If(t,e),t=e.pendingProps;var i=No(e,gn.current);yo(e,n),i=ib(null,e,r,t,i,n);var s=sb();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Rn(r)?(s=!0,eh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Zx(e),i.updater=Dp,e.stateNode=i,i._reactInternals=e,hv(e,r,t,n),e=gv(null,e,r,!0,s,n)):(e.tag=0,ft&&s&&Hx(e),bn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(If(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=S4(r),t=xr(r,t),i){case 0:e=mv(null,e,r,t,n);break e;case 1:e=dS(null,e,r,t,n);break e;case 11:e=uS(null,e,r,t,n);break e;case 14:e=cS(null,e,r,xr(r.type,t),n);break e}throw Error(ae(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xr(r,i),mv(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xr(r,i),dS(t,e,r,i,n);case 3:e:{if(jj(e),t===null)throw Error(ae(387));r=e.pendingProps,s=e.memoizedState,i=s.element,rj(t,e),sh(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Oo(Error(ae(423)),e),e=fS(t,e,r,n,i);break e}else if(r!==i){i=Oo(Error(ae(424)),e),e=fS(t,e,r,n,i);break e}else for(zn=as(e.stateNode.containerInfo.firstChild),Wn=e,ft=!0,wr=null,n=tj(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Io(),r===i){e=Ai(t,e,n);break e}bn(t,e,r,n)}e=e.child}return e;case 5:return ij(e),t===null&&cv(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,sv(r,i)?a=null:s!==null&&sv(r,s)&&(e.flags|=32),Pj(t,e),bn(t,e,a,n),e.child;case 6:return t===null&&cv(e),null;case 13:return Oj(t,e,n);case 4:return eb(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Po(e,null,r,n):bn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xr(r,i),uS(t,e,r,i,n);case 7:return bn(t,e,e.pendingProps,n),e.child;case 8:return bn(t,e,e.pendingProps.children,n),e.child;case 12:return bn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,rt(rh,r._currentValue),r._currentValue=a,s!==null)if(Nr(s.value,a)){if(s.children===i.children&&!kn.current){e=Ai(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=gi(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),dv(s.return,n,e),o.lanes|=n;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(ae(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),dv(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}bn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,yo(e,n),i=ur(i),r=r(i),e.flags|=1,bn(t,e,r,n),e.child;case 14:return r=e.type,i=xr(r,e.pendingProps),i=xr(r.type,i),cS(t,e,r,i,n);case 15:return Nj(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xr(r,i),If(t,e),e.tag=1,Rn(r)?(t=!0,eh(e)):t=!1,yo(e,n),Ej(e,r,i),hv(e,r,i,n),gv(null,e,r,!0,t,n);case 19:return Cj(t,e,n);case 22:return Ij(t,e,n)}throw Error(ae(156,e.tag))};function Gj(t,e){return wP(t,e)}function _4(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ir(t,e,n,r){return new _4(t,e,n,r)}function mb(t){return t=t.prototype,!(!t||!t.isReactComponent)}function S4(t){if(typeof t=="function")return mb(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Rx)return 11;if(t===Dx)return 14}return 2}function cs(t,e){var n=t.alternate;return n===null?(n=ir(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Of(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")mb(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Qa:return ia(n.children,i,s,e);case kx:a=8,i|=8;break;case $y:return t=ir(12,n,e,i|2),t.elementType=$y,t.lanes=s,t;case Ly:return t=ir(13,n,e,i),t.elementType=Ly,t.lanes=s,t;case Vy:return t=ir(19,n,e,i),t.elementType=Vy,t.lanes=s,t;case iP:return Lp(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case nP:a=10;break e;case rP:a=9;break e;case Rx:a=11;break e;case Dx:a=14;break e;case Wi:a=16,r=null;break e}throw Error(ae(130,t==null?t:typeof t,""))}return e=ir(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ia(t,e,n,r){return t=ir(7,t,r,e),t.lanes=n,t}function Lp(t,e,n,r){return t=ir(22,t,r,e),t.elementType=iP,t.lanes=n,t.stateNode={isHidden:!1},t}function Kg(t,e,n){return t=ir(6,t,null,e),t.lanes=n,t}function Gg(t,e,n){return e=ir(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function E4(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ig(0),this.expirationTimes=Ig(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ig(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function gb(t,e,n,r,i,s,a,o,l){return t=new E4(t,e,n,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ir(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zx(s),t}function A4(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ga,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Qj(t){if(!t)return ys;t=t._reactInternals;e:{if(Aa(t)!==t||t.tag!==1)throw Error(ae(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Rn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ae(171))}if(t.tag===1){var n=t.type;if(Rn(n))return QP(t,n,e)}return e}function Xj(t,e,n,r,i,s,a,o,l){return t=gb(n,r,!0,t,i,s,a,o,l),t.context=Qj(null),n=t.current,r=Sn(),i=us(n),s=gi(r,i),s.callback=e??null,os(n,s,i),t.current.lanes=i,Hc(t,i,r),Dn(t,r),t}function Vp(t,e,n,r){var i=e.current,s=Sn(),a=us(i);return n=Qj(n),e.context===null?e.context=n:e.pendingContext=n,e=gi(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=os(i,e,a),t!==null&&(Ar(t,i,a,s),Af(t,i,a)),a}function hh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function _S(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function yb(t,e){_S(t,e),(t=t.alternate)&&_S(t,e)}function T4(){return null}var Yj=typeof reportError=="function"?reportError:function(t){console.error(t)};function vb(t){this._internalRoot=t}Fp.prototype.render=vb.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ae(409));Vp(t,e,null,null)};Fp.prototype.unmount=vb.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ga(function(){Vp(null,t,null,null)}),e[Si]=null}};function Fp(t){this._internalRoot=t}Fp.prototype.unstable_scheduleHydration=function(t){if(t){var e=IP();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Gi.length&&e!==0&&e<Gi[n].priority;n++);Gi.splice(n,0,t),n===0&&jP(t)}};function xb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Up(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function SS(){}function N4(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=hh(a);s.call(c)}}var a=Xj(e,r,t,0,null,!1,!1,"",SS);return t._reactRootContainer=a,t[Si]=a.current,Ku(t.nodeType===8?t.parentNode:t),ga(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=hh(l);o.call(c)}}var l=gb(t,0,!1,null,null,!1,!1,"",SS);return t._reactRootContainer=l,t[Si]=l.current,Ku(t.nodeType===8?t.parentNode:t),ga(function(){Vp(e,l,n,r)}),l}function Bp(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=hh(a);o.call(l)}}Vp(e,a,t,i)}else a=N4(n,e,t,i,r);return hh(a)}TP=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=lu(e.pendingLanes);n!==0&&(Lx(e,n|1),Dn(e,Pt()),!(Be&6)&&(Co=Pt()+500,Ts()))}break;case 13:ga(function(){var r=Ei(t,1);if(r!==null){var i=Sn();Ar(r,t,1,i)}}),yb(t,1)}};Vx=function(t){if(t.tag===13){var e=Ei(t,134217728);if(e!==null){var n=Sn();Ar(e,t,134217728,n)}yb(t,134217728)}};NP=function(t){if(t.tag===13){var e=us(t),n=Ei(t,e);if(n!==null){var r=Sn();Ar(n,t,e,r)}yb(t,e)}};IP=function(){return Ge};PP=function(t,e){var n=Ge;try{return Ge=t,e()}finally{Ge=n}};Qy=function(t,e,n){switch(e){case"input":if(By(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Cp(r);if(!i)throw Error(ae(90));aP(r),By(r,i)}}}break;case"textarea":lP(t,n);break;case"select":e=n.value,e!=null&&ho(t,!!n.multiple,e,!1)}};mP=fb;gP=ga;var I4={usingClientEntryPoint:!1,Events:[Gc,Za,Cp,hP,pP,fb]},Gl={findFiberByHostInstance:Xs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},P4={bundleType:Gl.bundleType,version:Gl.version,rendererPackageName:Gl.rendererPackageName,rendererConfig:Gl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ri.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=xP(t),t===null?null:t.stateNode},findFiberByHostInstance:Gl.findFiberByHostInstance||T4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xd.isDisabled&&Xd.supportsFiber)try{Ip=Xd.inject(P4),Vr=Xd}catch{}}Gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I4;Gn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xb(e))throw Error(ae(200));return A4(t,e,null,n)};Gn.createRoot=function(t,e){if(!xb(t))throw Error(ae(299));var n=!1,r="",i=Yj;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=gb(t,1,!1,null,null,n,!1,r,i),t[Si]=e.current,Ku(t.nodeType===8?t.parentNode:t),new vb(e)};Gn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ae(188)):(t=Object.keys(t).join(","),Error(ae(268,t)));return t=xP(e),t=t===null?null:t.stateNode,t};Gn.flushSync=function(t){return ga(t)};Gn.hydrate=function(t,e,n){if(!Up(e))throw Error(ae(200));return Bp(null,t,e,!0,n)};Gn.hydrateRoot=function(t,e,n){if(!xb(t))throw Error(ae(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=Yj;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=Xj(e,null,t,1,n??null,i,!1,s,a),t[Si]=e.current,Ku(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Fp(e)};Gn.render=function(t,e,n){if(!Up(e))throw Error(ae(200));return Bp(null,t,e,!1,n)};Gn.unmountComponentAtNode=function(t){if(!Up(t))throw Error(ae(40));return t._reactRootContainer?(ga(function(){Bp(null,null,t,!1,function(){t._reactRootContainer=null,t[Si]=null})}),!0):!1};Gn.unstable_batchedUpdates=fb;Gn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Up(n))throw Error(ae(200));if(t==null||t._reactInternals===void 0)throw Error(ae(38));return Bp(t,e,n,!1,r)};Gn.version="18.3.1-next-f1338f8080-20240426";function Jj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Jj)}catch(t){console.error(t)}}Jj(),JI.exports=Gn;var j4=JI.exports,Zj,ES=j4;Zj=ES.createRoot,ES.hydrateRoot;var AS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},O4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],o=t[n++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},t2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,f=s>>2,h=(s&3)<<4|o>>4;let p=(o&15)<<2|c>>6,m=c&63;l||(m=64,a||(p=64)),r.push(n[f],n[h],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(e2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):O4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||o==null||c==null||h==null)throw new C4;const p=s<<2|o>>4;if(r.push(p),c!==64){const m=o<<4&240|c>>2;if(r.push(m),h!==64){const g=c<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class C4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const k4=function(t){const e=e2(t);return t2.encodeByteArray(e,!0)},ph=function(t){return k4(t).replace(/\./g,"")},n2=function(t){try{return t2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4=()=>R4().__FIREBASE_DEFAULTS__,M4=()=>{if(typeof process>"u"||typeof AS>"u")return;const t=AS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},$4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&n2(t[1]);return e&&JSON.parse(e)},zp=()=>{try{return D4()||M4()||$4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},r2=t=>{var e,n;return(n=(e=zp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},i2=t=>{const e=r2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},s2=()=>{var t;return(t=zp())===null||t===void 0?void 0:t.config},a2=t=>{var e;return(e=zp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ph(JSON.stringify(n)),ph(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function V4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yn())}function F4(){var t;const e=(t=zp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function U4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function B4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function z4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function q4(){const t=yn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function W4(){return!F4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function H4(){try{return typeof indexedDB=="object"}catch{return!1}}function K4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4="FirebaseError";class Zr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=G4,Object.setPrototypeOf(this,Zr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xc.prototype.create)}}class Xc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?Q4(s,r):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new Zr(i,o,r)}}function Q4(t,e){return t.replace(X4,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const X4=/\{\$([^}]+)}/g;function Y4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function mh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(TS(s)&&TS(a)){if(!mh(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function TS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function cu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function du(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function J4(t,e){const n=new Z4(t,e);return n.subscribe.bind(n)}class Z4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");eL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Qg),i.error===void 0&&(i.error=Qg),i.complete===void 0&&(i.complete=Qg);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function eL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Qg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(t){return t&&t._delegate?t._delegate:t}class vs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new L4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rL(e))try{this.getOrInitializeService({instanceIdentifier:qs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qs){return this.instances.has(e)}getOptions(e=qs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);r===o&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:nL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qs){return this.component?this.component.multipleInstances?e:qs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nL(t){return t===qs?void 0:t}function rL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new tL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ve||(Ve={}));const sL={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},aL=Ve.INFO,oL={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},lL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=oL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bb{constructor(e){this.name=e,this._logLevel=aL,this._logHandler=lL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const uL=(t,e)=>e.some(n=>t instanceof n);let NS,IS;function cL(){return NS||(NS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dL(){return IS||(IS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const l2=new WeakMap,Iv=new WeakMap,u2=new WeakMap,Xg=new WeakMap,wb=new WeakMap;function fL(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(ds(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&l2.set(n,t)}).catch(()=>{}),wb.set(e,t),e}function hL(t){if(Iv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});Iv.set(t,e)}let Pv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Iv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||u2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ds(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function pL(t){Pv=t(Pv)}function mL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Yg(this),e,...n);return u2.set(r,e.sort?e.sort():[e]),ds(r)}:dL().includes(t)?function(...e){return t.apply(Yg(this),e),ds(l2.get(this))}:function(...e){return ds(t.apply(Yg(this),e))}}function gL(t){return typeof t=="function"?mL(t):(t instanceof IDBTransaction&&hL(t),uL(t,cL())?new Proxy(t,Pv):t)}function ds(t){if(t instanceof IDBRequest)return fL(t);if(Xg.has(t))return Xg.get(t);const e=gL(t);return e!==t&&(Xg.set(t,e),wb.set(e,t)),e}const Yg=t=>wb.get(t);function yL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=ds(a);return r&&a.addEventListener("upgradeneeded",l=>{r(ds(a.result),l.oldVersion,l.newVersion,ds(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const vL=["get","getKey","getAll","getAllKeys","count"],xL=["put","add","delete","clear"],Jg=new Map;function PS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Jg.get(e))return Jg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=xL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||vL.includes(n)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),i&&l.done]))[0]};return Jg.set(e,s),s}pL(t=>({...t,get:(e,n,r)=>PS(e,n)||t.get(e,n,r),has:(e,n)=>!!PS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(wL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function wL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const jv="@firebase/app",jS="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti=new bb("@firebase/app"),_L="@firebase/app-compat",SL="@firebase/analytics-compat",EL="@firebase/analytics",AL="@firebase/app-check-compat",TL="@firebase/app-check",NL="@firebase/auth",IL="@firebase/auth-compat",PL="@firebase/database",jL="@firebase/data-connect",OL="@firebase/database-compat",CL="@firebase/functions",kL="@firebase/functions-compat",RL="@firebase/installations",DL="@firebase/installations-compat",ML="@firebase/messaging",$L="@firebase/messaging-compat",LL="@firebase/performance",VL="@firebase/performance-compat",FL="@firebase/remote-config",UL="@firebase/remote-config-compat",BL="@firebase/storage",zL="@firebase/storage-compat",qL="@firebase/firestore",WL="@firebase/vertexai-preview",HL="@firebase/firestore-compat",KL="firebase",GL="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov="[DEFAULT]",QL={[jv]:"fire-core",[_L]:"fire-core-compat",[EL]:"fire-analytics",[SL]:"fire-analytics-compat",[TL]:"fire-app-check",[AL]:"fire-app-check-compat",[NL]:"fire-auth",[IL]:"fire-auth-compat",[PL]:"fire-rtdb",[jL]:"fire-data-connect",[OL]:"fire-rtdb-compat",[CL]:"fire-fn",[kL]:"fire-fn-compat",[RL]:"fire-iid",[DL]:"fire-iid-compat",[ML]:"fire-fcm",[$L]:"fire-fcm-compat",[LL]:"fire-perf",[VL]:"fire-perf-compat",[FL]:"fire-rc",[UL]:"fire-rc-compat",[BL]:"fire-gcs",[zL]:"fire-gcs-compat",[qL]:"fire-fst",[HL]:"fire-fst-compat",[WL]:"fire-vertex","fire-js":"fire-js",[KL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh=new Map,XL=new Map,Cv=new Map;function OS(t,e){try{t.container.addComponent(e)}catch(n){Ti.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ya(t){const e=t.name;if(Cv.has(e))return Ti.debug(`There were multiple attempts to register component ${e}.`),!1;Cv.set(e,t);for(const n of gh.values())OS(n,t);for(const n of XL.values())OS(n,t);return!0}function qp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Mr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fs=new Xc("app","Firebase",YL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new vs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta=GL;function _b(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ov,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw fs.create("bad-app-name",{appName:String(i)});if(n||(n=s2()),!n)throw fs.create("no-options");const s=gh.get(i);if(s){if(mh(n,s.options)&&mh(r,s.config))return s;throw fs.create("duplicate-app",{appName:i})}const a=new iL(i);for(const l of Cv.values())a.addComponent(l);const o=new JL(n,r,a);return gh.set(i,o),o}function Sb(t=Ov){const e=gh.get(t);if(!e&&t===Ov&&s2())return _b();if(!e)throw fs.create("no-app",{appName:t});return e}function Ur(t,e,n){var r;let i=(r=QL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const o=[`Unable to register library "${i}" with version "${e}":`];s&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ti.warn(o.join(" "));return}ya(new vs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL="firebase-heartbeat-database",e5=1,nc="firebase-heartbeat-store";let Zg=null;function c2(){return Zg||(Zg=yL(ZL,e5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(nc)}catch(n){console.warn(n)}}}}).catch(t=>{throw fs.create("idb-open",{originalErrorMessage:t.message})})),Zg}async function t5(t){try{const n=(await c2()).transaction(nc),r=await n.objectStore(nc).get(d2(t));return await n.done,r}catch(e){if(e instanceof Zr)Ti.warn(e.message);else{const n=fs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ti.warn(n.message)}}}async function CS(t,e){try{const r=(await c2()).transaction(nc,"readwrite");await r.objectStore(nc).put(e,d2(t)),await r.done}catch(n){if(n instanceof Zr)Ti.warn(n.message);else{const r=fs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ti.warn(r.message)}}}function d2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n5=1024,r5=30*24*60*60*1e3;class i5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new a5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=kS();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const o=new Date(a.date).valueOf();return Date.now()-o<=r5}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ti.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=kS(),{heartbeatsToSend:r,unsentEntries:i}=s5(this._heartbeatsCache.heartbeats),s=ph(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ti.warn(n),""}}}function kS(){return new Date().toISOString().substring(0,10)}function s5(t,e=n5){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),RS(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),RS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class a5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return H4()?K4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await t5(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return CS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return CS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function RS(t){return ph(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o5(t){ya(new vs("platform-logger",e=>new bL(e),"PRIVATE")),ya(new vs("heartbeat",e=>new i5(e),"PRIVATE")),Ur(jv,jS,t),Ur(jv,jS,"esm2017"),Ur("fire-js","")}o5("");function Eb(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function f2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const l5=f2,h2=new Xc("auth","Firebase",f2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh=new bb("@firebase/auth");function u5(t,...e){yh.logLevel<=Ve.WARN&&yh.warn(`Auth (${Ta}): ${t}`,...e)}function Cf(t,...e){yh.logLevel<=Ve.ERROR&&yh.error(`Auth (${Ta}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(t,...e){throw Ab(t,...e)}function Br(t,...e){return Ab(t,...e)}function p2(t,e,n){const r=Object.assign(Object.assign({},l5()),{[e]:n});return new Xc("auth","Firebase",r).create(e,{appName:t.name})}function yi(t){return p2(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ab(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return h2.create(t,...e)}function Ne(t,e,...n){if(!t)throw Ab(e,...n)}function ci(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Cf(e),new Error(e)}function Ni(t,e){t||ci(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function c5(){return DS()==="http:"||DS()==="https:"}function DS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(c5()||B4()||"connection"in navigator)?navigator.onLine:!0}function f5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ni(n>e,"Short delay should be less than long delay!"),this.isMobile=V4()||z4()}get(){return d5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(t,e){Ni(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ci("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ci("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ci("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p5=new Jc(3e4,6e4);function Ns(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Di(t,e,n,r,i={}){return g2(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const o=Yc(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return U4()||(c.referrerPolicy="no-referrer"),m2.fetch()(y2(t,t.config.apiHost,n,o),c)})}async function g2(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},h5),e);try{const i=new g5(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Yd(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yd(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Yd(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw Yd(t,"user-disabled",a);const f=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw p2(t,f,c);Ir(t,f)}}catch(i){if(i instanceof Zr)throw i;Ir(t,"network-request-failed",{message:String(i)})}}async function Zc(t,e,n,r,i={}){const s=await Di(t,e,n,r,i);return"mfaPendingCredential"in s&&Ir(t,"multi-factor-auth-required",{_serverResponse:s}),s}function y2(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Tb(t.config,i):`${t.config.apiScheme}://${i}`}function m5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class g5{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Br(this.auth,"network-request-failed")),p5.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Yd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Br(t,e,r);return i.customData._tokenResponse=n,i}function MS(t){return t!==void 0&&t.enterprise!==void 0}class y5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return m5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function v5(t,e){return Di(t,"GET","/v2/recaptchaConfig",Ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x5(t,e){return Di(t,"POST","/v1/accounts:delete",e)}async function v2(t,e){return Di(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function b5(t,e=!1){const n=jt(t),r=await n.getIdToken(e),i=Nb(r);Ne(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Iu(ey(i.auth_time)),issuedAtTime:Iu(ey(i.iat)),expirationTime:Iu(ey(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function ey(t){return Number(t)*1e3}function Nb(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Cf("JWT malformed, contained fewer than 3 sections"),null;try{const i=n2(n);return i?JSON.parse(i):(Cf("Failed to decode base64 JWT payload"),null)}catch(i){return Cf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function $S(t){const e=Nb(t);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ko(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Zr&&w5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function w5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Iu(this.lastLoginAt),this.creationTime=Iu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ko(t,v2(n,{idToken:r}));Ne(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?x2(s.providerUserInfo):[],o=E5(t.providerData,a),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),f=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Rv(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,h)}async function S5(t){const e=jt(t);await vh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function E5(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function x2(t){return t.map(e=>{var{providerId:n}=e,r=Eb(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A5(t,e){const n=await g2(t,{},async()=>{const r=Yc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=y2(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",m2.fetch()(a,{method:"POST",headers:o,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function T5(t,e){return Di(t,"POST","/v2/accounts:revokeToken",Ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$S(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const n=$S(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await A5(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new xo;return r&&(Ne(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(Ne(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(Ne(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xo,this.toJSON())}_performRefresh(){return ci("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(t,e){Ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class di{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Eb(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Rv(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ko(this,this.stsTokenManager.getToken(this.auth,e));return Ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return b5(this,e)}reload(){return S5(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new di(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await vh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mr(this.auth.app))return Promise.reject(yi(this.auth));const e=await this.getIdToken();return await ko(this,x5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,a,o,l,c,f;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(a=n.photoURL)!==null&&a!==void 0?a:void 0,w=(o=n.tenantId)!==null&&o!==void 0?o:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,b=(c=n.createdAt)!==null&&c!==void 0?c:void 0,v=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:x,emailVerified:P,isAnonymous:A,providerData:N,stsTokenManager:E}=n;Ne(x&&E,e,"internal-error");const S=xo.fromJSON(this.name,E);Ne(typeof x=="string",e,"internal-error"),qi(h,e.name),qi(p,e.name),Ne(typeof P=="boolean",e,"internal-error"),Ne(typeof A=="boolean",e,"internal-error"),qi(m,e.name),qi(g,e.name),qi(w,e.name),qi(_,e.name),qi(b,e.name),qi(v,e.name);const I=new di({uid:x,auth:e,email:p,emailVerified:P,displayName:h,isAnonymous:A,photoURL:g,phoneNumber:m,tenantId:w,stsTokenManager:S,createdAt:b,lastLoginAt:v});return N&&Array.isArray(N)&&(I.providerData=N.map(C=>Object.assign({},C))),_&&(I._redirectEventId=_),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new xo;i.updateFromServerResponse(n);const s=new di({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await vh(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ne(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?x2(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new xo;o.updateFromIdToken(r);const l=new di({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Rv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS=new Map;function fi(t){Ni(t instanceof Function,"Expected a class definition");let e=LS.get(t);return e?(Ni(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,LS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}b2.type="NONE";const VS=b2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kf(t,e,n){return`firebase:${t}:${e}:${n}`}class bo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=kf(this.userKey,i.apiKey,s),this.fullPersistenceKey=kf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?di._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new bo(fi(VS),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||fi(VS);const a=kf(r,e.config.apiKey,e.name);let o=null;for(const c of n)try{const f=await c._get(a);if(f){const h=di._fromJSON(e,f);c!==s&&(o=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new bo(s,e,r):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(a)}catch{}})),new bo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(E2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(w2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(T2(e))return"Blackberry";if(N2(e))return"Webos";if(_2(e))return"Safari";if((e.includes("chrome/")||S2(e))&&!e.includes("edge/"))return"Chrome";if(A2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function w2(t=yn()){return/firefox\//i.test(t)}function _2(t=yn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function S2(t=yn()){return/crios\//i.test(t)}function E2(t=yn()){return/iemobile/i.test(t)}function A2(t=yn()){return/android/i.test(t)}function T2(t=yn()){return/blackberry/i.test(t)}function N2(t=yn()){return/webos/i.test(t)}function Ib(t=yn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function N5(t=yn()){var e;return Ib(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function I5(){return q4()&&document.documentMode===10}function I2(t=yn()){return Ib(t)||A2(t)||N2(t)||T2(t)||/windows phone/i.test(t)||E2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(t,e=[]){let n;switch(t){case"Browser":n=FS(yn());break;case"Worker":n=`${FS(yn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ta}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j5(t,e={}){return Di(t,"GET","/v2/passwordPolicy",Ns(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O5=6;class C5{constructor(e){var n,r,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:O5,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,a,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new US(this),this.idTokenSubscription=new US(this),this.beforeStateQueue=new P5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=h2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=fi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await bo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await v2(this,{idToken:e}),r=await di._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Mr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,o=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await vh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=f5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mr(this.app))return Promise.reject(yi(this));const n=e?jt(e):null;return n&&Ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mr(this.app)?Promise.reject(yi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mr(this.app)?Promise.reject(yi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await j5(this),n=new C5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Xc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await T5(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&fi(e)||this._popupRedirectResolver;Ne(n,this,"argument-error"),this.redirectPersistenceManager=await bo.create(this,[fi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=P2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&u5(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Na(t){return jt(t)}class US{constructor(e){this.auth=e,this.observer=null,this.addObserver=J4(n=>this.observer=n)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function R5(t){Wp=t}function j2(t){return Wp.loadJS(t)}function D5(){return Wp.recaptchaEnterpriseScript}function M5(){return Wp.gapiScript}function $5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const L5="recaptcha-enterprise",V5="NO_RECAPTCHA";class F5{constructor(e){this.type=L5,this.auth=Na(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{v5(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new y5(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,a(c.siteKey)}}).catch(l=>{o(l)})})}function i(s,a,o){const l=window.grecaptcha;MS(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{a(c)}).catch(()=>{a(V5)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{r(this.auth).then(o=>{if(!n&&MS(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=D5();l.length!==0&&(l+=o),j2(l).then(()=>{i(o,s,a)}).catch(c=>{a(c)})}}).catch(o=>{a(o)})})}}async function BS(t,e,n,r=!1){const i=new F5(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Dv(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await BS(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await BS(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U5(t,e){const n=qp(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(mh(s,e??{}))return i;Ir(i,"already-initialized")}return n.initialize({options:e})}function B5(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(fi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function z5(t,e,n){const r=Na(t);Ne(r._canInitEmulator,r,"emulator-config-failed"),Ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=O2(e),{host:a,port:o}=q5(e),l=o===null?"":`:${o}`;r.config.emulator={url:`${s}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),W5()}function O2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function q5(t){const e=O2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:zS(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:zS(a)}}}function zS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function W5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ci("not implemented")}_getIdTokenResponse(e){return ci("not implemented")}_linkToIdToken(e,n){return ci("not implemented")}_getReauthenticationResolver(e){return ci("not implemented")}}async function H5(t,e){return Di(t,"POST","/v1/accounts:update",e)}async function K5(t,e){return Di(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G5(t,e){return Zc(t,"POST","/v1/accounts:signInWithPassword",Ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q5(t,e){return Zc(t,"POST","/v1/accounts:signInWithEmailLink",Ns(t,e))}async function X5(t,e){return Zc(t,"POST","/v1/accounts:signInWithEmailLink",Ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc extends Pb{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new rc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new rc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Dv(e,n,"signInWithPassword",G5);case"emailLink":return Q5(e,{email:this._email,oobCode:this._password});default:Ir(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Dv(e,r,"signUpPassword",K5);case"emailLink":return X5(e,{idToken:n,email:this._email,oobCode:this._password});default:Ir(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(t,e){return Zc(t,"POST","/v1/accounts:signInWithIdp",Ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y5="http://localhost";class va extends Pb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new va(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ir("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Eb(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new va(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return wo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,wo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,wo(e,n)}buildRequest(){const e={requestUri:Y5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Yc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J5(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Z5(t){const e=cu(du(t)).link,n=e?cu(du(e)).deep_link_id:null,r=cu(du(t)).deep_link_id;return(r?cu(du(r)).link:null)||r||n||e||t}class jb{constructor(e){var n,r,i,s,a,o;const l=cu(du(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,f=(r=l.oobCode)!==null&&r!==void 0?r:null,h=J5((i=l.mode)!==null&&i!==void 0?i:null);Ne(c&&f&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=f,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=l.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(o=l.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const n=Z5(e);try{return new jb(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(){this.providerId=fl.PROVIDER_ID}static credential(e,n){return rc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=jb.parseLink(n);return Ne(r,"argument-error"),rc._fromEmailAndCode(e,r.code,r.tenantId)}}fl.PROVIDER_ID="password";fl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed extends C2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends ed{constructor(){super("facebook.com")}static credential(e){return va._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xi.credential(e.oauthAccessToken)}catch{return null}}}Xi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends ed{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return va._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Yi.credential(n,r)}catch{return null}}}Yi.GOOGLE_SIGN_IN_METHOD="google.com";Yi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends ed{constructor(){super("github.com")}static credential(e){return va._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ji.credential(e.oauthAccessToken)}catch{return null}}}Ji.GITHUB_SIGN_IN_METHOD="github.com";Ji.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends ed{constructor(){super("twitter.com")}static credential(e,n){return va._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Zi.credential(n,r)}catch{return null}}}Zi.TWITTER_SIGN_IN_METHOD="twitter.com";Zi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e6(t,e){return Zc(t,"POST","/v1/accounts:signUp",Ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await di._fromIdTokenResponse(e,r,i),a=qS(r);return new xa({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=qS(r);return new xa({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function qS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh extends Zr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,xh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new xh(e,n,r,i)}}function k2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?xh._fromErrorAndOperation(t,s,e,r):s})}async function t6(t,e,n=!1){const r=await ko(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return xa._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n6(t,e,n=!1){const{auth:r}=t;if(Mr(r.app))return Promise.reject(yi(r));const i="reauthenticate";try{const s=await ko(t,k2(r,i,e,t),n);Ne(s.idToken,r,"internal-error");const a=Nb(s.idToken);Ne(a,r,"internal-error");const{sub:o}=a;return Ne(t.uid===o,r,"user-mismatch"),xa._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ir(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R2(t,e,n=!1){if(Mr(t.app))return Promise.reject(yi(t));const r="signIn",i=await k2(t,r,e),s=await xa._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function r6(t,e){return R2(Na(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D2(t){const e=Na(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Ob(t,e,n){if(Mr(t.app))return Promise.reject(yi(t));const r=Na(t),a=await Dv(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",e6).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&D2(t),l}),o=await xa._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(o.user),o}function M2(t,e,n){return Mr(t.app)?Promise.reject(yi(t)):r6(jt(t),fl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&D2(t),r})}function $2(t,e){return i6(jt(t),null,e)}async function i6(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(s.password=n);const a=await ko(t,H5(r,s));await t._updateTokensIfNecessary(a,!0)}function s6(t,e,n,r){return jt(t).onIdTokenChanged(e,n,r)}function a6(t,e,n){return jt(t).beforeAuthStateChanged(e,n)}function o6(t,e,n,r){return jt(t).onAuthStateChanged(e,n,r)}function L2(t){return jt(t).signOut()}const bh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(bh,"1"),this.storage.removeItem(bh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l6=1e3,u6=10;class F2 extends V2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=I2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);I5()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,u6):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},l6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}F2.type="LOCAL";const c6=F2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2 extends V2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}U2.type="SESSION";const B2=U2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Hp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(a).map(async c=>c(n.origin,s)),l=await d6(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const c=Cb("",20);i.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(h){const p=h;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(p.data.response);break;default:clearTimeout(f),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(){return window}function h6(t){zr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(){return typeof zr().WorkerGlobalScope<"u"&&typeof zr().importScripts=="function"}async function p6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function m6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function g6(){return z2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2="firebaseLocalStorageDb",y6=1,wh="firebaseLocalStorage",W2="fbase_key";class td{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Kp(t,e){return t.transaction([wh],e?"readwrite":"readonly").objectStore(wh)}function v6(){const t=indexedDB.deleteDatabase(q2);return new td(t).toPromise()}function Mv(){const t=indexedDB.open(q2,y6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(wh,{keyPath:W2})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(wh)?e(r):(r.close(),await v6(),e(await Mv()))})})}async function WS(t,e,n){const r=Kp(t,!0).put({[W2]:e,value:n});return new td(r).toPromise()}async function x6(t,e){const n=Kp(t,!1).get(e),r=await new td(n).toPromise();return r===void 0?null:r.value}function HS(t,e){const n=Kp(t,!0).delete(e);return new td(n).toPromise()}const b6=800,w6=3;class H2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Mv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>w6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return z2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hp._getInstance(g6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await p6(),!this.activeServiceWorker)return;this.sender=new f6(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||m6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Mv();return await WS(e,bh,"1"),await HS(e,bh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>WS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>x6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>HS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Kp(i,!1).getAll();return new td(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),b6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}H2.type="LOCAL";const _6=H2;new Jc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S6(t,e){return e?fi(e):(Ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb extends Pb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return wo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return wo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function E6(t){return R2(t.auth,new kb(t),t.bypassAuthState)}function A6(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),n6(n,new kb(t),t.bypassAuthState)}async function T6(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),t6(n,new kb(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return E6;case"linkViaPopup":case"linkViaRedirect":return T6;case"reauthViaPopup":case"reauthViaRedirect":return A6;default:Ir(this.auth,"internal-error")}}resolve(e){Ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6=new Jc(2e3,1e4);class ao extends K2{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ao.currentPopupAction&&ao.currentPopupAction.cancel(),ao.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){Ni(this.filter.length===1,"Popup operations only handle one event");const e=Cb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Br(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Br(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ao.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Br(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,N6.get())};e()}}ao.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I6="pendingRedirect",Rf=new Map;class P6 extends K2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Rf.get(this.auth._key());if(!e){try{const r=await j6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Rf.set(this.auth._key(),e)}return this.bypassAuthState||Rf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function j6(t,e){const n=k6(e),r=C6(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function O6(t,e){Rf.set(t._key(),e)}function C6(t){return fi(t._redirectPersistence)}function k6(t){return kf(I6,t.config.apiKey,t.name)}async function R6(t,e,n=!1){if(Mr(t.app))return Promise.reject(yi(t));const r=Na(t),i=S6(r,e),a=await new P6(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6=10*60*1e3;class M6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!G2(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Br(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=D6&&this.cachedEventUids.clear(),this.cachedEventUids.has(KS(e))}saveEventToCache(e){this.cachedEventUids.add(KS(e)),this.lastProcessedEventTime=Date.now()}}function KS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function G2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function $6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return G2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L6(t,e={}){return Di(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,F6=/^https?/;async function U6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await L6(t);for(const n of e)try{if(B6(n))return}catch{}Ir(t,"unauthorized-domain")}function B6(t){const e=kv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!F6.test(n))return!1;if(V6.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z6=new Jc(3e4,6e4);function GS(){const t=zr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function q6(t){return new Promise((e,n)=>{var r,i,s;function a(){GS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{GS(),n(Br(t,"network-request-failed"))},timeout:z6.get()})}if(!((i=(r=zr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=zr().gapi)===null||s===void 0)&&s.load)a();else{const o=$5("iframefcb");return zr()[o]=()=>{gapi.load?a():n(Br(t,"network-request-failed"))},j2(`${M5()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw Df=null,e})}let Df=null;function W6(t){return Df=Df||q6(t),Df}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6=new Jc(5e3,15e3),K6="__/auth/iframe",G6="emulator/auth/iframe",Q6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},X6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Y6(t){const e=t.config;Ne(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Tb(e,G6):`https://${t.config.authDomain}/${K6}`,r={apiKey:e.apiKey,appName:t.name,v:Ta},i=X6.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Yc(r).slice(1)}`}async function J6(t){const e=await W6(t),n=zr().gapi;return Ne(n,t,"internal-error"),e.open({where:document.body,url:Y6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Q6,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=Br(t,"network-request-failed"),o=zr().setTimeout(()=>{s(a)},H6.get());function l(){zr().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},e3=500,t3=600,n3="_blank",r3="http://localhost";class QS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function i3(t,e,n,r=e3,i=t3){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},Z6),{width:r.toString(),height:i.toString(),top:s,left:a}),c=yn().toLowerCase();n&&(o=S2(c)?n3:n),w2(c)&&(e=e||r3,l.scrollbars="yes");const f=Object.entries(l).reduce((p,[m,g])=>`${p}${m}=${g},`,"");if(N5(c)&&o!=="_self")return s3(e||"",o),new QS(null);const h=window.open(e||"",o,f);Ne(h,t,"popup-blocked");try{h.focus()}catch{}return new QS(h)}function s3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3="__/auth/handler",o3="emulator/auth/handler",l3=encodeURIComponent("fac");async function XS(t,e,n,r,i,s){Ne(t.config.authDomain,t,"auth-domain-config-required"),Ne(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ta,eventId:i};if(e instanceof C2){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",Y4(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,h]of Object.entries({}))a[f]=h}if(e instanceof ed){const f=e.getScopes().filter(h=>h!=="");f.length>0&&(a.scopes=f.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const f of Object.keys(o))o[f]===void 0&&delete o[f];const l=await t._getAppCheckToken(),c=l?`#${l3}=${encodeURIComponent(l)}`:"";return`${u3(t)}?${Yc(o).slice(1)}${c}`}function u3({config:t}){return t.emulator?Tb(t,o3):`https://${t.authDomain}/${a3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty="webStorageSupport";class c3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=B2,this._completeRedirectFn=R6,this._overrideRedirectResult=O6}async _openPopup(e,n,r,i){var s;Ni((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await XS(e,n,r,kv(),i);return i3(e,a,Cb())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await XS(e,n,r,kv(),i);return h6(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ni(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await J6(e),r=new M6(e);return n.register("authEvent",i=>(Ne(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ty,{type:ty},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[ty];a!==void 0&&n(!!a),Ir(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=U6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return I2()||_2()||Ib()}}const d3=c3;var YS="@firebase/auth",JS="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function p3(t){ya(new vs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;Ne(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:P2(t)},c=new k5(r,i,s,l);return B5(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ya(new vs("auth-internal",e=>{const n=Na(e.getProvider("auth").getImmediate());return(r=>new f3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ur(YS,JS,h3(t)),Ur(YS,JS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3=5*60,g3=a2("authIdTokenMaxAge")||m3;let ZS=null;const y3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>g3)return;const i=n==null?void 0:n.token;ZS!==i&&(ZS=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Q2(t=Sb()){const e=qp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=U5(t,{popupRedirectResolver:d3,persistence:[_6,c6,B2]}),r=a2("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=y3(s.toString());a6(n,a,()=>a(n.currentUser)),s6(n,o=>a(o))}}const i=r2("auth");return i&&z5(n,`http://${i}`),n}function v3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}R5({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Br("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",v3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});p3("Browser");var eE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sa,X2;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,S){function I(){}I.prototype=S.prototype,E.D=S.prototype,E.prototype=new I,E.prototype.constructor=E,E.C=function(C,k,j){for(var O=Array(arguments.length-2),D=2;D<arguments.length;D++)O[D-2]=arguments[D];return S.prototype[k].apply(C,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,S,I){I||(I=0);var C=Array(16);if(typeof S=="string")for(var k=0;16>k;++k)C[k]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(k=0;16>k;++k)C[k]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=E.g[0],I=E.g[1],k=E.g[2];var j=E.g[3],O=S+(j^I&(k^j))+C[0]+3614090360&4294967295;S=I+(O<<7&4294967295|O>>>25),O=j+(k^S&(I^k))+C[1]+3905402710&4294967295,j=S+(O<<12&4294967295|O>>>20),O=k+(I^j&(S^I))+C[2]+606105819&4294967295,k=j+(O<<17&4294967295|O>>>15),O=I+(S^k&(j^S))+C[3]+3250441966&4294967295,I=k+(O<<22&4294967295|O>>>10),O=S+(j^I&(k^j))+C[4]+4118548399&4294967295,S=I+(O<<7&4294967295|O>>>25),O=j+(k^S&(I^k))+C[5]+1200080426&4294967295,j=S+(O<<12&4294967295|O>>>20),O=k+(I^j&(S^I))+C[6]+2821735955&4294967295,k=j+(O<<17&4294967295|O>>>15),O=I+(S^k&(j^S))+C[7]+4249261313&4294967295,I=k+(O<<22&4294967295|O>>>10),O=S+(j^I&(k^j))+C[8]+1770035416&4294967295,S=I+(O<<7&4294967295|O>>>25),O=j+(k^S&(I^k))+C[9]+2336552879&4294967295,j=S+(O<<12&4294967295|O>>>20),O=k+(I^j&(S^I))+C[10]+4294925233&4294967295,k=j+(O<<17&4294967295|O>>>15),O=I+(S^k&(j^S))+C[11]+2304563134&4294967295,I=k+(O<<22&4294967295|O>>>10),O=S+(j^I&(k^j))+C[12]+1804603682&4294967295,S=I+(O<<7&4294967295|O>>>25),O=j+(k^S&(I^k))+C[13]+4254626195&4294967295,j=S+(O<<12&4294967295|O>>>20),O=k+(I^j&(S^I))+C[14]+2792965006&4294967295,k=j+(O<<17&4294967295|O>>>15),O=I+(S^k&(j^S))+C[15]+1236535329&4294967295,I=k+(O<<22&4294967295|O>>>10),O=S+(k^j&(I^k))+C[1]+4129170786&4294967295,S=I+(O<<5&4294967295|O>>>27),O=j+(I^k&(S^I))+C[6]+3225465664&4294967295,j=S+(O<<9&4294967295|O>>>23),O=k+(S^I&(j^S))+C[11]+643717713&4294967295,k=j+(O<<14&4294967295|O>>>18),O=I+(j^S&(k^j))+C[0]+3921069994&4294967295,I=k+(O<<20&4294967295|O>>>12),O=S+(k^j&(I^k))+C[5]+3593408605&4294967295,S=I+(O<<5&4294967295|O>>>27),O=j+(I^k&(S^I))+C[10]+38016083&4294967295,j=S+(O<<9&4294967295|O>>>23),O=k+(S^I&(j^S))+C[15]+3634488961&4294967295,k=j+(O<<14&4294967295|O>>>18),O=I+(j^S&(k^j))+C[4]+3889429448&4294967295,I=k+(O<<20&4294967295|O>>>12),O=S+(k^j&(I^k))+C[9]+568446438&4294967295,S=I+(O<<5&4294967295|O>>>27),O=j+(I^k&(S^I))+C[14]+3275163606&4294967295,j=S+(O<<9&4294967295|O>>>23),O=k+(S^I&(j^S))+C[3]+4107603335&4294967295,k=j+(O<<14&4294967295|O>>>18),O=I+(j^S&(k^j))+C[8]+1163531501&4294967295,I=k+(O<<20&4294967295|O>>>12),O=S+(k^j&(I^k))+C[13]+2850285829&4294967295,S=I+(O<<5&4294967295|O>>>27),O=j+(I^k&(S^I))+C[2]+4243563512&4294967295,j=S+(O<<9&4294967295|O>>>23),O=k+(S^I&(j^S))+C[7]+1735328473&4294967295,k=j+(O<<14&4294967295|O>>>18),O=I+(j^S&(k^j))+C[12]+2368359562&4294967295,I=k+(O<<20&4294967295|O>>>12),O=S+(I^k^j)+C[5]+4294588738&4294967295,S=I+(O<<4&4294967295|O>>>28),O=j+(S^I^k)+C[8]+2272392833&4294967295,j=S+(O<<11&4294967295|O>>>21),O=k+(j^S^I)+C[11]+1839030562&4294967295,k=j+(O<<16&4294967295|O>>>16),O=I+(k^j^S)+C[14]+4259657740&4294967295,I=k+(O<<23&4294967295|O>>>9),O=S+(I^k^j)+C[1]+2763975236&4294967295,S=I+(O<<4&4294967295|O>>>28),O=j+(S^I^k)+C[4]+1272893353&4294967295,j=S+(O<<11&4294967295|O>>>21),O=k+(j^S^I)+C[7]+4139469664&4294967295,k=j+(O<<16&4294967295|O>>>16),O=I+(k^j^S)+C[10]+3200236656&4294967295,I=k+(O<<23&4294967295|O>>>9),O=S+(I^k^j)+C[13]+681279174&4294967295,S=I+(O<<4&4294967295|O>>>28),O=j+(S^I^k)+C[0]+3936430074&4294967295,j=S+(O<<11&4294967295|O>>>21),O=k+(j^S^I)+C[3]+3572445317&4294967295,k=j+(O<<16&4294967295|O>>>16),O=I+(k^j^S)+C[6]+76029189&4294967295,I=k+(O<<23&4294967295|O>>>9),O=S+(I^k^j)+C[9]+3654602809&4294967295,S=I+(O<<4&4294967295|O>>>28),O=j+(S^I^k)+C[12]+3873151461&4294967295,j=S+(O<<11&4294967295|O>>>21),O=k+(j^S^I)+C[15]+530742520&4294967295,k=j+(O<<16&4294967295|O>>>16),O=I+(k^j^S)+C[2]+3299628645&4294967295,I=k+(O<<23&4294967295|O>>>9),O=S+(k^(I|~j))+C[0]+4096336452&4294967295,S=I+(O<<6&4294967295|O>>>26),O=j+(I^(S|~k))+C[7]+1126891415&4294967295,j=S+(O<<10&4294967295|O>>>22),O=k+(S^(j|~I))+C[14]+2878612391&4294967295,k=j+(O<<15&4294967295|O>>>17),O=I+(j^(k|~S))+C[5]+4237533241&4294967295,I=k+(O<<21&4294967295|O>>>11),O=S+(k^(I|~j))+C[12]+1700485571&4294967295,S=I+(O<<6&4294967295|O>>>26),O=j+(I^(S|~k))+C[3]+2399980690&4294967295,j=S+(O<<10&4294967295|O>>>22),O=k+(S^(j|~I))+C[10]+4293915773&4294967295,k=j+(O<<15&4294967295|O>>>17),O=I+(j^(k|~S))+C[1]+2240044497&4294967295,I=k+(O<<21&4294967295|O>>>11),O=S+(k^(I|~j))+C[8]+1873313359&4294967295,S=I+(O<<6&4294967295|O>>>26),O=j+(I^(S|~k))+C[15]+4264355552&4294967295,j=S+(O<<10&4294967295|O>>>22),O=k+(S^(j|~I))+C[6]+2734768916&4294967295,k=j+(O<<15&4294967295|O>>>17),O=I+(j^(k|~S))+C[13]+1309151649&4294967295,I=k+(O<<21&4294967295|O>>>11),O=S+(k^(I|~j))+C[4]+4149444226&4294967295,S=I+(O<<6&4294967295|O>>>26),O=j+(I^(S|~k))+C[11]+3174756917&4294967295,j=S+(O<<10&4294967295|O>>>22),O=k+(S^(j|~I))+C[2]+718787259&4294967295,k=j+(O<<15&4294967295|O>>>17),O=I+(j^(k|~S))+C[9]+3951481745&4294967295,E.g[0]=E.g[0]+S&4294967295,E.g[1]=E.g[1]+(k+(O<<21&4294967295|O>>>11))&4294967295,E.g[2]=E.g[2]+k&4294967295,E.g[3]=E.g[3]+j&4294967295}r.prototype.u=function(E,S){S===void 0&&(S=E.length);for(var I=S-this.blockSize,C=this.B,k=this.h,j=0;j<S;){if(k==0)for(;j<=I;)i(this,E,j),j+=this.blockSize;if(typeof E=="string"){for(;j<S;)if(C[k++]=E.charCodeAt(j++),k==this.blockSize){i(this,C),k=0;break}}else for(;j<S;)if(C[k++]=E[j++],k==this.blockSize){i(this,C),k=0;break}}this.h=k,this.o+=S},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var S=1;S<E.length-8;++S)E[S]=0;var I=8*this.o;for(S=E.length-8;S<E.length;++S)E[S]=I&255,I/=256;for(this.u(E),E=Array(16),S=I=0;4>S;++S)for(var C=0;32>C;C+=8)E[I++]=this.g[S]>>>C&255;return E};function s(E,S){var I=o;return Object.prototype.hasOwnProperty.call(I,E)?I[E]:I[E]=S(E)}function a(E,S){this.h=S;for(var I=[],C=!0,k=E.length-1;0<=k;k--){var j=E[k]|0;C&&j==S||(I[k]=j,C=!1)}this.g=I}var o={};function l(E){return-128<=E&&128>E?s(E,function(S){return new a([S|0],0>S?-1:0)}):new a([E|0],0>E?-1:0)}function c(E){if(isNaN(E)||!isFinite(E))return h;if(0>E)return _(c(-E));for(var S=[],I=1,C=0;E>=I;C++)S[C]=E/I|0,I*=4294967296;return new a(S,0)}function f(E,S){if(E.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(E.charAt(0)=="-")return _(f(E.substring(1),S));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(S,8)),C=h,k=0;k<E.length;k+=8){var j=Math.min(8,E.length-k),O=parseInt(E.substring(k,k+j),S);8>j?(j=c(Math.pow(S,j)),C=C.j(j).add(c(O))):(C=C.j(I),C=C.add(c(O)))}return C}var h=l(0),p=l(1),m=l(16777216);t=a.prototype,t.m=function(){if(w(this))return-_(this).m();for(var E=0,S=1,I=0;I<this.g.length;I++){var C=this.i(I);E+=(0<=C?C:4294967296+C)*S,S*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(g(this))return"0";if(w(this))return"-"+_(this).toString(E);for(var S=c(Math.pow(E,6)),I=this,C="";;){var k=P(I,S).g;I=b(I,k.j(S));var j=((0<I.g.length?I.g[0]:I.h)>>>0).toString(E);if(I=k,g(I))return j+C;for(;6>j.length;)j="0"+j;C=j+C}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function g(E){if(E.h!=0)return!1;for(var S=0;S<E.g.length;S++)if(E.g[S]!=0)return!1;return!0}function w(E){return E.h==-1}t.l=function(E){return E=b(this,E),w(E)?-1:g(E)?0:1};function _(E){for(var S=E.g.length,I=[],C=0;C<S;C++)I[C]=~E.g[C];return new a(I,~E.h).add(p)}t.abs=function(){return w(this)?_(this):this},t.add=function(E){for(var S=Math.max(this.g.length,E.g.length),I=[],C=0,k=0;k<=S;k++){var j=C+(this.i(k)&65535)+(E.i(k)&65535),O=(j>>>16)+(this.i(k)>>>16)+(E.i(k)>>>16);C=O>>>16,j&=65535,O&=65535,I[k]=O<<16|j}return new a(I,I[I.length-1]&-2147483648?-1:0)};function b(E,S){return E.add(_(S))}t.j=function(E){if(g(this)||g(E))return h;if(w(this))return w(E)?_(this).j(_(E)):_(_(this).j(E));if(w(E))return _(this.j(_(E)));if(0>this.l(m)&&0>E.l(m))return c(this.m()*E.m());for(var S=this.g.length+E.g.length,I=[],C=0;C<2*S;C++)I[C]=0;for(C=0;C<this.g.length;C++)for(var k=0;k<E.g.length;k++){var j=this.i(C)>>>16,O=this.i(C)&65535,D=E.i(k)>>>16,F=E.i(k)&65535;I[2*C+2*k]+=O*F,v(I,2*C+2*k),I[2*C+2*k+1]+=j*F,v(I,2*C+2*k+1),I[2*C+2*k+1]+=O*D,v(I,2*C+2*k+1),I[2*C+2*k+2]+=j*D,v(I,2*C+2*k+2)}for(C=0;C<S;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=S;C<2*S;C++)I[C]=0;return new a(I,0)};function v(E,S){for(;(E[S]&65535)!=E[S];)E[S+1]+=E[S]>>>16,E[S]&=65535,S++}function x(E,S){this.g=E,this.h=S}function P(E,S){if(g(S))throw Error("division by zero");if(g(E))return new x(h,h);if(w(E))return S=P(_(E),S),new x(_(S.g),_(S.h));if(w(S))return S=P(E,_(S)),new x(_(S.g),S.h);if(30<E.g.length){if(w(E)||w(S))throw Error("slowDivide_ only works with positive integers.");for(var I=p,C=S;0>=C.l(E);)I=A(I),C=A(C);var k=N(I,1),j=N(C,1);for(C=N(C,2),I=N(I,2);!g(C);){var O=j.add(C);0>=O.l(E)&&(k=k.add(I),j=O),C=N(C,1),I=N(I,1)}return S=b(E,k.j(S)),new x(k,S)}for(k=h;0<=E.l(S);){for(I=Math.max(1,Math.floor(E.m()/S.m())),C=Math.ceil(Math.log(I)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),j=c(I),O=j.j(S);w(O)||0<O.l(E);)I-=C,j=c(I),O=j.j(S);g(j)&&(j=p),k=k.add(j),E=b(E,O)}return new x(k,E)}t.A=function(E){return P(this,E).h},t.and=function(E){for(var S=Math.max(this.g.length,E.g.length),I=[],C=0;C<S;C++)I[C]=this.i(C)&E.i(C);return new a(I,this.h&E.h)},t.or=function(E){for(var S=Math.max(this.g.length,E.g.length),I=[],C=0;C<S;C++)I[C]=this.i(C)|E.i(C);return new a(I,this.h|E.h)},t.xor=function(E){for(var S=Math.max(this.g.length,E.g.length),I=[],C=0;C<S;C++)I[C]=this.i(C)^E.i(C);return new a(I,this.h^E.h)};function A(E){for(var S=E.g.length+1,I=[],C=0;C<S;C++)I[C]=E.i(C)<<1|E.i(C-1)>>>31;return new a(I,E.h)}function N(E,S){var I=S>>5;S%=32;for(var C=E.g.length-I,k=[],j=0;j<C;j++)k[j]=0<S?E.i(j+I)>>>S|E.i(j+I+1)<<32-S:E.i(j+I);return new a(k,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,X2=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=f,sa=a}).apply(typeof eE<"u"?eE:typeof self<"u"?self:typeof window<"u"?window:{});var Jd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Y2,fu,J2,Mf,$v,Z2,eO,tO;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,y,T){return d==Array.prototype||d==Object.prototype||(d[y]=T.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jd=="object"&&Jd];for(var y=0;y<d.length;++y){var T=d[y];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function i(d,y){if(y)e:{var T=r;d=d.split(".");for(var R=0;R<d.length-1;R++){var H=d[R];if(!(H in T))break e;T=T[H]}d=d[d.length-1],R=T[d],y=y(R),y!=R&&y!=null&&e(T,d,{configurable:!0,writable:!0,value:y})}}function s(d,y){d instanceof String&&(d+="");var T=0,R=!1,H={next:function(){if(!R&&T<d.length){var Y=T++;return{value:y(Y,d[Y]),done:!1}}return R=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}i("Array.prototype.values",function(d){return d||function(){return s(this,function(y,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(d){var y=typeof d;return y=y!="object"?y:d?Array.isArray(d)?"array":y:"null",y=="array"||y=="object"&&typeof d.length=="number"}function c(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function f(d,y,T){return d.call.apply(d.bind,arguments)}function h(d,y,T){if(!d)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,R),d.apply(y,H)}}return function(){return d.apply(y,arguments)}}function p(d,y,T){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:h,p.apply(null,arguments)}function m(d,y){var T=Array.prototype.slice.call(arguments,1);return function(){var R=T.slice();return R.push.apply(R,arguments),d.apply(this,R)}}function g(d,y){function T(){}T.prototype=y.prototype,d.aa=y.prototype,d.prototype=new T,d.prototype.constructor=d,d.Qb=function(R,H,Y){for(var ue=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)ue[Ze-2]=arguments[Ze];return y.prototype[H].apply(R,ue)}}function w(d){const y=d.length;if(0<y){const T=Array(y);for(let R=0;R<y;R++)T[R]=d[R];return T}return[]}function _(d,y){for(let T=1;T<arguments.length;T++){const R=arguments[T];if(l(R)){const H=d.length||0,Y=R.length||0;d.length=H+Y;for(let ue=0;ue<Y;ue++)d[H+ue]=R[ue]}else d.push(R)}}class b{constructor(y,T){this.i=y,this.j=T,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function v(d){return/^[\s\xa0]*$/.test(d)}function x(){var d=o.navigator;return d&&(d=d.userAgent)?d:""}function P(d){return P[" "](d),d}P[" "]=function(){};var A=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function N(d,y,T){for(const R in d)y.call(T,d[R],R,d)}function E(d,y){for(const T in d)y.call(void 0,d[T],T,d)}function S(d){const y={};for(const T in d)y[T]=d[T];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(d,y){let T,R;for(let H=1;H<arguments.length;H++){R=arguments[H];for(T in R)d[T]=R[T];for(let Y=0;Y<I.length;Y++)T=I[Y],Object.prototype.hasOwnProperty.call(R,T)&&(d[T]=R[T])}}function k(d){var y=1;d=d.split(":");const T=[];for(;0<y&&d.length;)T.push(d.shift()),y--;return d.length&&T.push(d.join(":")),T}function j(d){o.setTimeout(()=>{throw d},0)}function O(){var d=U;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class D{constructor(){this.h=this.g=null}add(y,T){const R=F.get();R.set(y,T),this.h?this.h.next=R:this.g=R,this.h=R}}var F=new b(()=>new K,d=>d.reset());class K{constructor(){this.next=this.g=this.h=null}set(y,T){this.h=y,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let B,M=!1,U=new D,V=()=>{const d=o.Promise.resolve(void 0);B=()=>{d.then(X)}};var X=()=>{for(var d;d=O();){try{d.h.call(d.g)}catch(T){j(T)}var y=F;y.j(d),100>y.h&&(y.h++,d.next=y.g,y.g=d)}M=!1};function $(){this.s=this.s,this.C=this.C}$.prototype.s=!1,$.prototype.ma=function(){this.s||(this.s=!0,this.N())},$.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function G(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}G.prototype.h=function(){this.defaultPrevented=!0};var ee=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};o.addEventListener("test",T,y),o.removeEventListener("test",T,y)}catch{}return d}();function fe(d,y){if(G.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var T=this.type=d.type,R=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget){if(A){e:{try{P(y.nodeName);var H=!0;break e}catch{}H=!1}H||(y=null)}}else T=="mouseover"?y=d.fromElement:T=="mouseout"&&(y=d.toElement);this.relatedTarget=y,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:z[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&fe.aa.h.call(this)}}g(fe,G);var z={2:"touch",3:"pen",4:"mouse"};fe.prototype.h=function(){fe.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var J="closure_listenable_"+(1e6*Math.random()|0),se=0;function q(d,y,T,R,H){this.listener=d,this.proxy=null,this.src=y,this.type=T,this.capture=!!R,this.ha=H,this.key=++se,this.da=this.fa=!1}function ce(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function te(d){this.src=d,this.g={},this.h=0}te.prototype.add=function(d,y,T,R,H){var Y=d.toString();d=this.g[Y],d||(d=this.g[Y]=[],this.h++);var ue=de(d,y,R,H);return-1<ue?(y=d[ue],T||(y.fa=!1)):(y=new q(y,this.src,Y,!!R,H),y.fa=T,d.push(y)),y};function Q(d,y){var T=y.type;if(T in d.g){var R=d.g[T],H=Array.prototype.indexOf.call(R,y,void 0),Y;(Y=0<=H)&&Array.prototype.splice.call(R,H,1),Y&&(ce(y),d.g[T].length==0&&(delete d.g[T],d.h--))}}function de(d,y,T,R){for(var H=0;H<d.length;++H){var Y=d[H];if(!Y.da&&Y.listener==y&&Y.capture==!!T&&Y.ha==R)return H}return-1}var oe="closure_lm_"+(1e6*Math.random()|0),we={};function Me(d,y,T,R,H){if(Array.isArray(y)){for(var Y=0;Y<y.length;Y++)Me(d,y[Y],T,R,H);return null}return T=Ee(T),d&&d[J]?d.K(y,T,c(R)?!!R.capture:!!R,H):pt(d,y,T,!1,R,H)}function pt(d,y,T,R,H,Y){if(!y)throw Error("Invalid event type");var ue=c(H)?!!H.capture:!!H,Ze=Xn(d);if(Ze||(d[oe]=Ze=new te(d)),T=Ze.add(y,T,R,ue,Y),T.proxy)return T;if(R=Ot(),T.proxy=R,R.src=d,R.listener=T,d.addEventListener)ee||(H=ue),H===void 0&&(H=!1),d.addEventListener(y.toString(),R,H);else if(d.attachEvent)d.attachEvent(Tt(y.toString()),R);else if(d.addListener&&d.removeListener)d.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Ot(){function d(T){return y.call(d.src,d.listener,T)}const y=mr;return d}function dt(d,y,T,R,H){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)dt(d,y[Y],T,R,H);else R=c(R)?!!R.capture:!!R,T=Ee(T),d&&d[J]?(d=d.i,y=String(y).toString(),y in d.g&&(Y=d.g[y],T=de(Y,T,R,H),-1<T&&(ce(Y[T]),Array.prototype.splice.call(Y,T,1),Y.length==0&&(delete d.g[y],d.h--)))):d&&(d=Xn(d))&&(y=d.g[y.toString()],d=-1,y&&(d=de(y,T,R,H)),(T=-1<d?y[d]:null)&&xt(T))}function xt(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[J])Q(y.i,d);else{var T=d.type,R=d.proxy;y.removeEventListener?y.removeEventListener(T,R,d.capture):y.detachEvent?y.detachEvent(Tt(T),R):y.addListener&&y.removeListener&&y.removeListener(R),(T=Xn(y))?(Q(T,d),T.h==0&&(T.src=null,y[oe]=null)):ce(d)}}}function Tt(d){return d in we?we[d]:we[d]="on"+d}function mr(d,y){if(d.da)d=!0;else{y=new fe(y,this);var T=d.listener,R=d.ha||d.src;d.fa&&xt(d),d=T.call(R,y)}return d}function Xn(d){return d=d[oe],d instanceof te?d:null}var ye="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ee(d){return typeof d=="function"?d:(d[ye]||(d[ye]=function(y){return d.handleEvent(y)}),d[ye])}function Ce(){$.call(this),this.i=new te(this),this.M=this,this.F=null}g(Ce,$),Ce.prototype[J]=!0,Ce.prototype.removeEventListener=function(d,y,T,R){dt(this,d,y,T,R)};function Oe(d,y){var T,R=d.F;if(R)for(T=[];R;R=R.F)T.push(R);if(d=d.M,R=y.type||y,typeof y=="string")y=new G(y,d);else if(y instanceof G)y.target=y.target||d;else{var H=y;y=new G(R,d),C(y,H)}if(H=!0,T)for(var Y=T.length-1;0<=Y;Y--){var ue=y.g=T[Y];H=bt(ue,R,!0,y)&&H}if(ue=y.g=d,H=bt(ue,R,!0,y)&&H,H=bt(ue,R,!1,y)&&H,T)for(Y=0;Y<T.length;Y++)ue=y.g=T[Y],H=bt(ue,R,!1,y)&&H}Ce.prototype.N=function(){if(Ce.aa.N.call(this),this.i){var d=this.i,y;for(y in d.g){for(var T=d.g[y],R=0;R<T.length;R++)ce(T[R]);delete d.g[y],d.h--}}this.F=null},Ce.prototype.K=function(d,y,T,R){return this.i.add(String(d),y,!1,T,R)},Ce.prototype.L=function(d,y,T,R){return this.i.add(String(d),y,!0,T,R)};function bt(d,y,T,R){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();for(var H=!0,Y=0;Y<y.length;++Y){var ue=y[Y];if(ue&&!ue.da&&ue.capture==T){var Ze=ue.listener,Gt=ue.ha||ue.src;ue.fa&&Q(d.i,ue),H=Ze.call(Gt,R)!==!1&&H}}return H&&!R.defaultPrevented}function Bt(d,y,T){if(typeof d=="function")T&&(d=p(d,T));else if(d&&typeof d.handleEvent=="function")d=p(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:o.setTimeout(d,y||0)}function Nt(d){d.g=Bt(()=>{d.g=null,d.i&&(d.i=!1,Nt(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class vn extends ${constructor(y,T){super(),this.m=y,this.l=T,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Nt(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Or(d){$.call(this),this.h=d,this.g={}}g(Or,$);var gd=[];function ke(d){N(d.g,function(y,T){this.g.hasOwnProperty(T)&&xt(y)},d),d.g={}}Or.prototype.N=function(){Or.aa.N.call(this),ke(this)},Or.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Il=o.JSON.stringify,og=o.JSON.parse,lg=class{stringify(d){return o.JSON.stringify(d,void 0)}parse(d){return o.JSON.parse(d,void 0)}};function yd(){}yd.prototype.h=null;function Tn(d){return d.h||(d.h=d.i())}function Ra(){}var Pl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ug(){G.call(this,"d")}g(ug,G);function cg(){G.call(this,"c")}g(cg,G);var Ds={},N_=null;function vd(){return N_=N_||new Ce}Ds.La="serverreachability";function I_(d){G.call(this,Ds.La,d)}g(I_,G);function jl(d){const y=vd();Oe(y,new I_(y))}Ds.STAT_EVENT="statevent";function P_(d,y){G.call(this,Ds.STAT_EVENT,d),this.stat=y}g(P_,G);function xn(d){const y=vd();Oe(y,new P_(y,d))}Ds.Ma="timingevent";function j_(d,y){G.call(this,Ds.Ma,d),this.size=y}g(j_,G);function Ol(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){d()},y)}function Cl(){this.g=!0}Cl.prototype.xa=function(){this.g=!1};function MD(d,y,T,R,H,Y){d.info(function(){if(d.g)if(Y)for(var ue="",Ze=Y.split("&"),Gt=0;Gt<Ze.length;Gt++){var ze=Ze[Gt].split("=");if(1<ze.length){var an=ze[0];ze=ze[1];var on=an.split("_");ue=2<=on.length&&on[1]=="type"?ue+(an+"="+ze+"&"):ue+(an+"=redacted&")}}else ue=null;else ue=Y;return"XMLHTTP REQ ("+R+") [attempt "+H+"]: "+y+`
`+T+`
`+ue})}function $D(d,y,T,R,H,Y,ue){d.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+H+"]: "+y+`
`+T+`
`+Y+" "+ue})}function Da(d,y,T,R){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+VD(d,T)+(R?" "+R:"")})}function LD(d,y){d.info(function(){return"TIMEOUT: "+y})}Cl.prototype.info=function(){};function VD(d,y){if(!d.g)return y;if(!y)return null;try{var T=JSON.parse(y);if(T){for(d=0;d<T.length;d++)if(Array.isArray(T[d])){var R=T[d];if(!(2>R.length)){var H=R[1];if(Array.isArray(H)&&!(1>H.length)){var Y=H[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ue=1;ue<H.length;ue++)H[ue]=""}}}}return Il(T)}catch{return y}}var xd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},O_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},dg;function bd(){}g(bd,yd),bd.prototype.g=function(){return new XMLHttpRequest},bd.prototype.i=function(){return{}},dg=new bd;function Fi(d,y,T,R){this.j=d,this.i=y,this.l=T,this.R=R||1,this.U=new Or(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new C_}function C_(){this.i=null,this.g="",this.h=!1}var k_={},fg={};function hg(d,y,T){d.L=1,d.v=Ed(ni(y)),d.m=T,d.P=!0,R_(d,null)}function R_(d,y){d.F=Date.now(),wd(d),d.A=ni(d.v);var T=d.A,R=d.R;Array.isArray(R)||(R=[String(R)]),G_(T.i,"t",R),d.C=0,T=d.j.J,d.h=new C_,d.g=f1(d.j,T?y:null,!d.m),0<d.O&&(d.M=new vn(p(d.Y,d,d.g),d.O)),y=d.U,T=d.g,R=d.ca;var H="readystatechange";Array.isArray(H)||(H&&(gd[0]=H.toString()),H=gd);for(var Y=0;Y<H.length;Y++){var ue=Me(T,H[Y],R||y.handleEvent,!1,y.h||y);if(!ue)break;y.g[ue.key]=ue}y=d.H?S(d.H):{},d.m?(d.u||(d.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,y)):(d.u="GET",d.g.ea(d.A,d.u,null,y)),jl(),MD(d.i,d.u,d.A,d.l,d.R,d.m)}Fi.prototype.ca=function(d){d=d.target;const y=this.M;y&&ri(d)==3?y.j():this.Y(d)},Fi.prototype.Y=function(d){try{if(d==this.g)e:{const on=ri(this.g);var y=this.g.Ba();const La=this.g.Z();if(!(3>on)&&(on!=3||this.g&&(this.h.h||this.g.oa()||t1(this.g)))){this.J||on!=4||y==7||(y==8||0>=La?jl(3):jl(2)),pg(this);var T=this.g.Z();this.X=T;t:if(D_(this)){var R=t1(this.g);d="";var H=R.length,Y=ri(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ms(this),kl(this);var ue="";break t}this.h.i=new o.TextDecoder}for(y=0;y<H;y++)this.h.h=!0,d+=this.h.i.decode(R[y],{stream:!(Y&&y==H-1)});R.length=0,this.h.g+=d,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=T==200,$D(this.i,this.u,this.A,this.l,this.R,on,T),this.o){if(this.T&&!this.K){t:{if(this.g){var Ze,Gt=this.g;if((Ze=Gt.g?Gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Ze)){var ze=Ze;break t}}ze=null}if(T=ze)Da(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mg(this,T);else{this.o=!1,this.s=3,xn(12),Ms(this),kl(this);break e}}if(this.P){T=!0;let gr;for(;!this.J&&this.C<ue.length;)if(gr=FD(this,ue),gr==fg){on==4&&(this.s=4,xn(14),T=!1),Da(this.i,this.l,null,"[Incomplete Response]");break}else if(gr==k_){this.s=4,xn(15),Da(this.i,this.l,ue,"[Invalid Chunk]"),T=!1;break}else Da(this.i,this.l,gr,null),mg(this,gr);if(D_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),on!=4||ue.length!=0||this.h.h||(this.s=1,xn(16),T=!1),this.o=this.o&&T,!T)Da(this.i,this.l,ue,"[Invalid Chunked Response]"),Ms(this),kl(this);else if(0<ue.length&&!this.W){this.W=!0;var an=this.j;an.g==this&&an.ba&&!an.M&&(an.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),wg(an),an.M=!0,xn(11))}}else Da(this.i,this.l,ue,null),mg(this,ue);on==4&&Ms(this),this.o&&!this.J&&(on==4?l1(this.j,this):(this.o=!1,wd(this)))}else rM(this.g),T==400&&0<ue.indexOf("Unknown SID")?(this.s=3,xn(12)):(this.s=0,xn(13)),Ms(this),kl(this)}}}catch{}finally{}};function D_(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function FD(d,y){var T=d.C,R=y.indexOf(`
`,T);return R==-1?fg:(T=Number(y.substring(T,R)),isNaN(T)?k_:(R+=1,R+T>y.length?fg:(y=y.slice(R,R+T),d.C=R+T,y)))}Fi.prototype.cancel=function(){this.J=!0,Ms(this)};function wd(d){d.S=Date.now()+d.I,M_(d,d.I)}function M_(d,y){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Ol(p(d.ba,d),y)}function pg(d){d.B&&(o.clearTimeout(d.B),d.B=null)}Fi.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(LD(this.i,this.A),this.L!=2&&(jl(),xn(17)),Ms(this),this.s=2,kl(this)):M_(this,this.S-d)};function kl(d){d.j.G==0||d.J||l1(d.j,d)}function Ms(d){pg(d);var y=d.M;y&&typeof y.ma=="function"&&y.ma(),d.M=null,ke(d.U),d.g&&(y=d.g,d.g=null,y.abort(),y.ma())}function mg(d,y){try{var T=d.j;if(T.G!=0&&(T.g==d||gg(T.h,d))){if(!d.K&&gg(T.h,d)&&T.G==3){try{var R=T.Da.g.parse(y)}catch{R=null}if(Array.isArray(R)&&R.length==3){var H=R;if(H[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<d.F)jd(T),Id(T);else break e;bg(T),xn(18)}}else T.za=H[1],0<T.za-T.T&&37500>H[2]&&T.F&&T.v==0&&!T.C&&(T.C=Ol(p(T.Za,T),6e3));if(1>=V_(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Ls(T,11)}else if((d.K||T.g==d)&&jd(T),!v(y))for(H=T.Da.g.parse(y),y=0;y<H.length;y++){let ze=H[y];if(T.T=ze[0],ze=ze[1],T.G==2)if(ze[0]=="c"){T.K=ze[1],T.ia=ze[2];const an=ze[3];an!=null&&(T.la=an,T.j.info("VER="+T.la));const on=ze[4];on!=null&&(T.Aa=on,T.j.info("SVER="+T.Aa));const La=ze[5];La!=null&&typeof La=="number"&&0<La&&(R=1.5*La,T.L=R,T.j.info("backChannelRequestTimeoutMs_="+R)),R=T;const gr=d.g;if(gr){const Cd=gr.g?gr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Cd){var Y=R.h;Y.g||Cd.indexOf("spdy")==-1&&Cd.indexOf("quic")==-1&&Cd.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(yg(Y,Y.h),Y.h=null))}if(R.D){const _g=gr.g?gr.g.getResponseHeader("X-HTTP-Session-Id"):null;_g&&(R.ya=_g,st(R.I,R.D,_g))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-d.F,T.j.info("Handshake RTT: "+T.R+"ms")),R=T;var ue=d;if(R.qa=d1(R,R.J?R.ia:null,R.W),ue.K){F_(R.h,ue);var Ze=ue,Gt=R.L;Gt&&(Ze.I=Gt),Ze.B&&(pg(Ze),wd(Ze)),R.g=ue}else a1(R);0<T.i.length&&Pd(T)}else ze[0]!="stop"&&ze[0]!="close"||Ls(T,7);else T.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?Ls(T,7):xg(T):ze[0]!="noop"&&T.l&&T.l.ta(ze),T.v=0)}}jl(4)}catch{}}var UD=class{constructor(d,y){this.g=d,this.map=y}};function $_(d){this.l=d||10,o.PerformanceNavigationTiming?(d=o.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function L_(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function V_(d){return d.h?1:d.g?d.g.size:0}function gg(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function yg(d,y){d.g?d.g.add(y):d.h=y}function F_(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}$_.prototype.cancel=function(){if(this.i=U_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function U_(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const T of d.g.values())y=y.concat(T.D);return y}return w(d.i)}function BD(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var y=[],T=d.length,R=0;R<T;R++)y.push(d[R]);return y}y=[],T=0;for(R in d)y[T++]=d[R];return y}function zD(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var y=[];d=d.length;for(var T=0;T<d;T++)y.push(T);return y}y=[],T=0;for(const R in d)y[T++]=R;return y}}}function B_(d,y){if(d.forEach&&typeof d.forEach=="function")d.forEach(y,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,y,void 0);else for(var T=zD(d),R=BD(d),H=R.length,Y=0;Y<H;Y++)y.call(void 0,R[Y],T&&T[Y],d)}var z_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qD(d,y){if(d){d=d.split("&");for(var T=0;T<d.length;T++){var R=d[T].indexOf("="),H=null;if(0<=R){var Y=d[T].substring(0,R);H=d[T].substring(R+1)}else Y=d[T];y(Y,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function $s(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof $s){this.h=d.h,_d(this,d.j),this.o=d.o,this.g=d.g,Sd(this,d.s),this.l=d.l;var y=d.i,T=new Ml;T.i=y.i,y.g&&(T.g=new Map(y.g),T.h=y.h),q_(this,T),this.m=d.m}else d&&(y=String(d).match(z_))?(this.h=!1,_d(this,y[1]||"",!0),this.o=Rl(y[2]||""),this.g=Rl(y[3]||"",!0),Sd(this,y[4]),this.l=Rl(y[5]||"",!0),q_(this,y[6]||"",!0),this.m=Rl(y[7]||"")):(this.h=!1,this.i=new Ml(null,this.h))}$s.prototype.toString=function(){var d=[],y=this.j;y&&d.push(Dl(y,W_,!0),":");var T=this.g;return(T||y=="file")&&(d.push("//"),(y=this.o)&&d.push(Dl(y,W_,!0),"@"),d.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&d.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(Dl(T,T.charAt(0)=="/"?KD:HD,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",Dl(T,QD)),d.join("")};function ni(d){return new $s(d)}function _d(d,y,T){d.j=T?Rl(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function Sd(d,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);d.s=y}else d.s=null}function q_(d,y,T){y instanceof Ml?(d.i=y,XD(d.i,d.h)):(T||(y=Dl(y,GD)),d.i=new Ml(y,d.h))}function st(d,y,T){d.i.set(y,T)}function Ed(d){return st(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Rl(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Dl(d,y,T){return typeof d=="string"?(d=encodeURI(d).replace(y,WD),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function WD(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var W_=/[#\/\?@]/g,HD=/[#\?:]/g,KD=/[#\?]/g,GD=/[#\?@]/g,QD=/#/g;function Ml(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function Ui(d){d.g||(d.g=new Map,d.h=0,d.i&&qD(d.i,function(y,T){d.add(decodeURIComponent(y.replace(/\+/g," ")),T)}))}t=Ml.prototype,t.add=function(d,y){Ui(this),this.i=null,d=Ma(this,d);var T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(y),this.h+=1,this};function H_(d,y){Ui(d),y=Ma(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function K_(d,y){return Ui(d),y=Ma(d,y),d.g.has(y)}t.forEach=function(d,y){Ui(this),this.g.forEach(function(T,R){T.forEach(function(H){d.call(y,H,R,this)},this)},this)},t.na=function(){Ui(this);const d=Array.from(this.g.values()),y=Array.from(this.g.keys()),T=[];for(let R=0;R<y.length;R++){const H=d[R];for(let Y=0;Y<H.length;Y++)T.push(y[R])}return T},t.V=function(d){Ui(this);let y=[];if(typeof d=="string")K_(this,d)&&(y=y.concat(this.g.get(Ma(this,d))));else{d=Array.from(this.g.values());for(let T=0;T<d.length;T++)y=y.concat(d[T])}return y},t.set=function(d,y){return Ui(this),this.i=null,d=Ma(this,d),K_(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},t.get=function(d,y){return d?(d=this.V(d),0<d.length?String(d[0]):y):y};function G_(d,y,T){H_(d,y),0<T.length&&(d.i=null,d.g.set(Ma(d,y),w(T)),d.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(var T=0;T<y.length;T++){var R=y[T];const Y=encodeURIComponent(String(R)),ue=this.V(R);for(R=0;R<ue.length;R++){var H=Y;ue[R]!==""&&(H+="="+encodeURIComponent(String(ue[R]))),d.push(H)}}return this.i=d.join("&")};function Ma(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function XD(d,y){y&&!d.j&&(Ui(d),d.i=null,d.g.forEach(function(T,R){var H=R.toLowerCase();R!=H&&(H_(this,R),G_(this,H,T))},d)),d.j=y}function YD(d,y){const T=new Cl;if(o.Image){const R=new Image;R.onload=m(Bi,T,"TestLoadImage: loaded",!0,y,R),R.onerror=m(Bi,T,"TestLoadImage: error",!1,y,R),R.onabort=m(Bi,T,"TestLoadImage: abort",!1,y,R),R.ontimeout=m(Bi,T,"TestLoadImage: timeout",!1,y,R),o.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=d}else y(!1)}function JD(d,y){const T=new Cl,R=new AbortController,H=setTimeout(()=>{R.abort(),Bi(T,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:R.signal}).then(Y=>{clearTimeout(H),Y.ok?Bi(T,"TestPingServer: ok",!0,y):Bi(T,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(H),Bi(T,"TestPingServer: error",!1,y)})}function Bi(d,y,T,R,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),R(T)}catch{}}function ZD(){this.g=new lg}function eM(d,y,T){const R=T||"";try{B_(d,function(H,Y){let ue=H;c(H)&&(ue=Il(H)),y.push(R+Y+"="+encodeURIComponent(ue))})}catch(H){throw y.push(R+"type="+encodeURIComponent("_badmap")),H}}function Ad(d){this.l=d.Ub||null,this.j=d.eb||!1}g(Ad,yd),Ad.prototype.g=function(){return new Td(this.l,this.j)},Ad.prototype.i=function(d){return function(){return d}}({});function Td(d,y){Ce.call(this),this.D=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(Td,Ce),t=Td.prototype,t.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=y,this.readyState=1,Ll(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(y.body=d),(this.D||o).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$l(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Ll(this)),this.g&&(this.readyState=3,Ll(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Q_(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Q_(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?$l(this):Ll(this),this.readyState==3&&Q_(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,$l(this))},t.Qa=function(d){this.g&&(this.response=d,$l(this))},t.ga=function(){this.g&&$l(this)};function $l(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Ll(d)}t.setRequestHeader=function(d,y){this.u.append(d,y)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var T=y.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=y.next();return d.join(`\r
`)};function Ll(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Td.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function X_(d){let y="";return N(d,function(T,R){y+=R,y+=":",y+=T,y+=`\r
`}),y}function vg(d,y,T){e:{for(R in T){var R=!1;break e}R=!0}R||(T=X_(T),typeof d=="string"?T!=null&&encodeURIComponent(String(T)):st(d,y,T))}function wt(d){Ce.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(wt,Ce);var tM=/^https?$/i,nM=["POST","PUT"];t=wt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,y,T,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():dg.g(),this.v=this.o?Tn(this.o):Tn(dg),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch(Y){Y_(this,Y);return}if(d=T||"",T=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var H in R)T.set(H,R[H]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const Y of R.keys())T.set(Y,R.get(Y));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(T.keys()).find(Y=>Y.toLowerCase()=="content-type"),H=o.FormData&&d instanceof o.FormData,!(0<=Array.prototype.indexOf.call(nM,y,void 0))||R||H||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ue]of T)this.g.setRequestHeader(Y,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{e1(this),this.u=!0,this.g.send(d),this.u=!1}catch(Y){Y_(this,Y)}};function Y_(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.m=5,J_(d),Nd(d)}function J_(d){d.A||(d.A=!0,Oe(d,"complete"),Oe(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Oe(this,"complete"),Oe(this,"abort"),Nd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Nd(this,!0)),wt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Z_(this):this.bb())},t.bb=function(){Z_(this)};function Z_(d){if(d.h&&typeof a<"u"&&(!d.v[1]||ri(d)!=4||d.Z()!=2)){if(d.u&&ri(d)==4)Bt(d.Ea,0,d);else if(Oe(d,"readystatechange"),ri(d)==4){d.h=!1;try{const ue=d.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var T;if(!(T=y)){var R;if(R=ue===0){var H=String(d.D).match(z_)[1]||null;!H&&o.self&&o.self.location&&(H=o.self.location.protocol.slice(0,-1)),R=!tM.test(H?H.toLowerCase():"")}T=R}if(T)Oe(d,"complete"),Oe(d,"success");else{d.m=6;try{var Y=2<ri(d)?d.g.statusText:""}catch{Y=""}d.l=Y+" ["+d.Z()+"]",J_(d)}}finally{Nd(d)}}}}function Nd(d,y){if(d.g){e1(d);const T=d.g,R=d.v[0]?()=>{}:null;d.g=null,d.v=null,y||Oe(d,"ready");try{T.onreadystatechange=R}catch{}}}function e1(d){d.I&&(o.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function ri(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<ri(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),og(y)}};function t1(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function rM(d){const y={};d=(d.g&&2<=ri(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<d.length;R++){if(v(d[R]))continue;var T=k(d[R]);const H=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Y=y[H]||[];y[H]=Y,Y.push(T)}E(y,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vl(d,y,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||y}function n1(d){this.Aa=0,this.i=[],this.j=new Cl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Vl("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Vl("baseRetryDelayMs",5e3,d),this.cb=Vl("retryDelaySeedMs",1e4,d),this.Wa=Vl("forwardChannelMaxRetries",2,d),this.wa=Vl("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new $_(d&&d.concurrentRequestLimit),this.Da=new ZD,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=n1.prototype,t.la=8,t.G=1,t.connect=function(d,y,T,R){xn(0),this.W=d,this.H=y||{},T&&R!==void 0&&(this.H.OSID=T,this.H.OAID=R),this.F=this.X,this.I=d1(this,null,this.W),Pd(this)};function xg(d){if(r1(d),d.G==3){var y=d.U++,T=ni(d.I);if(st(T,"SID",d.K),st(T,"RID",y),st(T,"TYPE","terminate"),Fl(d,T),y=new Fi(d,d.j,y),y.L=2,y.v=Ed(ni(T)),T=!1,o.navigator&&o.navigator.sendBeacon)try{T=o.navigator.sendBeacon(y.v.toString(),"")}catch{}!T&&o.Image&&(new Image().src=y.v,T=!0),T||(y.g=f1(y.j,null),y.g.ea(y.v)),y.F=Date.now(),wd(y)}c1(d)}function Id(d){d.g&&(wg(d),d.g.cancel(),d.g=null)}function r1(d){Id(d),d.u&&(o.clearTimeout(d.u),d.u=null),jd(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&o.clearTimeout(d.s),d.s=null)}function Pd(d){if(!L_(d.h)&&!d.s){d.s=!0;var y=d.Ga;B||V(),M||(B(),M=!0),U.add(y,d),d.B=0}}function iM(d,y){return V_(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=y.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Ol(p(d.Ga,d,y),u1(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const H=new Fi(this,this.j,d);let Y=this.o;if(this.S&&(Y?(Y=S(Y),C(Y,this.S)):Y=this.S),this.m!==null||this.O||(H.H=Y,Y=null),this.P)e:{for(var y=0,T=0;T<this.i.length;T++){t:{var R=this.i[T];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(y+=R,4096<y){y=T;break e}if(y===4096||T===this.i.length-1){y=T+1;break e}}y=1e3}else y=1e3;y=s1(this,H,y),T=ni(this.I),st(T,"RID",d),st(T,"CVER",22),this.D&&st(T,"X-HTTP-Session-Id",this.D),Fl(this,T),Y&&(this.O?y="headers="+encodeURIComponent(String(X_(Y)))+"&"+y:this.m&&vg(T,this.m,Y)),yg(this.h,H),this.Ua&&st(T,"TYPE","init"),this.P?(st(T,"$req",y),st(T,"SID","null"),H.T=!0,hg(H,T,null)):hg(H,T,y),this.G=2}}else this.G==3&&(d?i1(this,d):this.i.length==0||L_(this.h)||i1(this))};function i1(d,y){var T;y?T=y.l:T=d.U++;const R=ni(d.I);st(R,"SID",d.K),st(R,"RID",T),st(R,"AID",d.T),Fl(d,R),d.m&&d.o&&vg(R,d.m,d.o),T=new Fi(d,d.j,T,d.B+1),d.m===null&&(T.H=d.o),y&&(d.i=y.D.concat(d.i)),y=s1(d,T,1e3),T.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),yg(d.h,T),hg(T,R,y)}function Fl(d,y){d.H&&N(d.H,function(T,R){st(y,R,T)}),d.l&&B_({},function(T,R){st(y,R,T)})}function s1(d,y,T){T=Math.min(d.i.length,T);var R=d.l?p(d.l.Na,d.l,d):null;e:{var H=d.i;let Y=-1;for(;;){const ue=["count="+T];Y==-1?0<T?(Y=H[0].g,ue.push("ofs="+Y)):Y=0:ue.push("ofs="+Y);let Ze=!0;for(let Gt=0;Gt<T;Gt++){let ze=H[Gt].g;const an=H[Gt].map;if(ze-=Y,0>ze)Y=Math.max(0,H[Gt].g-100),Ze=!1;else try{eM(an,ue,"req"+ze+"_")}catch{R&&R(an)}}if(Ze){R=ue.join("&");break e}}}return d=d.i.splice(0,T),y.D=d,R}function a1(d){if(!d.g&&!d.u){d.Y=1;var y=d.Fa;B||V(),M||(B(),M=!0),U.add(y,d),d.v=0}}function bg(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Ol(p(d.Fa,d),u1(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,o1(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Ol(p(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,xn(10),Id(this),o1(this))};function wg(d){d.A!=null&&(o.clearTimeout(d.A),d.A=null)}function o1(d){d.g=new Fi(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var y=ni(d.qa);st(y,"RID","rpc"),st(y,"SID",d.K),st(y,"AID",d.T),st(y,"CI",d.F?"0":"1"),!d.F&&d.ja&&st(y,"TO",d.ja),st(y,"TYPE","xmlhttp"),Fl(d,y),d.m&&d.o&&vg(y,d.m,d.o),d.L&&(d.g.I=d.L);var T=d.g;d=d.ia,T.L=1,T.v=Ed(ni(y)),T.m=null,T.P=!0,R_(T,d)}t.Za=function(){this.C!=null&&(this.C=null,Id(this),bg(this),xn(19))};function jd(d){d.C!=null&&(o.clearTimeout(d.C),d.C=null)}function l1(d,y){var T=null;if(d.g==y){jd(d),wg(d),d.g=null;var R=2}else if(gg(d.h,y))T=y.D,F_(d.h,y),R=1;else return;if(d.G!=0){if(y.o)if(R==1){T=y.m?y.m.length:0,y=Date.now()-y.F;var H=d.B;R=vd(),Oe(R,new j_(R,T)),Pd(d)}else a1(d);else if(H=y.s,H==3||H==0&&0<y.X||!(R==1&&iM(d,y)||R==2&&bg(d)))switch(T&&0<T.length&&(y=d.h,y.i=y.i.concat(T)),H){case 1:Ls(d,5);break;case 4:Ls(d,10);break;case 3:Ls(d,6);break;default:Ls(d,2)}}}function u1(d,y){let T=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(T*=2),T*y}function Ls(d,y){if(d.j.info("Error code "+y),y==2){var T=p(d.fb,d),R=d.Xa;const H=!R;R=new $s(R||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||_d(R,"https"),Ed(R),H?YD(R.toString(),T):JD(R.toString(),T)}else xn(2);d.G=0,d.l&&d.l.sa(y),c1(d),r1(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),xn(2)):(this.j.info("Failed to ping google.com"),xn(1))};function c1(d){if(d.G=0,d.ka=[],d.l){const y=U_(d.h);(y.length!=0||d.i.length!=0)&&(_(d.ka,y),_(d.ka,d.i),d.h.i.length=0,w(d.i),d.i.length=0),d.l.ra()}}function d1(d,y,T){var R=T instanceof $s?ni(T):new $s(T);if(R.g!="")y&&(R.g=y+"."+R.g),Sd(R,R.s);else{var H=o.location;R=H.protocol,y=y?y+"."+H.hostname:H.hostname,H=+H.port;var Y=new $s(null);R&&_d(Y,R),y&&(Y.g=y),H&&Sd(Y,H),T&&(Y.l=T),R=Y}return T=d.D,y=d.ya,T&&y&&st(R,T,y),st(R,"VER",d.la),Fl(d,R),R}function f1(d,y,T){if(y&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Ca&&!d.pa?new wt(new Ad({eb:T})):new wt(d.pa),y.Ha(d.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function h1(){}t=h1.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Od(){}Od.prototype.g=function(d,y){return new Ln(d,y)};function Ln(d,y){Ce.call(this),this.g=new n1(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(d?d["X-WebChannel-Client-Profile"]=y.va:d={"X-WebChannel-Client-Profile":y.va}),this.g.S=d,(d=y&&y.Sb)&&!v(d)&&(this.g.m=d),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!v(y)&&(this.g.D=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new $a(this)}g(Ln,Ce),Ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ln.prototype.close=function(){xg(this.g)},Ln.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.u&&(T={},T.__data__=Il(d),d=T);y.i.push(new UD(y.Ya++,d)),y.G==3&&Pd(y)},Ln.prototype.N=function(){this.g.l=null,delete this.j,xg(this.g),delete this.g,Ln.aa.N.call(this)};function p1(d){ug.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){e:{for(const T in y){d=T;break e}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}g(p1,ug);function m1(){cg.call(this),this.status=1}g(m1,cg);function $a(d){this.g=d}g($a,h1),$a.prototype.ua=function(){Oe(this.g,"a")},$a.prototype.ta=function(d){Oe(this.g,new p1(d))},$a.prototype.sa=function(d){Oe(this.g,new m1)},$a.prototype.ra=function(){Oe(this.g,"b")},Od.prototype.createWebChannel=Od.prototype.g,Ln.prototype.send=Ln.prototype.o,Ln.prototype.open=Ln.prototype.m,Ln.prototype.close=Ln.prototype.close,tO=function(){return new Od},eO=function(){return vd()},Z2=Ds,$v={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xd.NO_ERROR=0,xd.TIMEOUT=8,xd.HTTP_ERROR=6,Mf=xd,O_.COMPLETE="complete",J2=O_,Ra.EventType=Pl,Pl.OPEN="a",Pl.CLOSE="b",Pl.ERROR="c",Pl.MESSAGE="d",Ce.prototype.listen=Ce.prototype.K,fu=Ra,wt.prototype.listenOnce=wt.prototype.L,wt.prototype.getLastError=wt.prototype.Ka,wt.prototype.getLastErrorCode=wt.prototype.Ba,wt.prototype.getStatus=wt.prototype.Z,wt.prototype.getResponseJson=wt.prototype.Oa,wt.prototype.getResponseText=wt.prototype.oa,wt.prototype.send=wt.prototype.ea,wt.prototype.setWithCredentials=wt.prototype.Ha,Y2=wt}).apply(typeof Jd<"u"?Jd:typeof self<"u"?self:typeof window<"u"?window:{});const tE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hl="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba=new bb("@firebase/firestore");function Ql(){return ba.logLevel}function ve(t,...e){if(ba.logLevel<=Ve.DEBUG){const n=e.map(Rb);ba.debug(`Firestore (${hl}): ${t}`,...n)}}function Ii(t,...e){if(ba.logLevel<=Ve.ERROR){const n=e.map(Rb);ba.error(`Firestore (${hl}): ${t}`,...n)}}function Ro(t,...e){if(ba.logLevel<=Ve.WARN){const n=e.map(Rb);ba.warn(`Firestore (${hl}): ${t}`,...n)}}function Rb(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(t="Unexpected state"){const e=`FIRESTORE (${hl}) INTERNAL ASSERTION FAILED: `+t;throw Ii(e),new Error(e)}function Qe(t,e){t||Ie()}function je(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends Zr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class x3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(dn.UNAUTHENTICATED))}shutdown(){}}class b3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class w3{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new vi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new vi,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new vi)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe(typeof r.accessToken=="string"),new nO(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string"),new dn(e)}}class _3{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class S3{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new _3(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class E3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class A3{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Qe(this.o===void 0);const r=s=>{s.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,ve("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Qe(typeof n.token=="string"),this.R=n.token,new E3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=T3(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function qe(t,e){return t<e?-1:t>e?1:0}function Do(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new pe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ft.fromMillis(Date.now())}static fromDate(e){return Ft.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ft(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new Ft(0,0))}static max(){return new Pe(new Ft(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ie(),r===void 0?r=e.length-n:r>e.length-n&&Ie(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ic.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ic?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ut extends ic{construct(e,n,r){return new ut(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ut(n)}static emptyPath(){return new ut([])}}const N3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends ic{construct(e,n,r){return new en(e,n,r)}static isValidIdentifier(e){return N3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new en(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new pe(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new pe(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new pe(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(r+=o,i++):(s(),i++)}if(s(),a)throw new pe(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(n)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.path=e}static fromPath(e){return new Se(ut.fromString(e))}static fromName(e){return new Se(ut.fromString(e).popFirst(5))}static empty(){return new Se(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new ut(e.slice()))}}function I3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Pe.fromTimestamp(r===1e9?new Ft(n+1,0):new Ft(n,r));return new xs(i,Se.empty(),e)}function P3(t){return new xs(t.readTime,t.key,-1)}class xs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new xs(Pe.min(),Se.empty(),-1)}static max(){return new xs(Pe.max(),Se.empty(),-1)}}function j3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Se.comparator(t.documentKey,e.documentKey),n!==0?n:qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class C3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nd(t){if(t.code!==ne.FAILED_PRECONDITION||t.message!==O3)throw t;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.reject(n)}static resolve(e){return new ie((n,r)=>{n(e)})}static reject(e){return new ie((n,r)=>{r(e)})}static waitFor(e){return new ie((n,r)=>{let i=0,s=0,a=!1;e.forEach(o=>{++i,o.next(()=>{++s,a&&s===i&&n()},l=>r(l))}),a=!0,s===i&&n()})}static or(e){let n=ie.resolve(!1);for(const r of e)n=n.next(i=>i?ie.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new ie((r,i)=>{const s=e.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(f=>{a[c]=f,++o,o===s&&r(a)},f=>i(f))}})}static doWhile(e,n){return new ie((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function k3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function rd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Db.oe=-1;function Gp(t){return t==null}function _h(t){return t===0&&1/t==-1/0}function R3(t){return typeof t=="number"&&Number.isInteger(t)&&!_h(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ia(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function iO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zd(this.root,e,this.comparator,!0)}}class Zd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Yt.RED,this.left=i??Yt.EMPTY,this.right=s??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Yt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Yt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ie();const e=this.left.check();if(e!==this.right.check())throw Ie();return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie()}get value(){throw Ie()}get color(){throw Ie()}get left(){throw Ie()}get right(){throw Ie()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new rE(this.data.getIterator())}getIteratorFrom(e){return new rE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof nn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new nn(this.comparator);return n.data=e,n}}class rE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new qn([])}unionWith(e){let n=new nn(en.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new qn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Do(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new sO("Invalid base64 string: "+s):s}}(e);return new sn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new sn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const D3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bs(t){if(Qe(!!t),typeof t=="string"){let e=0;const n=D3.exec(t);if(Qe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:It(t.seconds),nanos:It(t.nanos)}}function It(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function wa(t){return typeof t=="string"?sn.fromBase64String(t):sn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function $b(t){const e=t.mapValue.fields.__previous_value__;return Mb(e)?$b(e):e}function sc(t){const e=bs(t.mapValue.fields.__local_write_time__.timestampValue);return new Ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(e,n,r,i,s,a,o,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c}}class ac{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ac("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ac&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function _a(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Mb(t)?4:L3(t)?9007199254740991:$3(t)?10:11:Ie()}function Qr(t,e){if(t===e)return!0;const n=_a(t);if(n!==_a(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return sc(t).isEqual(sc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=bs(i.timestampValue),o=bs(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return wa(i.bytesValue).isEqual(wa(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return It(i.geoPointValue.latitude)===It(s.geoPointValue.latitude)&&It(i.geoPointValue.longitude)===It(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return It(i.integerValue)===It(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=It(i.doubleValue),o=It(s.doubleValue);return a===o?_h(a)===_h(o):isNaN(a)&&isNaN(o)}return!1}(t,e);case 9:return Do(t.arrayValue.values||[],e.arrayValue.values||[],Qr);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(nE(a)!==nE(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!Qr(a[l],o[l])))return!1;return!0}(t,e);default:return Ie()}}function oc(t,e){return(t.values||[]).find(n=>Qr(n,e))!==void 0}function Mo(t,e){if(t===e)return 0;const n=_a(t),r=_a(e);if(n!==r)return qe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return qe(t.booleanValue,e.booleanValue);case 2:return function(s,a){const o=It(s.integerValue||s.doubleValue),l=It(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return iE(t.timestampValue,e.timestampValue);case 4:return iE(sc(t),sc(e));case 5:return qe(t.stringValue,e.stringValue);case 6:return function(s,a){const o=wa(s),l=wa(a);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const o=s.split("/"),l=a.split("/");for(let c=0;c<o.length&&c<l.length;c++){const f=qe(o[c],l[c]);if(f!==0)return f}return qe(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const o=qe(It(s.latitude),It(a.latitude));return o!==0?o:qe(It(s.longitude),It(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return sE(t.arrayValue,e.arrayValue);case 10:return function(s,a){var o,l,c,f;const h=s.fields||{},p=a.fields||{},m=(o=h.value)===null||o===void 0?void 0:o.arrayValue,g=(l=p.value)===null||l===void 0?void 0:l.arrayValue,w=qe(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((f=g==null?void 0:g.values)===null||f===void 0?void 0:f.length)||0);return w!==0?w:sE(m,g)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===ef.mapValue&&a===ef.mapValue)return 0;if(s===ef.mapValue)return 1;if(a===ef.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),c=a.fields||{},f=Object.keys(c);l.sort(),f.sort();for(let h=0;h<l.length&&h<f.length;++h){const p=qe(l[h],f[h]);if(p!==0)return p;const m=Mo(o[l[h]],c[f[h]]);if(m!==0)return m}return qe(l.length,f.length)}(t.mapValue,e.mapValue);default:throw Ie()}}function iE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return qe(t,e);const n=bs(t),r=bs(e),i=qe(n.seconds,r.seconds);return i!==0?i:qe(n.nanos,r.nanos)}function sE(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Mo(n[i],r[i]);if(s)return s}return qe(n.length,r.length)}function $o(t){return Lv(t)}function Lv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=bs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return wa(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Se.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Lv(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${Lv(n.fields[a])}`;return i+"}"}(t.mapValue):Ie()}function aE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Vv(t){return!!t&&"integerValue"in t}function Lb(t){return!!t&&"arrayValue"in t}function oE(t){return!!t&&"nullValue"in t}function lE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function $f(t){return!!t&&"mapValue"in t}function $3(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Pu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ia(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Pu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Pu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function L3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!$f(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pu(n)}setAll(e){let n=en.emptyPath(),r={},i=[];e.forEach((a,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}a?r[o.lastSegment()]=Pu(a):i.push(o.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());$f(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Qr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];$f(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ia(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new In(Pu(this.value))}}function aO(t){const e=[];return Ia(t.fields,(n,r)=>{const i=new en([n]);if($f(r)){const s=aO(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new qn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,n,r,i,s,a,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new hn(e,0,Pe.min(),Pe.min(),Pe.min(),In.empty(),0)}static newFoundDocument(e,n,r,i){return new hn(e,1,n,Pe.min(),r,i,0)}static newNoDocument(e,n){return new hn(e,2,n,Pe.min(),Pe.min(),In.empty(),0)}static newUnknownDocument(e,n){return new hn(e,3,n,Pe.min(),Pe.min(),In.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n){this.position=e,this.inclusive=n}}function uE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=Se.comparator(Se.fromName(a.referenceValue),n.key):r=Mo(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function cE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Qr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,n="asc"){this.field=e,this.dir=n}}function V3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oO=class{};class Rt extends oO{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new U3(e,n,r):n==="array-contains"?new q3(e,r):n==="in"?new W3(e,r):n==="not-in"?new H3(e,r):n==="array-contains-any"?new K3(e,r):new Rt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new B3(e,r):new z3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Mo(n,this.value)):n!==null&&_a(this.value)===_a(n)&&this.matchesComparison(Mo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pr extends oO{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Pr(e,n)}matches(e){return lO(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function lO(t){return t.op==="and"}function uO(t){return F3(t)&&lO(t)}function F3(t){for(const e of t.filters)if(e instanceof Pr)return!1;return!0}function Fv(t){if(t instanceof Rt)return t.field.canonicalString()+t.op.toString()+$o(t.value);if(uO(t))return t.filters.map(e=>Fv(e)).join(",");{const e=t.filters.map(n=>Fv(n)).join(",");return`${t.op}(${e})`}}function cO(t,e){return t instanceof Rt?function(r,i){return i instanceof Rt&&r.op===i.op&&r.field.isEqual(i.field)&&Qr(r.value,i.value)}(t,e):t instanceof Pr?function(r,i){return i instanceof Pr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,o)=>s&&cO(a,i.filters[o]),!0):!1}(t,e):void Ie()}function dO(t){return t instanceof Rt?function(n){return`${n.field.canonicalString()} ${n.op} ${$o(n.value)}`}(t):t instanceof Pr?function(n){return n.op.toString()+" {"+n.getFilters().map(dO).join(" ,")+"}"}(t):"Filter"}class U3 extends Rt{constructor(e,n,r){super(e,n,r),this.key=Se.fromName(r.referenceValue)}matches(e){const n=Se.comparator(e.key,this.key);return this.matchesComparison(n)}}class B3 extends Rt{constructor(e,n){super(e,"in",n),this.keys=fO("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class z3 extends Rt{constructor(e,n){super(e,"not-in",n),this.keys=fO("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function fO(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Se.fromName(r.referenceValue))}class q3 extends Rt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Lb(n)&&oc(n.arrayValue,this.value)}}class W3 extends Rt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&oc(this.value.arrayValue,n)}}class H3 extends Rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(oc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!oc(this.value.arrayValue,n)}}class K3 extends Rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Lb(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>oc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e,n=null,r=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.ue=null}}function dE(t,e=null,n=[],r=[],i=null,s=null,a=null){return new G3(t,e,n,r,i,s,a)}function Vb(t){const e=je(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Fv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Gp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>$o(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>$o(r)).join(",")),e.ue=n}return e.ue}function Fb(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!V3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!cO(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!cE(t.startAt,e.startAt)&&cE(t.endAt,e.endAt)}function Uv(t){return Se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e,n=null,r=[],i=[],s=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Q3(t,e,n,r,i,s,a,o){return new pl(t,e,n,r,i,s,a,o)}function Qp(t){return new pl(t)}function fE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function hO(t){return t.collectionGroup!==null}function ju(t){const e=je(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new nn(en.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new lc(s,r))}),n.has(en.keyField().canonicalString())||e.ce.push(new lc(en.keyField(),r))}return e.ce}function qr(t){const e=je(t);return e.le||(e.le=X3(e,ju(t))),e.le}function X3(t,e){if(t.limitType==="F")return dE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new lc(i.field,s)});const n=t.endAt?new Sh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Sh(t.startAt.position,t.startAt.inclusive):null;return dE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Bv(t,e){const n=t.filters.concat([e]);return new pl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function zv(t,e,n){return new pl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Xp(t,e){return Fb(qr(t),qr(e))&&t.limitType===e.limitType}function pO(t){return`${Vb(qr(t))}|lt:${t.limitType}`}function za(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>dO(i)).join(", ")}]`),Gp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>$o(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>$o(i)).join(",")),`Target(${r})`}(qr(t))}; limitType=${t.limitType})`}function Yp(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Se.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of ju(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,o,l){const c=uE(a,o,l);return a.inclusive?c<=0:c<0}(r.startAt,ju(r),i)||r.endAt&&!function(a,o,l){const c=uE(a,o,l);return a.inclusive?c>=0:c>0}(r.endAt,ju(r),i))}(t,e)}function Y3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function mO(t){return(e,n)=>{let r=!1;for(const i of ju(t)){const s=J3(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function J3(t,e,n){const r=t.field.isKeyField()?Se.comparator(e.key,n.key):function(s,a,o){const l=a.data.field(s),c=o.data.field(s);return l!==null&&c!==null?Mo(l,c):Ie()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ie()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ia(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return iO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3=new vt(Se.comparator);function Pi(){return Z3}const gO=new vt(Se.comparator);function hu(...t){let e=gO;for(const n of t)e=e.insert(n.key,n);return e}function yO(t){let e=gO;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Zs(){return Ou()}function vO(){return Ou()}function Ou(){return new ml(t=>t.toString(),(t,e)=>t.isEqual(e))}const eV=new vt(Se.comparator),tV=new nn(Se.comparator);function Le(...t){let e=tV;for(const n of t)e=e.add(n);return e}const nV=new nn(qe);function rV(){return nV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_h(e)?"-0":e}}function xO(t){return{integerValue:""+t}}function iV(t,e){return R3(e)?xO(e):Ub(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(){this._=void 0}}function sV(t,e,n){return t instanceof Eh?function(i,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Mb(s)&&(s=$b(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(n,e):t instanceof uc?wO(t,e):t instanceof cc?_O(t,e):function(i,s){const a=bO(i,s),o=hE(a)+hE(i.Pe);return Vv(a)&&Vv(i.Pe)?xO(o):Ub(i.serializer,o)}(t,e)}function aV(t,e,n){return t instanceof uc?wO(t,e):t instanceof cc?_O(t,e):n}function bO(t,e){return t instanceof Ah?function(r){return Vv(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Eh extends Jp{}class uc extends Jp{constructor(e){super(),this.elements=e}}function wO(t,e){const n=SO(e);for(const r of t.elements)n.some(i=>Qr(i,r))||n.push(r);return{arrayValue:{values:n}}}class cc extends Jp{constructor(e){super(),this.elements=e}}function _O(t,e){let n=SO(e);for(const r of t.elements)n=n.filter(i=>!Qr(i,r));return{arrayValue:{values:n}}}class Ah extends Jp{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function hE(t){return It(t.integerValue||t.doubleValue)}function SO(t){return Lb(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function oV(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof uc&&i instanceof uc||r instanceof cc&&i instanceof cc?Do(r.elements,i.elements,Qr):r instanceof Ah&&i instanceof Ah?Qr(r.Pe,i.Pe):r instanceof Eh&&i instanceof Eh}(t.transform,e.transform)}class lV{constructor(e,n){this.version=e,this.transformResults=n}}class lr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new lr}static exists(e){return new lr(void 0,e)}static updateTime(e){return new lr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Zp{}function EO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Bb(t.key,lr.none()):new id(t.key,t.data,lr.none());{const n=t.data,r=In.empty();let i=new nn(en.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new Is(t.key,r,new qn(i.toArray()),lr.none())}}function uV(t,e,n){t instanceof id?function(i,s,a){const o=i.value.clone(),l=mE(i.fieldTransforms,s,a.transformResults);o.setAll(l),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Is?function(i,s,a){if(!Lf(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=mE(i.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(AO(i)),l.setAll(o),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Cu(t,e,n,r){return t instanceof id?function(s,a,o,l){if(!Lf(s.precondition,a))return o;const c=s.value.clone(),f=gE(s.fieldTransforms,l,a);return c.setAll(f),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Is?function(s,a,o,l){if(!Lf(s.precondition,a))return o;const c=gE(s.fieldTransforms,l,a),f=a.data;return f.setAll(AO(s)),f.setAll(c),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,a,o){return Lf(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(t,e,n)}function cV(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=bO(r.transform,i||null);s!=null&&(n===null&&(n=In.empty()),n.set(r.field,s))}return n||null}function pE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Do(r,i,(s,a)=>oV(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class id extends Zp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Is extends Zp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function AO(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function mE(t,e,n){const r=new Map;Qe(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);r.set(s.field,aV(a,o,n[i]))}return r}function gE(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,sV(s,a,e))}return r}class Bb extends Zp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dV extends Zp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&uV(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Cu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Cu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=vO();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=n.has(i.key)?null:o;const l=EO(a,o);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(Pe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Le())}isEqual(e){return this.batchId===e.batchId&&Do(this.mutations,e.mutations,(n,r)=>pE(n,r))&&Do(this.baseMutations,e.baseMutations,(n,r)=>pE(n,r))}}class zb{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Qe(e.mutations.length===r.length);let i=function(){return eV}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new zb(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct,Ue;function mV(t){switch(t){default:return Ie();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0}}function TO(t){if(t===void 0)return Ii("GRPC error has no .code"),ne.UNKNOWN;switch(t){case Ct.OK:return ne.OK;case Ct.CANCELLED:return ne.CANCELLED;case Ct.UNKNOWN:return ne.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return ne.INTERNAL;case Ct.UNAVAILABLE:return ne.UNAVAILABLE;case Ct.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Ct.NOT_FOUND:return ne.NOT_FOUND;case Ct.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Ct.ABORTED:return ne.ABORTED;case Ct.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Ct.DATA_LOSS:return ne.DATA_LOSS;default:return Ie()}}(Ue=Ct||(Ct={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV=new sa([4294967295,4294967295],0);function yE(t){const e=gV().encode(t),n=new X2;return n.update(e),new Uint8Array(n.digest())}function vE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new sa([n,r],0),new sa([i,s],0)]}class qb{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new pu(`Invalid padding: ${n}`);if(r<0)throw new pu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new pu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new pu(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=sa.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(sa.fromNumber(r)));return i.compare(yV)===1&&(i=new sa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=yE(e),[r,i]=vE(n);for(let s=0;s<this.hashCount;s++){const a=this.Ee(r,i,s);if(!this.de(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new qb(s,i,n);return r.forEach(o=>a.insert(o)),a}insert(e){if(this.Ie===0)return;const n=yE(e),[r,i]=vE(n);for(let s=0;s<this.hashCount;s++){const a=this.Ee(r,i,s);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class pu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,sd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new em(Pe.min(),i,new vt(qe),Pi(),Le())}}class sd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new sd(r,n,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class NO{constructor(e,n){this.targetId=e,this.me=n}}class IO{constructor(e,n,r=sn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class xE{constructor(){this.fe=0,this.ge=wE(),this.pe=sn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Le(),n=Le(),r=Le();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ie()}}),new sd(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=wE()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Qe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class vV{constructor(e){this.Le=e,this.Be=new Map,this.ke=Pi(),this.qe=bE(),this.Qe=new vt(qe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Ie()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Uv(s))if(r===0){const a=new Se(s.path);this.Ue(n,a,hn.newNoDocument(a,Pe.min()))}else Qe(r===1);else{const a=this.Ye(n);if(a!==r){const o=this.Ze(e),l=o?this.Xe(o,e,a):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,o;try{a=wa(r).toUint8Array()}catch(l){if(l instanceof sO)return Ro("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new qb(a,i,s)}catch(l){return Ro(l instanceof pu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.Ie===0?null:o}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const a=this.Le.tt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,a)=>{const o=this.Je(a);if(o){if(s.current&&Uv(o.target)){const l=new Se(o.target.path);this.ke.get(l)!==null||this.it(a,l)||this.Ue(a,l,hn.newNoDocument(l,e))}s.be&&(n.set(a,s.ve()),s.Ce())}});let r=Le();this.qe.forEach((s,a)=>{let o=!0;a.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(s))}),this.ke.forEach((s,a)=>a.setReadTime(e));const i=new em(e,n,this.Qe,this.ke,r);return this.ke=Pi(),this.qe=bE(),this.Qe=new vt(qe),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new xE,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new nn(qe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ve("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new xE),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function bE(){return new vt(Se.comparator)}function wE(){return new vt(Se.comparator)}const xV={asc:"ASCENDING",desc:"DESCENDING"},bV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wV={and:"AND",or:"OR"};class _V{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function qv(t,e){return t.useProto3Json||Gp(e)?e:{value:e}}function Th(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function PO(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function SV(t,e){return Th(t,e.toTimestamp())}function Wr(t){return Qe(!!t),Pe.fromTimestamp(function(n){const r=bs(n);return new Ft(r.seconds,r.nanos)}(t))}function Wb(t,e){return Wv(t,e).canonicalString()}function Wv(t,e){const n=function(i){return new ut(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function jO(t){const e=ut.fromString(t);return Qe(DO(e)),e}function Hv(t,e){return Wb(t.databaseId,e.path)}function ny(t,e){const n=jO(e);if(n.get(1)!==t.databaseId.projectId)throw new pe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new pe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Se(CO(n))}function OO(t,e){return Wb(t.databaseId,e)}function EV(t){const e=jO(t);return e.length===4?ut.emptyPath():CO(e)}function Kv(t){return new ut(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function CO(t){return Qe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function _E(t,e,n){return{name:Hv(t,e),fields:n.value.mapValue.fields}}function AV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,f){return c.useProto3Json?(Qe(f===void 0||typeof f=="string"),sn.fromBase64String(f||"")):(Qe(f===void 0||f instanceof Buffer||f instanceof Uint8Array),sn.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(c){const f=c.code===void 0?ne.UNKNOWN:TO(c.code);return new pe(f,c.message||"")}(a);n=new IO(r,i,s,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ny(t,r.document.name),s=Wr(r.document.updateTime),a=r.document.createTime?Wr(r.document.createTime):Pe.min(),o=new In({mapValue:{fields:r.document.fields}}),l=hn.newFoundDocument(i,s,a,o),c=r.targetIds||[],f=r.removedTargetIds||[];n=new Vf(c,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ny(t,r.document),s=r.readTime?Wr(r.readTime):Pe.min(),a=hn.newNoDocument(i,s),o=r.removedTargetIds||[];n=new Vf([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ny(t,r.document),s=r.removedTargetIds||[];n=new Vf([],s,i,null)}else{if(!("filter"in e))return Ie();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new pV(i,s),o=r.targetId;n=new NO(o,a)}}return n}function TV(t,e){let n;if(e instanceof id)n={update:_E(t,e.key,e.value)};else if(e instanceof Bb)n={delete:Hv(t,e.key)};else if(e instanceof Is)n={update:_E(t,e.key,e.data),updateMask:DV(e.fieldMask)};else{if(!(e instanceof dV))return Ie();n={verify:Hv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const o=a.transform;if(o instanceof Eh)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof uc)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof cc)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Ah)return{fieldPath:a.field.canonicalString(),increment:o.Pe};throw Ie()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:SV(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ie()}(t,e.precondition)),n}function NV(t,e){return t&&t.length>0?(Qe(e!==void 0),t.map(n=>function(i,s){let a=i.updateTime?Wr(i.updateTime):Wr(s);return a.isEqual(Pe.min())&&(a=Wr(s)),new lV(a,i.transformResults||[])}(n,e))):[]}function IV(t,e){return{documents:[OO(t,e.path)]}}function PV(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=OO(t,i);const s=function(c){if(c.length!==0)return RO(Pr.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(c){if(c.length!==0)return c.map(f=>function(p){return{field:qa(p.field),direction:CV(p.dir)}}(f))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const o=qv(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function jV(t){let e=EV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Qe(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(h){const p=kO(h);return p instanceof Pr&&uO(p)?p.getFilters():[p]}(n.where));let a=[];n.orderBy&&(a=function(h){return h.map(p=>function(g){return new lc(Wa(g.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(p))}(n.orderBy));let o=null;n.limit&&(o=function(h){let p;return p=typeof h=="object"?h.value:h,Gp(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(h){const p=!!h.before,m=h.values||[];return new Sh(m,p)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const p=!h.before,m=h.values||[];return new Sh(m,p)}(n.endAt)),Q3(e,i,a,s,o,"F",l,c)}function OV(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function kO(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Wa(n.unaryFilter.field);return Rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Wa(n.unaryFilter.field);return Rt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Wa(n.unaryFilter.field);return Rt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Wa(n.unaryFilter.field);return Rt.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Ie()}}(t):t.fieldFilter!==void 0?function(n){return Rt.create(Wa(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ie()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Pr.create(n.compositeFilter.filters.map(r=>kO(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ie()}}(n.compositeFilter.op))}(t):Ie()}function CV(t){return xV[t]}function kV(t){return bV[t]}function RV(t){return wV[t]}function qa(t){return{fieldPath:t.canonicalString()}}function Wa(t){return en.fromServerFormat(t.fieldPath)}function RO(t){return t instanceof Rt?function(n){if(n.op==="=="){if(lE(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NAN"}};if(oE(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(lE(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NOT_NAN"}};if(oE(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qa(n.field),op:kV(n.op),value:n.value}}}(t):t instanceof Pr?function(n){const r=n.getFilters().map(i=>RO(i));return r.length===1?r[0]:{compositeFilter:{op:RV(n.op),filters:r}}}(t):Ie()}function DV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function DO(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,n,r,i,s=Pe.min(),a=Pe.min(),o=sn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new ns(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(e){this.ct=e}}function $V(t){const e=jV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?zv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(){this.un=new VV}addToCollectionParentIndex(e,n){return this.un.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(xs.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(xs.min())}updateCollectionGroup(e,n,r){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class VV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new nn(ut.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new nn(ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Lo(0)}static kn(){return new Lo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(){this.changes=new ml(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ie.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Cu(r.mutation,i,qn.empty(),Ft.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Le()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Le()){const i=Zs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=hu();return s.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Zs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Le()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,o)=>{n.set(a,o)})})}computeViews(e,n,r,i){let s=Pi();const a=Ou(),o=function(){return Ou()}();return n.forEach((l,c)=>{const f=r.get(c.key);i.has(c.key)&&(f===void 0||f.mutation instanceof Is)?s=s.insert(c.key,c):f!==void 0?(a.set(c.key,f.mutation.getFieldMask()),Cu(f.mutation,c,f.mutation.getFieldMask(),Ft.now())):a.set(c.key,qn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,f)=>a.set(c,f)),n.forEach((c,f)=>{var h;return o.set(c,new UV(f,(h=a.get(c))!==null&&h!==void 0?h:null))}),o))}recalculateAndSaveOverlays(e,n){const r=Ou();let i=new vt((a,o)=>a-o),s=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const o of a)o.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let f=r.get(l)||qn.empty();f=o.applyToLocalView(c,f),r.set(l,f);const h=(i.get(o.batchId)||Le()).add(l);i=i.insert(o.batchId,h)})}).next(()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,f=l.value,h=vO();f.forEach(p=>{if(!s.has(p)){const m=EO(n.get(p),r.get(p));m!==null&&h.set(p,m),s=s.add(p)}}),a.push(this.documentOverlayCache.saveOverlays(e,c,h))}return ie.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return Se.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):hO(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ie.resolve(Zs());let o=-1,l=s;return a.next(c=>ie.forEach(c,(f,h)=>(o<h.largestBatchId&&(o=h.largestBatchId),s.get(f)?ie.resolve():this.remoteDocumentCache.getEntry(e,f).next(p=>{l=l.insert(f,p)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Le())).next(f=>({batchId:o,changes:yO(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Se(n)).next(r=>{let i=hu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=hu();return this.indexManager.getCollectionParents(e,s).next(o=>ie.forEach(o,l=>{const c=function(h,p){return new pl(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(f=>{f.forEach((h,p)=>{a=a.insert(h,p)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(a=>{s.forEach((l,c)=>{const f=c.getKey();a.get(f)===null&&(a=a.insert(f,hn.newInvalidDocument(f)))});let o=hu();return a.forEach((l,c)=>{const f=s.get(l);f!==void 0&&Cu(f.mutation,c,qn.empty(),Ft.now()),Yp(n,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return ie.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Wr(i.createTime)}}(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:$V(i.bundledQuery),readTime:Wr(i.readTime)}}(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(){this.overlays=new vt(Se.comparator),this.Ir=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Zs();return ie.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),ie.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),ie.resolve()}getOverlaysForCollection(e,n,r){const i=Zs(),s=n.length+1,a=new Se(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ie.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new vt((c,f)=>c-f);const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let f=s.get(c.largestBatchId);f===null&&(f=Zs(),s=s.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const o=Zs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,f)=>o.set(c,f)),!(o.size()>=i)););return ie.resolve(o)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new hV(n,r));let s=this.Ir.get(n);s===void 0&&(s=Le(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(){this.Tr=new nn(zt.Er),this.dr=new nn(zt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new zt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new zt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Se(new ut([])),r=new zt(n,e),i=new zt(n,e+1),s=[];return this.dr.forEachInRange([r,i],a=>{this.Vr(a),s.push(a.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Se(new ut([])),r=new zt(n,e),i=new zt(n,e+1);let s=Le();return this.dr.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new zt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class zt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Se.comparator(e.key,n.key)||qe(e.wr,n.wr)}static Ar(e,n){return qe(e.wr,n.wr)||Se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new nn(zt.Er)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new fV(s,n,r,i);this.mutationQueue.push(a);for(const o of i)this.br=this.br.add(new zt(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return ie.resolve(a)}lookupMutationBatch(e,n){return ie.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return ie.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new zt(n,0),i=new zt(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],a=>{const o=this.Dr(a.wr);s.push(o)}),ie.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new nn(qe);return n.forEach(i=>{const s=new zt(i,0),a=new zt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,a],o=>{r=r.add(o.wr)})}),ie.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Se.isDocumentKey(s)||(s=s.child(""));const a=new zt(new Se(s),0);let o=new nn(qe);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(o=o.add(l.wr)),!0)},a),ie.resolve(this.Cr(o))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Qe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return ie.forEach(n.mutations,i=>{const s=new zt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new zt(n,0),i=this.br.firstAfterOrEqual(r);return ie.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e){this.Mr=e,this.docs=function(){return new vt(Se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ie.resolve(r?r.document.mutableCopy():hn.newInvalidDocument(n))}getEntries(e,n){let r=Pi();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():hn.newInvalidDocument(i))}),ie.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Pi();const a=n.path,o=new Se(a.child("")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:f}}=l.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||j3(P3(f),r)<=0||(i.has(f.key)||Yp(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return ie.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ie()}Or(e,n){return ie.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new GV(this)}getSize(e){return ie.resolve(this.size)}}class GV extends FV{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),ie.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e){this.persistence=e,this.Nr=new ml(n=>Vb(n),Fb),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Hb,this.targetCount=0,this.kr=Lo.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),ie.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Lo(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Kn(n),ie.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((a,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.Nr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),ie.waitFor(s).next(()=>i)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return ie.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),ie.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),ie.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return ie.resolve(r)}containsKey(e,n){return ie.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Db(0),this.Kr=!1,this.Kr=!0,this.$r=new WV,this.referenceDelegate=e(this),this.Ur=new QV(this),this.indexManager=new LV,this.remoteDocumentCache=function(i){return new KV(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new MV(n),this.Gr=new zV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new qV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new HV(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ve("MemoryPersistence","Starting transaction:",e);const i=new YV(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return ie.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class YV extends C3{constructor(e){super(),this.currentSequenceNumber=e}}class Kb{constructor(e){this.persistence=e,this.Jr=new Hb,this.Yr=null}static Zr(e){return new Kb(e)}get Xr(){if(this.Yr)return this.Yr;throw Ie()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),ie.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.Xr,r=>{const i=Se.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,Pe.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return ie.or([()=>ie.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Le(),i=Le();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Gb(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return W4()?8:k3(yn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new JV;return this.Xi(e,n,a).next(o=>{if(s.result=o,this.zi)return this.es(e,n,a,o.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Ql()<=Ve.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",za(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ie.resolve()):(Ql()<=Ve.DEBUG&&ve("QueryEngine","Query:",za(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ql()<=Ve.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",za(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qr(n))):ie.resolve())}Yi(e,n){if(fE(n))return ie.resolve(null);let r=qr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=zv(n,null,"F"),r=qr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=Le(...s);return this.Ji.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,o);return this.ns(n,c,a,l.readTime)?this.Yi(e,zv(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,i){return fE(n)||i.isEqual(Pe.min())?ie.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const a=this.ts(n,s);return this.ns(n,a,r,i)?ie.resolve(null):(Ql()<=Ve.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),za(n)),this.rs(e,a,n,I3(i,-1)).next(o=>o))})}ts(e,n){let r=new nn(mO(e));return n.forEach((i,s)=>{Yp(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Ql()<=Ve.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",za(n)),this.Ji.getDocumentsMatchingQuery(e,n,xs.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new vt(qe),this._s=new ml(s=>Vb(s),Fb),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new BV(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function tF(t,e,n,r){return new eF(t,e,n,r)}async function MO(t,e){const n=je(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],o=[];let l=Le();for(const c of i){a.push(c.batchId);for(const f of c.mutations)l=l.add(f.key)}for(const c of s){o.push(c.batchId);for(const f of c.mutations)l=l.add(f.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:a,addedBatchIds:o}))})})}function nF(t,e){const n=je(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(o,l,c,f){const h=c.batch,p=h.keys();let m=ie.resolve();return p.forEach(g=>{m=m.next(()=>f.getEntry(l,g)).next(w=>{const _=c.docVersions.get(g);Qe(_!==null),w.version.compareTo(_)<0&&(h.applyToRemoteDocument(w,c),w.isValidDocument()&&(w.setReadTime(c.commitVersion),f.addEntry(w)))})}),m.next(()=>o.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=Le();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function $O(t){const e=je(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function rF(t,e){const n=je(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const o=[];e.targetChanges.forEach((f,h)=>{const p=i.get(h);if(!p)return;o.push(n.Ur.removeMatchingKeys(s,f.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(s,f.addedDocuments,h)));let m=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(sn.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):f.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(f.resumeToken,r)),i=i.insert(h,m),function(w,_,b){return w.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(p,m,f)&&o.push(n.Ur.updateTargetData(s,m))});let l=Pi(),c=Le();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),o.push(iF(s,a,e.documentUpdates).next(f=>{l=f.Ps,c=f.Is})),!r.isEqual(Pe.min())){const f=n.Ur.getLastRemoteSnapshotVersion(s).next(h=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));o.push(f)}return ie.waitFor(o).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.os=i,s))}function iF(t,e,n){let r=Le(),i=Le();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=Pi();return n.forEach((o,l)=>{const c=s.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(Pe.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):ve("LocalStore","Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{Ps:a,Is:i}})}function sF(t,e){const n=je(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function aF(t,e){const n=je(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,ie.resolve(i)):n.Ur.allocateTargetId(r).next(a=>(i=new ns(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Gv(t,e,n){const r=je(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!rd(a))throw a;ve("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function SE(t,e,n){const r=je(t);let i=Pe.min(),s=Le();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,c,f){const h=je(l),p=h._s.get(f);return p!==void 0?ie.resolve(h.os.get(p)):h.Ur.getTargetData(c,f)}(r,a,qr(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,o.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(a,e,n?i:Pe.min(),n?s:Le())).next(o=>(oF(r,Y3(e),o),{documents:o,Ts:s})))}function oF(t,e,n){let r=t.us.get(e)||Pe.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class EE{constructor(){this.activeTargetIds=rV()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lF{constructor(){this.so=new EE,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new EE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ve("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ve("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tf=null;function ry(){return tf===null?tf=function(){return 268435456+Math.round(2147483648*Math.random())}():tf++,"0x"+tf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn="WebChannelConnection";class fF extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,a){const o=ry(),l=this.xo(n,r.toUriEncodedString());ve("RestConnection",`Sending RPC '${n}' ${o}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,a),this.No(n,l,c,i).then(f=>(ve("RestConnection",`Received RPC '${n}' ${o}: `,f),f),f=>{throw Ro("RestConnection",`RPC '${n}' ${o} failed with error: `,f,"url: ",l,"request:",i),f})}Lo(n,r,i,s,a,o){return this.Mo(n,r,i,s,a)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+hl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,a)=>n[a]=s),i&&i.headers.forEach((s,a)=>n[a]=s)}xo(n,r){const i=cF[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=ry();return new Promise((a,o)=>{const l=new Y2;l.setWithCredentials(!0),l.listenOnce(J2.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Mf.NO_ERROR:const f=l.getResponseJson();ve(cn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),a(f);break;case Mf.TIMEOUT:ve(cn,`RPC '${e}' ${s} timed out`),o(new pe(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Mf.HTTP_ERROR:const h=l.getStatus();if(ve(cn,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const g=function(_){const b=_.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(b)>=0?b:ne.UNKNOWN}(m.status);o(new pe(g,m.message))}else o(new pe(ne.UNKNOWN,"Server responded with status "+l.getStatus()))}else o(new pe(ne.UNAVAILABLE,"Connection failed."));break;default:Ie()}}finally{ve(cn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);ve(cn,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=ry(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=tO(),o=eO(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const f=s.join("");ve(cn,`Creating RPC '${e}' stream ${i}: ${f}`,l);const h=a.createWebChannel(f,l);let p=!1,m=!1;const g=new dF({Io:_=>{m?ve(cn,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(p||(ve(cn,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),ve(cn,`RPC '${e}' stream ${i} sending:`,_),h.send(_))},To:()=>h.close()}),w=(_,b,v)=>{_.listen(b,x=>{try{v(x)}catch(P){setTimeout(()=>{throw P},0)}})};return w(h,fu.EventType.OPEN,()=>{m||(ve(cn,`RPC '${e}' stream ${i} transport opened.`),g.yo())}),w(h,fu.EventType.CLOSE,()=>{m||(m=!0,ve(cn,`RPC '${e}' stream ${i} transport closed`),g.So())}),w(h,fu.EventType.ERROR,_=>{m||(m=!0,Ro(cn,`RPC '${e}' stream ${i} transport errored:`,_),g.So(new pe(ne.UNAVAILABLE,"The operation could not be completed")))}),w(h,fu.EventType.MESSAGE,_=>{var b;if(!m){const v=_.data[0];Qe(!!v);const x=v,P=x.error||((b=x[0])===null||b===void 0?void 0:b.error);if(P){ve(cn,`RPC '${e}' stream ${i} received error:`,P);const A=P.status;let N=function(I){const C=Ct[I];if(C!==void 0)return TO(C)}(A),E=P.message;N===void 0&&(N=ne.INTERNAL,E="Unknown error status: "+A+" with message "+P.message),m=!0,g.So(new pe(N,E)),h.close()}else ve(cn,`RPC '${e}' stream ${i} received:`,v),g.bo(v)}}),w(o,Z2.STAT_EVENT,_=>{_.stat===$v.PROXY?ve(cn,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===$v.NOPROXY&&ve(cn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}function iy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(t){return new _V(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&ve("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e,n,r,i,s,a,o,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new LO(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(Ii(n.toString()),Ii("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new pe(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ve("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ve("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hF extends VO{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=AV(this.serializer,e),r=function(s){if(!("targetChange"in s))return Pe.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Pe.min():a.readTime?Wr(a.readTime):Pe.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Kv(this.serializer),n.addTarget=function(s,a){let o;const l=a.target;if(o=Uv(l)?{documents:IV(s,l)}:{query:PV(s,l)._t},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=PO(s,a.resumeToken);const c=qv(s,a.expectedCount);c!==null&&(o.expectedCount=c)}else if(a.snapshotVersion.compareTo(Pe.min())>0){o.readTime=Th(s,a.snapshotVersion.toTimestamp());const c=qv(s,a.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,e);const r=OV(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Kv(this.serializer),n.removeTarget=e,this.a_(n)}}class pF extends VO{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=NV(e.writeResults,e.commitTime),r=Wr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Kv(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>TV(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new pe(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Mo(e,Wv(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new pe(ne.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Lo(e,Wv(n,r),i,a,o,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new pe(ne.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class gF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ii(n),this.D_=!1):ve("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(a=>{r.enqueueAndForget(async()=>{Pa(this)&&(ve("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=je(l);c.L_.add(4),await ad(c),c.q_.set("Unknown"),c.L_.delete(4),await nm(c)}(this))})}),this.q_=new gF(r,i)}}async function nm(t){if(Pa(t))for(const e of t.B_)await e(!0)}async function ad(t){for(const e of t.B_)await e(!1)}function FO(t,e){const n=je(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Jb(n)?Yb(n):gl(n).r_()&&Xb(n,e))}function Qb(t,e){const n=je(t),r=gl(n);n.N_.delete(e),r.r_()&&UO(n,e),n.N_.size===0&&(r.r_()?r.o_():Pa(n)&&n.q_.set("Unknown"))}function Xb(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}gl(t).A_(e)}function UO(t,e){t.Q_.xe(e),gl(t).R_(e)}function Yb(t){t.Q_=new vV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),gl(t).start(),t.q_.v_()}function Jb(t){return Pa(t)&&!gl(t).n_()&&t.N_.size>0}function Pa(t){return je(t).L_.size===0}function BO(t){t.Q_=void 0}async function vF(t){t.q_.set("Online")}async function xF(t){t.N_.forEach((e,n)=>{Xb(t,e)})}async function bF(t,e){BO(t),Jb(t)?(t.q_.M_(e),Yb(t)):t.q_.set("Unknown")}async function wF(t,e,n){if(t.q_.set("Online"),e instanceof IO&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const o of s.targetIds)i.N_.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.N_.delete(o),i.Q_.removeTarget(o))}(t,e)}catch(r){ve("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Nh(t,r)}else if(e instanceof Vf?t.Q_.Ke(e):e instanceof NO?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Pe.min()))try{const r=await $O(t.localStore);n.compareTo(r)>=0&&await function(s,a){const o=s.Q_.rt(a);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const f=s.N_.get(c);f&&s.N_.set(c,f.withResumeToken(l.resumeToken,a))}}),o.targetMismatches.forEach((l,c)=>{const f=s.N_.get(l);if(!f)return;s.N_.set(l,f.withResumeToken(sn.EMPTY_BYTE_STRING,f.snapshotVersion)),UO(s,l);const h=new ns(f.target,l,c,f.sequenceNumber);Xb(s,h)}),s.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){ve("RemoteStore","Failed to raise snapshot:",r),await Nh(t,r)}}async function Nh(t,e,n){if(!rd(e))throw e;t.L_.add(1),await ad(t),t.q_.set("Offline"),n||(n=()=>$O(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ve("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await nm(t)})}function zO(t,e){return e().catch(n=>Nh(t,n,e))}async function rm(t){const e=je(t),n=ws(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;_F(e);)try{const i=await sF(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,SF(e,i)}catch(i){await Nh(e,i)}qO(e)&&WO(e)}function _F(t){return Pa(t)&&t.O_.length<10}function SF(t,e){t.O_.push(e);const n=ws(t);n.r_()&&n.V_&&n.m_(e.mutations)}function qO(t){return Pa(t)&&!ws(t).n_()&&t.O_.length>0}function WO(t){ws(t).start()}async function EF(t){ws(t).p_()}async function AF(t){const e=ws(t);for(const n of t.O_)e.m_(n.mutations)}async function TF(t,e,n){const r=t.O_.shift(),i=zb.from(r,e,n);await zO(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await rm(t)}async function NF(t,e){e&&ws(t).V_&&await async function(r,i){if(function(a){return mV(a)&&a!==ne.ABORTED}(i.code)){const s=r.O_.shift();ws(r).s_(),await zO(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await rm(r)}}(t,e),qO(t)&&WO(t)}async function TE(t,e){const n=je(t);n.asyncQueue.verifyOperationInProgress(),ve("RemoteStore","RemoteStore received new credentials");const r=Pa(n);n.L_.add(3),await ad(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await nm(n)}async function IF(t,e){const n=je(t);e?(n.L_.delete(2),await nm(n)):e||(n.L_.add(2),await ad(n),n.q_.set("Unknown"))}function gl(t){return t.K_||(t.K_=function(n,r,i){const s=je(n);return s.w_(),new hF(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:vF.bind(null,t),Ro:xF.bind(null,t),mo:bF.bind(null,t),d_:wF.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Jb(t)?Yb(t):t.q_.set("Unknown")):(await t.K_.stop(),BO(t))})),t.K_}function ws(t){return t.U_||(t.U_=function(n,r,i){const s=je(n);return s.w_(),new pF(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:EF.bind(null,t),mo:NF.bind(null,t),f_:AF.bind(null,t),g_:TF.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await rm(t)):(await t.U_.stop(),t.O_.length>0&&(ve("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,o=new Zb(e,n,a,i,s);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ew(t,e){if(Ii("AsyncQueue",`${e}: ${t}`),rd(t))return new pe(ne.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Se.comparator(n.key,r.key):(n,r)=>Se.comparator(n.key,r.key),this.keyedMap=hu(),this.sortedSet=new vt(this.comparator)}static emptySet(e){return new _o(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof _o)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new _o;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(){this.W_=new vt(Se.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Ie():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Vo{constructor(e,n,r,i,s,a,o,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(o=>{a.push({type:0,doc:o})}),new Vo(e,n,_o.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class jF{constructor(){this.queries=IE(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=je(n),s=i.queries;i.queries=IE(),s.forEach((a,o)=>{for(const l of o.j_)l.onError(r)})})(this,new pe(ne.ABORTED,"Firestore shutting down"))}}function IE(){return new ml(t=>pO(t),Xp)}async function tw(t,e){const n=je(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new PF,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const o=ew(a,`Initialization of query '${za(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&rw(n)}async function nw(t,e){const n=je(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.j_.indexOf(e);a>=0&&(s.j_.splice(a,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function OF(t,e){const n=je(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const o of a.j_)o.X_(i)&&(r=!0);a.z_=i}}r&&rw(n)}function CF(t,e,n){const r=je(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function rw(t){t.Y_.forEach(e=>{e.next()})}var Qv,PE;(PE=Qv||(Qv={})).ea="default",PE.Cache="cache";class iw{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Vo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Qv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e){this.key=e}}class KO{constructor(e){this.key=e}}class kF{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Le(),this.mutatedKeys=Le(),this.Aa=mO(e),this.Ra=new _o(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new NE,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,h)=>{const p=i.get(f),m=Yp(this.query,h)?h:null,g=!!p&&this.mutatedKeys.has(p.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let _=!1;p&&m?p.data.isEqual(m.data)?g!==w&&(r.track({type:3,doc:m}),_=!0):this.ga(p,m)||(r.track({type:2,doc:m}),_=!0,(l&&this.Aa(m,l)>0||c&&this.Aa(m,c)<0)&&(o=!0)):!p&&m?(r.track({type:0,doc:m}),_=!0):p&&!m&&(r.track({type:1,doc:p}),_=!0,(l||c)&&(o=!0)),_&&(m?(a=a.add(m),s=w?s.add(f):s.delete(f)):(a=a.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{Ra:a,fa:r,ns:o,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((f,h)=>function(m,g){const w=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie()}};return w(m)-w(g)}(f.type,h.type)||this.Aa(f.doc,h.doc)),this.pa(r),i=i!=null&&i;const o=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,a.length!==0||c?{snapshot:new Vo(this.query,e.Ra,s,a,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new NE,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Le(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new KO(r))}),this.da.forEach(r=>{e.has(r)||n.push(new HO(r))}),n}ba(e){this.Ta=e.Ts,this.da=Le();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Vo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class RF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class DF{constructor(e){this.key=e,this.va=!1}}class MF{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new ml(o=>pO(o),Xp),this.Ma=new Map,this.xa=new Set,this.Oa=new vt(Se.comparator),this.Na=new Map,this.La=new Hb,this.Ba={},this.ka=new Map,this.qa=Lo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function $F(t,e,n=!0){const r=ZO(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await GO(r,e,n,!0),i}async function LF(t,e){const n=ZO(t);await GO(n,e,!0,!1)}async function GO(t,e,n,r){const i=await aF(t.localStore,qr(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await VF(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&FO(t.remoteStore,i),o}async function VF(t,e,n,r,i){t.Ka=(h,p,m)=>async function(w,_,b,v){let x=_.view.ma(b);x.ns&&(x=await SE(w.localStore,_.query,!1).then(({documents:E})=>_.view.ma(E,x)));const P=v&&v.targetChanges.get(_.targetId),A=v&&v.targetMismatches.get(_.targetId)!=null,N=_.view.applyChanges(x,w.isPrimaryClient,P,A);return OE(w,_.targetId,N.wa),N.snapshot}(t,h,p,m);const s=await SE(t.localStore,e,!0),a=new kF(e,s.Ts),o=a.ma(s.documents),l=sd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=a.applyChanges(o,t.isPrimaryClient,l);OE(t,n,c.wa);const f=new RF(e,n,a);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function FF(t,e,n){const r=je(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(a=>!Xp(a,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Gv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Qb(r.remoteStore,i.targetId),Xv(r,i.targetId)}).catch(nd)):(Xv(r,i.targetId),await Gv(r.localStore,i.targetId,!0))}async function UF(t,e){const n=je(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Qb(n.remoteStore,r.targetId))}async function BF(t,e,n){const r=QF(t);try{const i=await function(a,o){const l=je(a),c=Ft.now(),f=o.reduce((m,g)=>m.add(g.key),Le());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let g=Pi(),w=Le();return l.cs.getEntries(m,f).next(_=>{g=_,g.forEach((b,v)=>{v.isValidDocument()||(w=w.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,g)).next(_=>{h=_;const b=[];for(const v of o){const x=cV(v,h.get(v.key).overlayedDocument);x!=null&&b.push(new Is(v.key,x,aO(x.value.mapValue),lr.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,b,o)}).next(_=>{p=_;const b=_.applyToLocalDocumentSet(h,w);return l.documentOverlayCache.saveOverlays(m,_.batchId,b)})}).then(()=>({batchId:p.batchId,changes:yO(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,o,l){let c=a.Ba[a.currentUser.toKey()];c||(c=new vt(qe)),c=c.insert(o,l),a.Ba[a.currentUser.toKey()]=c}(r,i.batchId,n),await od(r,i.changes),await rm(r.remoteStore)}catch(i){const s=ew(i,"Failed to persist write");n.reject(s)}}async function QO(t,e){const n=je(t);try{const r=await rF(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n.Na.get(s);a&&(Qe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?Qe(a.va):i.removedDocuments.size>0&&(Qe(a.va),a.va=!1))}),await od(n,r,e)}catch(r){await nd(r)}}function jE(t,e,n){const r=je(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,a)=>{const o=a.view.Z_(e);o.snapshot&&i.push(o.snapshot)}),function(a,o){const l=je(a);l.onlineState=o;let c=!1;l.queries.forEach((f,h)=>{for(const p of h.j_)p.Z_(o)&&(c=!0)}),c&&rw(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function zF(t,e,n){const r=je(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let a=new vt(Se.comparator);a=a.insert(s,hn.newNoDocument(s,Pe.min()));const o=Le().add(s),l=new em(Pe.min(),new Map,new vt(qe),a,o);await QO(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),sw(r)}else await Gv(r.localStore,e,!1).then(()=>Xv(r,e,n)).catch(nd)}async function qF(t,e){const n=je(t),r=e.batch.batchId;try{const i=await nF(n.localStore,e);YO(n,r,null),XO(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await od(n,i)}catch(i){await nd(i)}}async function WF(t,e,n){const r=je(t);try{const i=await function(a,o){const l=je(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let f;return l.mutationQueue.lookupMutationBatch(c,o).next(h=>(Qe(h!==null),f=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,f,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,f)).next(()=>l.localDocuments.getDocuments(c,f))})}(r.localStore,e);YO(r,e,n),XO(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await od(r,i)}catch(i){await nd(i)}}function XO(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function YO(t,e,n){const r=je(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Xv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||JO(t,r)})}function JO(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Qb(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),sw(t))}function OE(t,e,n){for(const r of n)r instanceof HO?(t.La.addReference(r.key,e),HF(t,r)):r instanceof KO?(ve("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||JO(t,r.key)):Ie()}function HF(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ve("SyncEngine","New document in limbo: "+n),t.xa.add(r),sw(t))}function sw(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Se(ut.fromString(e)),r=t.qa.next();t.Na.set(r,new DF(n)),t.Oa=t.Oa.insert(n,r),FO(t.remoteStore,new ns(qr(Qp(n.path)),r,"TargetPurposeLimboResolution",Db.oe))}}async function od(t,e,n){const r=je(t),i=[],s=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((o,l)=>{a.push(r.Ka(l,e,n).then(c=>{var f;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(f=n==null?void 0:n.targetChanges.get(l.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){i.push(c);const h=Gb.Wi(l.targetId,c);s.push(h)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(l,c){const f=je(l);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>ie.forEach(c,p=>ie.forEach(p.$i,m=>f.persistence.referenceDelegate.addReference(h,p.targetId,m)).next(()=>ie.forEach(p.Ui,m=>f.persistence.referenceDelegate.removeReference(h,p.targetId,m)))))}catch(h){if(!rd(h))throw h;ve("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const p=h.targetId;if(!h.fromCache){const m=f.os.get(p),g=m.snapshotVersion,w=m.withLastLimboFreeSnapshotVersion(g);f.os=f.os.insert(p,w)}}}(r.localStore,s))}async function KF(t,e){const n=je(t);if(!n.currentUser.isEqual(e)){ve("SyncEngine","User change. New user:",e.toKey());const r=await MO(n.localStore,e);n.currentUser=e,function(s,a){s.ka.forEach(o=>{o.forEach(l=>{l.reject(new pe(ne.CANCELLED,a))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await od(n,r.hs)}}function GF(t,e){const n=je(t),r=n.Na.get(e);if(r&&r.va)return Le().add(r.key);{let i=Le();const s=n.Ma.get(e);if(!s)return i;for(const a of s){const o=n.Fa.get(a);i=i.unionWith(o.view.Va)}return i}}function ZO(t){const e=je(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=QO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=GF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zF.bind(null,e),e.Ca.d_=OF.bind(null,e.eventManager),e.Ca.$a=CF.bind(null,e.eventManager),e}function QF(t){const e=je(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WF.bind(null,e),e}class Ih{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=tm(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return tF(this.persistence,new ZV,e.initialUser,this.serializer)}Ga(e){return new XV(Kb.Zr,this.serializer)}Wa(e){return new lF}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ih.provider={build:()=>new Ih};class Yv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>jE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=KF.bind(null,this.syncEngine),await IF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new jF}()}createDatastore(e){const n=tm(e.databaseInfo.databaseId),r=function(s){return new fF(s)}(e.databaseInfo);return function(s,a,o,l){return new mF(s,a,o,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,a,o){return new yF(r,i,s,a,o)}(this.localStore,this.datastore,e.asyncQueue,n=>jE(this.syncEngine,n,0),function(){return AE.D()?new AE:new uF}())}createSyncEngine(e,n){return function(i,s,a,o,l,c,f){const h=new MF(i,s,a,o,l,c);return f&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=je(i);ve("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await ad(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Yv.provider={build:()=>new Yv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ii("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=dn.UNAUTHENTICATED,this.clientId=rO.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async a=>{ve("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(ve("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ew(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function sy(t,e){t.asyncQueue.verifyOperationInProgress(),ve("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await MO(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function CE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await YF(t);ve("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>TE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>TE(e.remoteStore,i)),t._onlineComponents=e}async function YF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ve("FirestoreClient","Using user provided OfflineComponentProvider");try{await sy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ne.FAILED_PRECONDITION||i.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ro("Error using user provided cache. Falling back to memory cache: "+n),await sy(t,new Ih)}}else ve("FirestoreClient","Using default OfflineComponentProvider"),await sy(t,new Ih);return t._offlineComponents}async function eC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ve("FirestoreClient","Using user provided OnlineComponentProvider"),await CE(t,t._uninitializedComponentsProvider._online)):(ve("FirestoreClient","Using default OnlineComponentProvider"),await CE(t,new Yv))),t._onlineComponents}function JF(t){return eC(t).then(e=>e.syncEngine)}async function Ph(t){const e=await eC(t),n=e.eventManager;return n.onListen=$F.bind(null,e.syncEngine),n.onUnlisten=FF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=LF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=UF.bind(null,e.syncEngine),n}function ZF(t,e,n={}){const r=new vi;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,c){const f=new aw({next:p=>{f.Za(),a.enqueueAndForget(()=>nw(s,h));const m=p.docs.has(o);!m&&p.fromCache?c.reject(new pe(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&l&&l.source==="server"?c.reject(new pe(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new iw(Qp(o.path),f,{includeMetadataChanges:!0,_a:!0});return tw(s,h)}(await Ph(t),t.asyncQueue,e,n,r)),r.promise}function eU(t,e,n={}){const r=new vi;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,c){const f=new aw({next:p=>{f.Za(),a.enqueueAndForget(()=>nw(s,h)),p.fromCache&&l.source==="server"?c.reject(new pe(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new iw(o,f,{includeMetadataChanges:!0,_a:!0});return tw(s,h)}(await Ph(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(t,e,n){if(!n)throw new pe(ne.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function tU(t,e,n,r){if(e===!0&&r===!0)throw new pe(ne.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function RE(t){if(!Se.isDocumentKey(t))throw new pe(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function DE(t){if(Se.isDocumentKey(t))throw new pe(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function im(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ie()}function Mn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new pe(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=im(t);throw new pe(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new pe(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new pe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new pe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new pe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ME({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ME(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new x3;switch(r.type){case"firstParty":return new S3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=kE.get(n);r&&(ve("ComponentProvider","Removing Datastore"),kE.delete(n),r.terminate())}(this),Promise.resolve()}}function nU(t,e,n,r={}){var i;const s=(t=Mn(t,sm))._getSettings(),a=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&Ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let o,l;if(typeof r.mockUserToken=="string")o=r.mockUserToken,l=dn.MOCK_USER;else{o=o2(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new pe(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new dn(c)}t._authCredentials=new b3(new nO(o,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ps(this.firestore,e,this._query)}}class mn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mn(this.firestore,e,this._key)}}class hs extends Ps{constructor(e,n,r){super(e,n,Qp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mn(this.firestore,null,new Se(e))}withConverter(e){return new hs(this.firestore,e,this._path)}}function le(t,e,...n){if(t=jt(t),nC("collection","path",e),t instanceof sm){const r=ut.fromString(e,...n);return DE(r),new hs(t,null,r)}{if(!(t instanceof mn||t instanceof hs))throw new pe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ut.fromString(e,...n));return DE(r),new hs(t.firestore,null,r)}}function Et(t,e,...n){if(t=jt(t),arguments.length===1&&(e=rO.newId()),nC("doc","path",e),t instanceof sm){const r=ut.fromString(e,...n);return RE(r),new mn(t,null,new Se(r))}{if(!(t instanceof mn||t instanceof hs))throw new pe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ut.fromString(e,...n));return RE(r),new mn(t.firestore,t instanceof hs?t.converter:null,new Se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new LO(this,"async_queue_retry"),this.Vu=()=>{const r=iy();r&&ve("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=iy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=iy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new vi;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!rd(e))throw e;ve("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(a){let o=a.message||"";return a.stack&&(o=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),o}(r);throw Ii("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Zb.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&Ie()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function LE(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class ji extends sm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new $E,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $E(e),this._firestoreClient=void 0,await e}}}function rU(t,e){const n=typeof t=="object"?t:Sb(),r=typeof t=="string"?t:"(default)",i=qp(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=i2("firestore");s&&nU(i,...s)}return i}function am(t){if(t._terminated)throw new pe(ne.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||iU(t),t._firestoreClient}function iU(t){var e,n,r;const i=t._freezeSettings(),s=function(o,l,c,f){return new M3(o,l,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,tC(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new XF(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fo(sn.fromBase64String(e))}catch(n){throw new pe(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Fo(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sU=/^__.*__$/;class aU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Is(e,this.data,this.fieldMask,n,this.fieldTransforms):new id(e,this.data,n,this.fieldTransforms)}}class rC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Is(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function iC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie()}}class cw{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new cw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return jh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(iC(this.Cu)&&sU.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class oU{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||tm(e)}Qu(e,n,r,i=!1){return new cw({Cu:e,methodName:n,qu:r,path:en.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lm(t){const e=t._freezeSettings(),n=tm(t._databaseId);return new oU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function sC(t,e,n,r,i,s={}){const a=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);dw("Data must be an object, but it was:",a,r);const o=aC(r,a);let l,c;if(s.merge)l=new qn(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const f=[];for(const h of s.mergeFields){const p=Jv(e,h,n);if(!a.contains(p))throw new pe(ne.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);lC(f,p)||f.push(p)}l=new qn(f),c=a.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=a.fieldTransforms;return new aU(new In(o),l,c)}class um extends ow{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof um}}function lU(t,e,n,r){const i=t.Qu(1,e,n);dw("Data must be an object, but it was:",i,r);const s=[],a=In.empty();Ia(r,(l,c)=>{const f=fw(e,l,n);c=jt(c);const h=i.Nu(f);if(c instanceof um)s.push(f);else{const p=ld(c,h);p!=null&&(s.push(f),a.set(f,p))}});const o=new qn(s);return new rC(a,o,i.fieldTransforms)}function uU(t,e,n,r,i,s){const a=t.Qu(1,e,n),o=[Jv(e,r,n)],l=[i];if(s.length%2!=0)throw new pe(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)o.push(Jv(e,s[p])),l.push(s[p+1]);const c=[],f=In.empty();for(let p=o.length-1;p>=0;--p)if(!lC(c,o[p])){const m=o[p];let g=l[p];g=jt(g);const w=a.Nu(m);if(g instanceof um)c.push(m);else{const _=ld(g,w);_!=null&&(c.push(m),f.set(m,_))}}const h=new qn(c);return new rC(f,h,a.fieldTransforms)}function cU(t,e,n,r=!1){return ld(n,t.Qu(r?4:3,e))}function ld(t,e){if(oC(t=jt(t)))return dw("Unsupported field value:",e,t),aC(t,e);if(t instanceof ow)return function(r,i){if(!iC(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const o of r){let l=ld(o,i.Lu(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=jt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return iV(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ft.fromDate(r);return{timestampValue:Th(i.serializer,s)}}if(r instanceof Ft){const s=new Ft(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Th(i.serializer,s)}}if(r instanceof lw)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Fo)return{bytesValue:PO(i.serializer,r._byteString)};if(r instanceof mn){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Wb(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof uw)return function(a,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(l=>{if(typeof l!="number")throw o.Bu("VectorValues must only contain numeric values.");return Ub(o.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${im(r)}`)}(t,e)}function aC(t,e){const n={};return iO(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ia(t,(r,i)=>{const s=ld(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function oC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ft||t instanceof lw||t instanceof Fo||t instanceof mn||t instanceof ow||t instanceof uw)}function dw(t,e,n){if(!oC(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=im(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Jv(t,e,n){if((e=jt(e))instanceof om)return e._internalPath;if(typeof e=="string")return fw(t,e);throw jh("Field path arguments must be of type string or ",t,!1,void 0,n)}const dU=new RegExp("[~\\*/\\[\\]]");function fw(t,e,n){if(e.search(dU)>=0)throw jh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new om(...e.split("."))._internalPath}catch{throw jh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function jh(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new pe(ne.INVALID_ARGUMENT,o+t+l)}function lC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new fU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(cm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class fU extends uC{data(){return super.data()}}function cm(t,e){return typeof e=="string"?fw(t,e):e instanceof om?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new pe(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hw{}class dC extends hw{}function _e(t,e,...n){let r=[];e instanceof hw&&r.push(e),r=r.concat(n),function(s){const a=s.filter(l=>l instanceof pw).length,o=s.filter(l=>l instanceof dm).length;if(a>1||a>0&&o>0)throw new pe(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class dm extends dC{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new dm(e,n,r)}_apply(e){const n=this._parse(e);return fC(e._query,n),new Ps(e.firestore,e.converter,Bv(e._query,n))}_parse(e){const n=lm(e.firestore);return function(s,a,o,l,c,f,h){let p;if(c.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new pe(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){UE(h,f);const m=[];for(const g of h)m.push(FE(l,s,g));p={arrayValue:{values:m}}}else p=FE(l,s,h)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||UE(h,f),p=cU(o,a,h,f==="in"||f==="not-in");return Rt.create(c,f,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function xe(t,e,n){const r=e,i=cm("where",t);return dm._create(i,r,n)}class pw extends hw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new pw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Pr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let a=i;const o=s.getFlattenedFilters();for(const l of o)fC(a,l),a=Bv(a,l)}(e._query,n),new Ps(e.firestore,e.converter,Bv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class mw extends dC{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new mw(e,n)}_apply(e){const n=function(i,s,a){if(i.startAt!==null)throw new pe(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new pe(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new lc(s,a)}(e._query,this._field,this._direction);return new Ps(e.firestore,e.converter,function(i,s){const a=i.explicitOrderBy.concat([s]);return new pl(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function VE(t,e="asc"){const n=e,r=cm("orderBy",t);return mw._create(r,n)}function FE(t,e,n){if(typeof(n=jt(n))=="string"){if(n==="")throw new pe(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hO(e)&&n.indexOf("/")!==-1)throw new pe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ut.fromString(n));if(!Se.isDocumentKey(r))throw new pe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return aE(t,new Se(r))}if(n instanceof mn)return aE(t,n._key);throw new pe(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${im(n)}.`)}function UE(t,e){if(!Array.isArray(t)||t.length===0)throw new pe(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function fC(t,e){const n=function(i,s){for(const a of i)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new pe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class hU{convertValue(e,n="none"){switch(_a(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(wa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ia(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>It(a.doubleValue));return new uw(s)}convertGeoPoint(e){return new lw(It(e.latitude),It(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=$b(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(sc(e));default:return null}}convertTimestamp(e){const n=bs(e);return new Ft(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ut.fromString(e);Qe(DO(r));const i=new ac(r.get(1),r.get(3)),s=new Se(r.popFirst(5));return i.isEqual(n)||Ii(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pC extends uC{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ff(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(cm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ff extends pC{data(e={}){return super.data(e)}}class mC{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new mu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ff(this._firestore,this._userDataWriter,r.key,r,new mu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(o=>{const l=new Ff(i._firestore,i._userDataWriter,o.doc.key,o.doc,new mu(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const l=new Ff(i._firestore,i._userDataWriter,o.doc.key,o.doc,new mu(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,f=-1;return o.type!==0&&(c=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),f=a.indexOf(o.doc.key)),{type:pU(o.type),doc:l,oldIndex:c,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function pU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ha(t){t=Mn(t,mn);const e=Mn(t.firestore,ji);return ZF(am(e),t._key).then(n=>gC(e,t,n))}class gw extends hU{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mn(this.firestore,null,n)}}function be(t){t=Mn(t,Ps);const e=Mn(t.firestore,ji),n=am(e),r=new gw(e);return cC(t._query),eU(n,t._query).then(i=>new mC(e,r,t,i))}function gu(t,e,n){t=Mn(t,mn);const r=Mn(t.firestore,ji),i=hC(t.converter,e);return fm(r,[sC(lm(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,lr.none())])}function pn(t,e,n,...r){t=Mn(t,mn);const i=Mn(t.firestore,ji),s=lm(i);let a;return a=typeof(e=jt(e))=="string"||e instanceof om?uU(s,"updateDoc",t._key,e,n,r):lU(s,"updateDoc",t._key,e),fm(i,[a.toMutation(t._key,lr.exists(!0))])}function So(t){return fm(Mn(t.firestore,ji),[new Bb(t._key,lr.none())])}function Xr(t,e){const n=Mn(t.firestore,ji),r=Et(t),i=hC(t.converter,e);return fm(n,[sC(lm(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,lr.exists(!1))]).then(()=>r)}function Jt(t,...e){var n,r,i;t=jt(t);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||LE(e[a])||(s=e[a],a++);const o={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(LE(e[a])){const h=e[a];e[a]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[a+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[a+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,c,f;if(t instanceof mn)c=Mn(t.firestore,ji),f=Qp(t._key.path),l={next:h=>{e[a]&&e[a](gC(c,t,h))},error:e[a+1],complete:e[a+2]};else{const h=Mn(t,Ps);c=Mn(h.firestore,ji),f=h._query;const p=new gw(c);l={next:m=>{e[a]&&e[a](new mC(c,p,h,m))},error:e[a+1],complete:e[a+2]},cC(t._query)}return function(p,m,g,w){const _=new aw(w),b=new iw(m,_,g);return p.asyncQueue.enqueueAndForget(async()=>tw(await Ph(p),b)),()=>{_.Za(),p.asyncQueue.enqueueAndForget(async()=>nw(await Ph(p),b))}}(am(c),f,o,l)}function fm(t,e){return function(r,i){const s=new vi;return r.asyncQueue.enqueueAndForget(async()=>BF(await JF(r),i,s)),s.promise}(am(t),e)}function gC(t,e,n){const r=n.docs.get(e._key),i=new gw(t);return new pC(t,i,e._key,r,new mu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){hl=i})(Ta),ya(new vs("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),o=new ji(new w3(r.getProvider("auth-internal")),new A3(r.getProvider("app-check-internal")),function(c,f){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new pe(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ac(c.options.projectId,f)}(a,i),a);return s=Object.assign({useFetchStreams:n},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),Ur(tE,"4.7.3",e),Ur(tE,"4.7.3","esm2017")})();var mU="firebase",gU="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ur(mU,gU,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC="firebasestorage.googleapis.com",yU="storageBucket",vU=2*60*1e3,xU=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei extends Zr{constructor(e,n,r=0){super(ay(e),`Firebase Storage: ${n} (${ay(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ei.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ay(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Yr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Yr||(Yr={}));function ay(t){return"storage/"+t}function bU(){const t="An unknown error occurred, please check the error payload for server response.";return new ei(Yr.UNKNOWN,t)}function wU(){return new ei(Yr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function _U(){return new ei(Yr.CANCELED,"User canceled the upload/download.")}function SU(t){return new ei(Yr.INVALID_URL,"Invalid URL '"+t+"'.")}function EU(t){return new ei(Yr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function BE(t){return new ei(Yr.INVALID_ARGUMENT,t)}function vC(){return new ei(Yr.APP_DELETED,"The Firebase app was deleted.")}function AU(t){return new ei(Yr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Sr.makeFromUrl(e,n)}catch{return new Sr(e,"")}if(r.path==="")return r;throw EU(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(P){P.path.charAt(P.path.length-1)==="/"&&(P.path_=P.path_.slice(0,-1))}const a="(/(.*))?$",o=new RegExp("^gs://"+i+a,"i"),l={bucket:1,path:3};function c(P){P.path_=decodeURIComponent(P.path)}const f="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",m=new RegExp(`^https?://${h}/${f}/b/${i}/o${p}`,"i"),g={bucket:1,path:3},w=n===yC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",b=new RegExp(`^https?://${w}/${i}/${_}`,"i"),x=[{regex:o,indices:l,postModify:s},{regex:m,indices:g,postModify:c},{regex:b,indices:{bucket:1,path:2},postModify:c}];for(let P=0;P<x.length;P++){const A=x[P],N=A.regex.exec(e);if(N){const E=N[A.indices.bucket];let S=N[A.indices.path];S||(S=""),r=new Sr(E,S),A.postModify(r);break}}if(r==null)throw SU(e);return r}}class TU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NU(t,e,n){let r=1,i=null,s=null,a=!1,o=0;function l(){return o===2}let c=!1;function f(..._){c||(c=!0,e.apply(null,_))}function h(_){i=setTimeout(()=>{i=null,t(m,l())},_)}function p(){s&&clearTimeout(s)}function m(_,...b){if(c){p();return}if(_){p(),f.call(null,_,...b);return}if(l()||a){p(),f.call(null,_,...b);return}r<64&&(r*=2);let x;o===1?(o=2,x=0):x=(r+Math.random())*1e3,h(x)}let g=!1;function w(_){g||(g=!0,p(),!c&&(i!==null?(_||(o=2),clearTimeout(i),h(0)):_||(o=1)))}return h(0),s=setTimeout(()=>{a=!0,w(!0)},n),w}function IU(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PU(t){return t!==void 0}function zE(t,e,n,r){if(r<e)throw BE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw BE(`Invalid value for '${t}'. Expected ${n} or less.`)}function jU(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Oh;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Oh||(Oh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OU(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(e,n,r,i,s,a,o,l,c,f,h,p=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=o,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=f,this.connectionFactory_=h,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,g)=>{this.resolve_=m,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new nf(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=o=>{const l=o.loaded,c=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const o=s.getErrorCode()===Oh.NO_ERROR,l=s.getStatus();if(!o||OU(l,this.additionalRetryCodes_)&&this.retry){const f=s.getErrorCode()===Oh.ABORT;r(!1,new nf(!1,null,f));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new nf(c,s))})},n=(r,i)=>{const s=this.resolve_,a=this.reject_,o=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());PU(l)?s(l):s()}catch(l){a(l)}else if(o!==null){const l=bU();l.serverResponse=o.getErrorText(),this.errorCallback_?a(this.errorCallback_(o,l)):a(l)}else if(i.canceled){const l=this.appDelete_?vC():_U();a(l)}else{const l=wU();a(l)}};this.canceled_?n(!1,new nf(!1,null,!0)):this.backoffId_=NU(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&IU(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class nf{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function kU(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function RU(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function DU(t,e){e&&(t["X-Firebase-GMPID"]=e)}function MU(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function $U(t,e,n,r,i,s,a=!0){const o=jU(t.urlParams),l=t.url+o,c=Object.assign({},t.headers);return DU(c,e),kU(c,n),RU(c,s),MU(c,r),new CU(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LU(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function VU(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,n){this._service=e,n instanceof Sr?this._location=n:this._location=Sr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ch(e,n)}get root(){const e=new Sr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return VU(this._location.path)}get storage(){return this._service}get parent(){const e=LU(this._location.path);if(e===null)return null;const n=new Sr(this._location.bucket,e);return new Ch(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw AU(e)}}function qE(t,e){const n=e==null?void 0:e[yU];return n==null?null:Sr.makeFromBucketSpec(n,t)}function FU(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:o2(i,t.app.options.projectId))}class UU{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=yC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=vU,this._maxUploadRetryTime=xU,this._requests=new Set,i!=null?this._bucket=Sr.makeFromBucketSpec(i,this._host):this._bucket=qE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Sr.makeFromBucketSpec(this._url,e):this._bucket=qE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){zE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){zE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ch(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new TU(vC());{const a=$U(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const WE="@firebase/storage",HE="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC="storage";function BU(t=Sb(),e){t=jt(t);const r=qp(t,xC).getImmediate({identifier:e}),i=i2("storage");return i&&zU(r,...i),r}function zU(t,e,n,r={}){FU(t,e,n,r)}function qU(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new UU(n,r,i,e,Ta)}function WU(){ya(new vs(xC,qU,"PUBLIC").setMultipleInstances(!0)),Ur(WE,HE,""),Ur(WE,HE,"esm2017")}WU();const HU={apiKey:"AIzaSyAKgcmV-CWzzCgsYRai1p_52FVvA5C2LhM",authDomain:"computer-network-f5a23.firebaseapp.com",projectId:"computer-network-f5a23",storageBucket:"computer-network-f5a23.firebasestorage.app",messagingSenderId:"778971951016",appId:"1:778971951016:web:6e89abf42da9c10cf4779d",measurementId:"G-ECJ6JL196X"},yw=_b(HU),oo=Q2(yw),re=rU(yw);BU(yw);const bC=L.createContext(void 0),fr=()=>{const t=L.useContext(bC);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},KU=({children:t})=>{const[e,n]=L.useState(null),[r,i]=L.useState(null),[s,a]=L.useState(!0),o=async(h,p)=>{await M2(oo,h,p)},l=async(h,p,m,g)=>{const _=(await Ob(oo,h,p)).user,b={uid:_.uid,email:_.email,name:m,role:g,passwordChanged:g==="faculty"};await gu(Et(re,"users",_.uid),b)},c=async()=>{await L2(oo)};L.useEffect(()=>o6(oo,async p=>{if(n(p),p)try{console.log("User authenticated:",p.email,"UID:",p.uid);const m=await Ha(Et(re,"users",p.uid));if(m.exists()){const g=m.data();if(console.log("Found user document:",g),g.role==="student"){console.log("Student login detected, syncing data for:",g.email);const w=_e(le(re,"students"),xe("email","==",g.email)),_=await be(w);if(_.empty)console.log("No student data found for email:",g.email),i(g);else{const b=_.docs[0].data();console.log("Found student data:",b);const v={...g,name:b.name,rollNo:b.rollNo,section:b.section,facultyId:b.facultyId,passwordChanged:b.passwordChanged||g.passwordChanged};await gu(Et(re,"users",p.uid),v),console.log("Updated user profile:",v),i(v)}}else console.log("Faculty login detected"),i(g)}else{console.log("No user document found, checking if student by email:",p.email);const g=p.email;if(g){const w=_e(le(re,"facultyAccess"),xe("facultyId","==",p.uid)),_=await be(w);if(!_.empty){console.log("Found faculty access for user");const x=_.docs[0].data(),P={uid:p.uid,email:g,name:x.facultyName,role:"faculty",passwordChanged:!0,primaryFacultyId:x.primaryFacultyId};await gu(Et(re,"users",p.uid),P),i(P),console.log("Created faculty profile:",P)}console.log("Searching for student by email:",g);const b=_e(le(re,"students"),xe("email","==",g)),v=await be(b);if(v.empty)console.log("No faculty access found, searching for student by email:",g),console.log("No student found by email search"),i(null);else{const x=v.docs[0].data();console.log("Found student by email search:",x);const P={uid:p.uid,email:g,name:x.name,role:"student",rollNo:x.rollNo,section:x.section,facultyId:x.facultyId,passwordChanged:x.passwordChanged||!1};await gu(Et(re,"users",p.uid),P),console.log("Created student profile:",P),i(P)}}}}catch(m){console.error("Error fetching user profile:",m),i(null)}else console.log("No user authenticated"),i(null);a(!1)}),[]);const f={currentUser:e,userProfile:r,login:o,signup:l,logout:c,loading:s};return u.jsx(bC.Provider,{value:f,children:!s&&t})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var GU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QU=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Te=(t,e)=>{const n=L.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:l,...c},f)=>L.createElement("svg",{ref:f,...GU,width:i,height:i,stroke:r,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${QU(t)}`,o].join(" "),...c},[...e.map(([h,p])=>L.createElement(h,p)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=Te("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xl=Te("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=Te("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=Te("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=Te("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=Te("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=Te("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uf=Te("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=Te("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=Te("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=Te("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XU=Te("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=Te("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YU=Te("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JU=Te("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0=Te("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kh=Te("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=Te("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ku=Te("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=Te("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vw=Te("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZU=Te("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=Te("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=Te("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=Te("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=Te("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=Te("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=Te("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=Te("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=Te("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=Te("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=Te("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=Te("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=Te("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xw=Te("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=Te("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bw=Te("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=Te("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=Te("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=Te("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0=Te("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0=Te("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lB=Te("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=Te("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dh=Te("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uB=Te("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oy=Te("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=Te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ly=Te("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function cB(){const{login:t,signup:e}=fr(),[n,r]=L.useState(!1),[i,s]=L.useState("faculty"),[a,o]=L.useState(!1),[l,c]=L.useState(!1),[f,h]=L.useState({email:"",password:"",confirmPassword:"",name:"",rollNo:""}),[p,m]=L.useState(!1),[g,w]=L.useState(""),_=async v=>{v.preventDefault(),w(""),m(!0);try{if(n){if(f.password!==f.confirmPassword)throw new Error("Passwords do not match");await e(f.email,f.password,f.name,"faculty")}else console.log("Attempting login with:",f.email,"User type:",i),await t(f.email,f.password)}catch(x){console.error("Login error:",x),w(x.message)}finally{m(!1)}},b=()=>{h({email:"",password:"",confirmPassword:"",name:"",rollNo:""}),w("")};return u.jsxs("div",{className:"min-h-screen relative overflow-hidden bg-gradient-to-br from-indigo-900 via-purple-900 to-blue-900 flex items-center justify-center p-4",children:[u.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[u.jsx("div",{className:"absolute -top-32 -left-32 w-64 h-64 bg-gradient-to-r from-blue-400/30 to-indigo-400/30 rounded-full blur-3xl animate-modern-float"}),u.jsx("div",{className:"absolute -top-16 -right-16 w-48 h-48 bg-gradient-to-r from-purple-400/25 to-blue-400/25 rounded-full blur-2xl animate-modern-float",style:{animationDelay:"2s"}}),u.jsx("div",{className:"absolute -bottom-32 -left-16 w-56 h-56 bg-gradient-to-r from-indigo-400/20 to-purple-400/20 rounded-full blur-3xl animate-modern-float",style:{animationDelay:"4s"}}),u.jsx("div",{className:"absolute -bottom-16 -right-32 w-40 h-40 bg-gradient-to-r from-blue-400/35 to-purple-400/35 rounded-full blur-2xl animate-modern-float",style:{animationDelay:"6s"}}),u.jsx("div",{className:"absolute top-1/2 -left-20 w-72 h-72 bg-gradient-to-r from-purple-300/20 to-indigo-300/20 rounded-full blur-3xl animate-modern-float",style:{animationDelay:"1s"}}),u.jsx("div",{className:"absolute top-1/4 -right-24 w-80 h-80 bg-gradient-to-r from-blue-300/15 to-purple-300/15 rounded-full blur-3xl animate-modern-float",style:{animationDelay:"3s"}}),u.jsx("div",{className:"absolute bottom-1/2 -right-20 w-60 h-60 bg-gradient-to-r from-indigo-300/25 to-blue-300/25 rounded-full blur-3xl animate-modern-float",style:{animationDelay:"5s"}}),u.jsx("div",{className:"absolute top-1/4 left-1/6 w-32 h-32 bg-gradient-to-r from-indigo-400/40 to-blue-400/40 rounded-full blur-xl animate-modern-float",style:{animationDelay:"1s"}}),u.jsx("div",{className:"absolute top-1/3 right-1/4 w-24 h-24 bg-gradient-to-r from-purple-400/30 to-indigo-400/30 rounded-full blur-lg animate-modern-float",style:{animationDelay:"3s"}}),u.jsx("div",{className:"absolute bottom-1/3 left-1/3 w-28 h-28 bg-gradient-to-r from-blue-400/35 to-purple-400/35 rounded-full blur-xl animate-modern-float",style:{animationDelay:"5s"}}),u.jsx("div",{className:"absolute bottom-1/4 right-1/5 w-20 h-20 bg-gradient-to-r from-indigo-400/45 to-blue-400/45 rounded-full blur-lg animate-modern-float",style:{animationDelay:"7s"}}),u.jsx("div",{className:"absolute top-1/6 left-1/2 w-36 h-36 bg-gradient-to-r from-purple-400/25 to-blue-400/25 rounded-full blur-xl animate-modern-float",style:{animationDelay:"2s"}}),u.jsx("div",{className:"absolute top-2/3 left-1/6 w-44 h-44 bg-gradient-to-r from-indigo-400/20 to-purple-400/20 rounded-full blur-2xl animate-modern-float",style:{animationDelay:"4s"}}),u.jsx("div",{className:"absolute bottom-1/6 right-1/3 w-32 h-32 bg-gradient-to-r from-blue-400/30 to-indigo-400/30 rounded-full blur-xl animate-modern-float",style:{animationDelay:"6s"}}),Array.from({length:35}).map((v,x)=>u.jsx("div",{className:"absolute w-4 h-4 bg-gradient-to-r from-blue-400/60 to-indigo-400/60 rounded-full animate-modern-float",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*8}s`,animationDuration:`${4+Math.random()*4}s`}},x)),Array.from({length:25}).map((v,x)=>u.jsx("div",{className:"absolute w-2 h-2 bg-gradient-to-r from-purple-400/40 to-indigo-400/40 rounded-full animate-modern-float",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*10}s`,animationDuration:`${3+Math.random()*5}s`}},`tiny-${x}`)),u.jsx("div",{className:"absolute top-20 left-20 w-16 h-16 border-2 border-blue-400/40 rotate-45 animate-modern-float rounded-lg"}),u.jsx("div",{className:"absolute top-32 right-32 w-12 h-12 bg-gradient-to-r from-purple-400/30 to-blue-400/30 rounded-full animate-modern-float",style:{animationDelay:"2s"}}),u.jsx("div",{className:"absolute bottom-32 left-32 w-20 h-20 border-2 border-indigo-400/50 animate-modern-float rounded-xl",style:{animationDelay:"4s"}}),u.jsx("div",{className:"absolute bottom-20 right-20 w-8 h-8 bg-gradient-to-r from-blue-400/40 to-indigo-400/40 rotate-45 animate-modern-float rounded-md",style:{animationDelay:"6s"}}),u.jsx("div",{className:"absolute top-1/3 left-1/4 w-14 h-14 border-2 border-purple-400/35 rotate-12 animate-modern-float rounded-lg",style:{animationDelay:"1s"}}),u.jsx("div",{className:"absolute top-3/4 right-1/4 w-18 h-18 bg-gradient-to-r from-indigo-400/25 to-blue-400/25 rotate-45 animate-modern-float rounded-xl",style:{animationDelay:"3s"}}),u.jsx("div",{className:"absolute bottom-1/4 left-1/2 w-10 h-10 border-2 border-blue-400/45 animate-modern-float rounded-full",style:{animationDelay:"5s"}}),u.jsx("div",{className:"absolute top-1/2 right-1/6 w-22 h-22 bg-gradient-to-r from-purple-400/20 to-indigo-400/20 rotate-30 animate-modern-float rounded-2xl",style:{animationDelay:"7s"}}),u.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none opacity-20",viewBox:"0 0 1200 800",children:[u.jsxs("defs",{children:[u.jsxs("linearGradient",{id:"curveGradient1",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[u.jsx("stop",{offset:"0%",stopColor:"#6366F1",stopOpacity:"0.6"}),u.jsx("stop",{offset:"50%",stopColor:"#8B5CF6",stopOpacity:"0.4"}),u.jsx("stop",{offset:"100%",stopColor:"#3B82F6",stopOpacity:"0.6"})]}),u.jsxs("linearGradient",{id:"curveGradient2",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[u.jsx("stop",{offset:"0%",stopColor:"#8B5CF6",stopOpacity:"0.5"}),u.jsx("stop",{offset:"50%",stopColor:"#6366F1",stopOpacity:"0.3"}),u.jsx("stop",{offset:"100%",stopColor:"#3B82F6",stopOpacity:"0.5"})]}),u.jsxs("linearGradient",{id:"curveGradient3",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[u.jsx("stop",{offset:"0%",stopColor:"#3B82F6",stopOpacity:"0.4"}),u.jsx("stop",{offset:"50%",stopColor:"#6366F1",stopOpacity:"0.6"}),u.jsx("stop",{offset:"100%",stopColor:"#8B5CF6",stopOpacity:"0.4"})]})]}),u.jsx("path",{d:"M0,200 Q300,100 600,200 T1200,200",stroke:"url(#curveGradient1)",strokeWidth:"3",fill:"none",className:"animate-mega-draw-line"}),u.jsx("path",{d:"M0,400 Q400,250 800,400 T1600,400",stroke:"url(#curveGradient2)",strokeWidth:"2",fill:"none",className:"animate-mega-draw-line-delayed"}),u.jsx("path",{d:"M200,0 Q500,300 800,100 T1400,200",stroke:"url(#curveGradient3)",strokeWidth:"2",fill:"none",className:"animate-mega-draw-line-slow"}),u.jsx("path",{d:"M0,600 Q200,450 400,600 Q600,750 800,600 Q1000,450 1200,600",stroke:"url(#curveGradient1)",strokeWidth:"2",fill:"none",className:"animate-mega-draw-line",style:{animationDelay:"2s"}}),u.jsx("path",{d:"M100,100 Q350,350 600,150 Q850,50 1100,250",stroke:"url(#curveGradient2)",strokeWidth:"1.5",fill:"none",className:"animate-mega-draw-line-delayed",style:{animationDelay:"1s"}}),u.jsx("path",{d:"M0,300 Q150,150 300,300 Q450,450 600,300 Q750,150 900,300 Q1050,450 1200,300",stroke:"url(#curveGradient3)",strokeWidth:"2",fill:"none",className:"animate-mega-draw-line-slow",style:{animationDelay:"3s"}}),u.jsx("path",{d:"M0,500 Q100,400 200,500 Q300,600 400,500 Q500,400 600,500 Q700,600 800,500 Q900,400 1000,500 Q1100,600 1200,500",stroke:"url(#curveGradient1)",strokeWidth:"1.5",fill:"none",className:"animate-mega-draw-line",style:{animationDelay:"4s"}}),u.jsx("path",{d:"M0,700 Q150,550 300,700 Q450,850 600,700 Q750,550 900,700 Q1050,850 1200,700",stroke:"url(#curveGradient2)",strokeWidth:"2",fill:"none",className:"animate-mega-draw-line-delayed",style:{animationDelay:"2.5s"}})]}),u.jsx("div",{className:"absolute top-1/4 left-1/8 w-32 h-16 border-2 border-blue-400/30 rounded-full animate-modern-float",style:{animationDelay:"1.5s"}}),u.jsx("div",{className:"absolute top-2/3 right-1/8 w-40 h-20 border-2 border-purple-400/25 rounded-full animate-modern-float",style:{animationDelay:"3.5s"}}),u.jsx("div",{className:"absolute bottom-1/3 left-1/5 w-24 h-12 bg-gradient-to-r from-indigo-400/20 to-blue-400/20 rounded-full animate-modern-float",style:{animationDelay:"5.5s"}}),u.jsx("div",{className:"absolute top-1/2 right-1/3 w-36 h-18 border-2 border-indigo-400/35 rounded-full animate-modern-float",style:{animationDelay:"7.5s"}}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-indigo-900/30 via-transparent to-purple-900/30"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-900/20 via-transparent to-indigo-900/20"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-transparent via-purple-900/10 to-transparent"})]}),u.jsxs("div",{className:"relative z-10 max-w-md w-full",children:[u.jsxs("div",{className:"text-center mb-8 animate-slide-in-down",children:[u.jsx("div",{className:"flex justify-center mb-6",children:u.jsxs("div",{className:"relative group",children:[u.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-blue-400 via-purple-400 to-indigo-400 rounded-full blur-xl opacity-60 animate-pulse group-hover:opacity-100 transition-opacity duration-500"}),u.jsx("div",{className:"relative bg-gradient-to-r from-blue-500 via-purple-500 to-indigo-500 p-4 rounded-full shadow-2xl transform group-hover:scale-110 transition-transform duration-500 border border-white/20",children:u.jsx(Uf,{className:"h-12 w-12 text-white"})})]})}),u.jsx("h1",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-white via-teal-100 to-cyan-100 bg-clip-text text-transparent",children:"NBKR Institute of Science and Technology"}),u.jsx("p",{className:"text-blue-200/90 text-lg font-medium mb-4",children:"Artificial Intelligence  Laboratory"}),u.jsxs("div",{className:"flex justify-center items-center space-x-4 mb-4",children:[u.jsxs("div",{className:"flex items-center space-x-2 text-green-300/90 bg-green-900/30 px-3 py-1 rounded-full backdrop-blur-sm border border-green-500/20",children:[u.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),u.jsx("span",{className:"text-sm font-medium",children:"System Online"})]}),u.jsxs("div",{className:"flex items-center space-x-2 text-blue-300/90 bg-blue-900/30 px-3 py-1 rounded-full backdrop-blur-sm border border-blue-500/20",children:[u.jsx(aa,{className:"h-3 w-3"}),u.jsx("span",{className:"text-sm font-medium",children:"Secure Connection"})]})]}),u.jsxs("div",{className:"flex justify-center space-x-2",children:[u.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse"}),u.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full animate-pulse",style:{animationDelay:"0.4s"}}),u.jsx("div",{className:"w-2 h-2 bg-indigo-400 rounded-full animate-pulse",style:{animationDelay:"0.8s"}}),u.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse",style:{animationDelay:"1.2s"}})]})]}),u.jsxs("div",{className:"backdrop-blur-xl bg-white/10 rounded-2xl shadow-2xl border border-white/20 p-8 relative overflow-hidden group hover:bg-white/15 transition-all duration-500 animate-fade-in-scale",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 via-purple-500/5 to-indigo-500/5 rounded-2xl"}),u.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-400/20 via-purple-400/20 to-indigo-400/20 rounded-2xl blur opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),u.jsxs("div",{className:"relative z-10",children:[!n&&u.jsxs("div",{className:"flex mb-6 bg-white/5 rounded-xl p-1 backdrop-blur-sm border border-white/10",children:[u.jsxs("button",{type:"button",onClick:()=>{s("faculty"),b()},className:`flex-1 flex items-center justify-center space-x-2 py-3 px-4 rounded-lg font-medium transition-all duration-300 ${i==="faculty"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg transform scale-105":"text-white/70 hover:text-white hover:bg-white/10"}`,children:[u.jsx(r0,{className:"h-4 w-4"}),u.jsx("span",{children:"Faculty"})]}),u.jsxs("button",{type:"button",onClick:()=>{s("student"),b()},className:`flex-1 flex items-center justify-center space-x-2 py-3 px-4 rounded-lg font-medium transition-all duration-300 ${i==="student"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg transform scale-105":"text-white/70 hover:text-white hover:bg-white/10"}`,children:[u.jsx($r,{className:"h-4 w-4"}),u.jsx("span",{children:"Student"})]})]}),u.jsxs("form",{onSubmit:_,className:"space-y-6",children:[n&&u.jsxs("div",{className:"group",children:[u.jsxs("label",{className:"block text-sm font-medium text-white/90 mb-2 flex items-center space-x-2",children:[u.jsx($r,{className:"h-4 w-4 text-blue-400"}),u.jsx("span",{children:"Full Name"})]}),u.jsx("input",{type:"text",required:!0,value:f.name,onChange:v=>h({...f,name:v.target.value}),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-transparent text-white placeholder-white/50 backdrop-blur-sm transition-all duration-300 group-hover:bg-white/15 focus:scale-105",placeholder:"Enter your full name"})]}),u.jsxs("div",{className:"group",children:[u.jsxs("label",{className:"block text-sm font-medium text-white/90 mb-2 flex items-center space-x-2",children:[u.jsx(ZU,{className:"h-4 w-4 text-purple-400"}),u.jsx("span",{children:"Email Address"})]}),u.jsx("input",{type:"email",required:!0,value:f.email,onChange:v=>h({...f,email:v.target.value}),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:ring-2 focus:ring-purple-400 focus:border-transparent text-white placeholder-white/50 backdrop-blur-sm transition-all duration-300 group-hover:bg-white/15 focus:scale-105",placeholder:i==="student"?"Enter your college email":"Enter your email"}),i==="student"&&!n&&u.jsxs("p",{className:"text-xs text-blue-300/80 mt-2 flex items-center space-x-1",children:[u.jsx(YU,{className:"h-3 w-3"}),u.jsx("span",{children:"Use your college email address provided by the faculty"})]})]}),u.jsxs("div",{className:"group",children:[u.jsxs("label",{className:"block text-sm font-medium text-white/90 mb-2 flex items-center space-x-2",children:[u.jsx(ly,{className:"h-4 w-4 text-indigo-400"}),u.jsx("span",{children:"Password"})]}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:a?"text":"password",required:!0,value:f.password,onChange:v=>h({...f,password:v.target.value}),className:"w-full px-4 py-3 pr-12 bg-white/10 border border-white/20 rounded-xl focus:ring-2 focus:ring-indigo-400 focus:border-transparent text-white placeholder-white/50 backdrop-blur-sm transition-all duration-300 group-hover:bg-white/15 focus:scale-105",placeholder:"Enter your password"}),u.jsx("button",{type:"button",onClick:()=>o(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/60 hover:text-white transition-all duration-300 hover:scale-110",children:a?u.jsx(kh,{className:"h-5 w-5"}):u.jsx(_s,{className:"h-5 w-5"})})]}),i==="student"&&!n&&u.jsxs("p",{className:"text-xs text-indigo-300/80 mt-2 flex items-center space-x-1",children:[u.jsx(uB,{className:"h-3 w-3"}),u.jsx("span",{children:"Use the password provided by your faculty or your updated password"})]})]}),n&&u.jsxs("div",{className:"group",children:[u.jsxs("label",{className:"block text-sm font-medium text-white/90 mb-2 flex items-center space-x-2",children:[u.jsx(ly,{className:"h-4 w-4 text-violet-400"}),u.jsx("span",{children:"Confirm Password"})]}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:l?"text":"password",required:!0,value:f.confirmPassword,onChange:v=>h({...f,confirmPassword:v.target.value}),className:"w-full px-4 py-3 pr-12 bg-white/10 border border-white/20 rounded-xl focus:ring-2 focus:ring-violet-400 focus:border-transparent text-white placeholder-white/50 backdrop-blur-sm transition-all duration-300 group-hover:bg-white/15 focus:scale-105",placeholder:"Confirm your password"}),u.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/60 hover:text-white transition-all duration-300 hover:scale-110",children:l?u.jsx(kh,{className:"h-5 w-5"}):u.jsx(_s,{className:"h-5 w-5"})})]})]}),g&&u.jsx("div",{className:"bg-red-500/20 border border-red-400/30 text-red-200 px-4 py-3 rounded-xl backdrop-blur-sm animate-shake",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"w-2 h-2 bg-red-400 rounded-full animate-pulse"}),u.jsx("span",{children:g})]})}),u.jsxs("button",{type:"submit",disabled:p,className:"w-full bg-gradient-to-r from-blue-500 via-purple-500 to-indigo-500 text-white py-4 rounded-xl font-medium hover:from-blue-600 hover:via-purple-600 hover:to-indigo-600 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-offset-2 focus:ring-offset-transparent disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-500 transform hover:scale-105 hover:shadow-2xl relative overflow-hidden group",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/10 via-white/5 to-white/10 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),u.jsx("div",{className:"relative flex items-center justify-center space-x-2",children:p?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white modern-spinner"}),u.jsx("span",{children:"Authenticating..."})]}):u.jsxs(u.Fragment,{children:[u.jsx("span",{children:n?"Create Account":"Sign In"}),u.jsx(QE,{className:"h-4 w-4"})]})})]})]}),i==="faculty"&&u.jsx("div",{className:"mt-6 text-center",children:u.jsxs("button",{type:"button",onClick:()=>{r(!n),b()},className:"text-blue-300 hover:text-white font-medium transition-all duration-300 relative group px-4 py-2 rounded-lg",children:[u.jsx("span",{className:"relative z-10",children:n?"Already have an account? Sign In":"Don't have an account? Create One"}),u.jsx("div",{className:"absolute inset-0 bg-white/10 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})})]})]}),u.jsx("div",{className:"text-center mt-8 animate-slide-in-up",children:u.jsxs("div",{className:"flex justify-center items-center space-x-6 text-white/60 text-sm",children:[u.jsxs("div",{className:"flex items-center space-x-2 bg-blue-900/30 px-3 py-1 rounded-full backdrop-blur-sm border border-blue-500/20",children:[u.jsx(aa,{className:"h-3 w-3 text-blue-400"}),u.jsx("span",{children:"Secure"})]}),u.jsxs("div",{className:"flex items-center space-x-2 bg-purple-900/30 px-3 py-1 rounded-full backdrop-blur-sm border border-purple-500/20",children:[u.jsx(ly,{className:"h-3 w-3 text-purple-400"}),u.jsx("span",{children:"Modern"})]}),u.jsxs("div",{className:"flex items-center space-x-2 bg-indigo-900/30 px-3 py-1 rounded-full backdrop-blur-sm border border-indigo-500/20",children:[u.jsx(QE,{className:"h-3 w-3 text-indigo-400"}),u.jsx("span",{children:"Efficient"})]})]})})]})]})}const dB=({children:t,activeTab:e,onTabChange:n})=>{const{userProfile:r,logout:i}=fr(),s=[{id:"dashboard",label:"Dashboard",icon:Zv,color:"text-blue-600"},{id:"students",label:"Students",icon:Dh,color:"text-green-600"},{id:"experiments",label:"Experiments",icon:Uf,color:"text-purple-600"},{id:"viva-questions",label:"Viva Questions",icon:dc,color:"text-orange-600"},{id:"submissions",label:"Submissions",icon:ku,color:"text-teal-600"},{id:"records",label:"Records",icon:ku,color:"text-indigo-600"},{id:"profile",label:"My Profile",icon:$r,color:"text-gray-600"}],a=[{id:"dashboard",label:"Dashboard",icon:Zv,color:"text-blue-600"},{id:"experiments",label:"Experiments",icon:Uf,color:"text-purple-600"},{id:"profile",label:"My Profile",icon:$r,color:"text-gray-600"}],o=(r==null?void 0:r.role)==="faculty"?s:a;return r?u.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[u.jsx("header",{className:"bg-blue shadow-sm border-b",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex justify-between items-center h-16",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-2 rounded-lg",children:u.jsx(Uf,{className:"h-8 w-8 text-blue"})})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"NBKR Institute of Science and Technology"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Artificial Intelligence and System Programming Laboratory (CSE-AIML)"})]})]}),u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("div",{className:"flex items-center space-x-3 bg-gray-50 rounded-lg px-4 py-2 border",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 p-2 rounded-full",children:u.jsx(XU,{className:"h-5 w-5 text-white"})})}),u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("p",{className:"text-sm font-semibold text-gray-900",children:r==null?void 0:r.name}),u.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${(r==null?void 0:r.role)==="faculty"?"bg-blue-100 text-blue-800 border border-blue-200":"bg-green-100 text-blue-800 border border-blue-200"}`,children:(r==null?void 0:r.role)==="faculty"?"Faculty":"Student"})]}),(r==null?void 0:r.role)==="student"&&(r==null?void 0:r.rollNo)&&u.jsxs("p",{className:"text-xs text-gray-500",children:["Roll No: ",r.rollNo]})]})]}),u.jsxs("button",{onClick:i,className:"flex items-center space-x-2 px-3 py-2 text-sm text-red-600 hover:text-red-800 hover:bg-red-50 rounded-md transition-colors",children:[u.jsx(tB,{className:"h-4 w-4"}),u.jsx("span",{children:"Logout"})]})]})]})})}),u.jsx("div",{className:"flex-1 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 w-full",children:u.jsxs("div",{className:"flex space-x-8 min-h-full",children:[u.jsx("div",{className:"w-64 flex-shrink-0",children:u.jsx("nav",{className:"bg-white rounded-lg shadow-sm border",children:u.jsxs("div",{className:"p-4",children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Navigation"}),u.jsx("ul",{className:"space-y-2",children:o.map(l=>{const c=l.icon;return u.jsx("li",{children:u.jsxs("button",{onClick:()=>n(l.id),className:`w-full flex items-center space-x-3 px-3 py-2 text-left rounded-md transition-colors ${e===l.id?"bg-blue-100 text-blue-700 border border-yellow-400":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"}`,children:[u.jsx(c,{className:`h-5 w-5 ${e===l.id?"text-blue-600":l.color}`}),u.jsx("span",{className:"font-medium",children:l.label})]})},l.id)})})]})})}),u.jsx("div",{className:"flex-1",children:t})]})}),u.jsx("footer",{className:"bg-gray-800 text-white py-6 mt-auto",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"text-center",children:[u.jsxs("p",{className:"text-sm",children:["Designed and Developed by ",u.jsx("span",{className:"font-bold text-blue-400",children:"IEEE-NBKRIST"})]}),u.jsx("p",{className:"text-xs text-grey-400 mt-1",children:"Artificial Intelligence and System Programming Laboratory III-I  2025"})]})})})]}):u.jsx("div",{children:"Loading..."})};function SC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=SC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function We(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=SC(t))&&(r&&(r+=" "),r+=e);return r}var fB=Array.isArray,$n=fB,hB=typeof kd=="object"&&kd&&kd.Object===Object&&kd,EC=hB,pB=EC,mB=typeof self=="object"&&self&&self.Object===Object&&self,gB=pB||mB||Function("return this")(),ti=gB,yB=ti,vB=yB.Symbol,ud=vB,YE=ud,AC=Object.prototype,xB=AC.hasOwnProperty,bB=AC.toString,Yl=YE?YE.toStringTag:void 0;function wB(t){var e=xB.call(t,Yl),n=t[Yl];try{t[Yl]=void 0;var r=!0}catch{}var i=bB.call(t);return r&&(e?t[Yl]=n:delete t[Yl]),i}var _B=wB,SB=Object.prototype,EB=SB.toString;function AB(t){return EB.call(t)}var TB=AB,JE=ud,NB=_B,IB=TB,PB="[object Null]",jB="[object Undefined]",ZE=JE?JE.toStringTag:void 0;function OB(t){return t==null?t===void 0?jB:PB:ZE&&ZE in Object(t)?NB(t):IB(t)}var Mi=OB;function CB(t){return t!=null&&typeof t=="object"}var $i=CB,kB=Mi,RB=$i,DB="[object Symbol]";function MB(t){return typeof t=="symbol"||RB(t)&&kB(t)==DB}var yl=MB,$B=$n,LB=yl,VB=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,FB=/^\w*$/;function UB(t,e){if($B(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||LB(t)?!0:FB.test(t)||!VB.test(t)||e!=null&&t in Object(e)}var ww=UB;function BB(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var js=BB;const vl=Je(js);var zB=Mi,qB=js,WB="[object AsyncFunction]",HB="[object Function]",KB="[object GeneratorFunction]",GB="[object Proxy]";function QB(t){if(!qB(t))return!1;var e=zB(t);return e==HB||e==KB||e==WB||e==GB}var _w=QB;const De=Je(_w);var XB=ti,YB=XB["__core-js_shared__"],JB=YB,uy=JB,eA=function(){var t=/[^.]+$/.exec(uy&&uy.keys&&uy.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function ZB(t){return!!eA&&eA in t}var e9=ZB,t9=Function.prototype,n9=t9.toString;function r9(t){if(t!=null){try{return n9.call(t)}catch{}try{return t+""}catch{}}return""}var TC=r9,i9=_w,s9=e9,a9=js,o9=TC,l9=/[\\^$.*+?()[\]{}|]/g,u9=/^\[object .+?Constructor\]$/,c9=Function.prototype,d9=Object.prototype,f9=c9.toString,h9=d9.hasOwnProperty,p9=RegExp("^"+f9.call(h9).replace(l9,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m9(t){if(!a9(t)||s9(t))return!1;var e=i9(t)?p9:u9;return e.test(o9(t))}var g9=m9;function y9(t,e){return t==null?void 0:t[e]}var v9=y9,x9=g9,b9=v9;function w9(t,e){var n=b9(t,e);return x9(n)?n:void 0}var ja=w9,_9=ja,S9=_9(Object,"create"),mm=S9,tA=mm;function E9(){this.__data__=tA?tA(null):{},this.size=0}var A9=E9;function T9(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var N9=T9,I9=mm,P9="__lodash_hash_undefined__",j9=Object.prototype,O9=j9.hasOwnProperty;function C9(t){var e=this.__data__;if(I9){var n=e[t];return n===P9?void 0:n}return O9.call(e,t)?e[t]:void 0}var k9=C9,R9=mm,D9=Object.prototype,M9=D9.hasOwnProperty;function $9(t){var e=this.__data__;return R9?e[t]!==void 0:M9.call(e,t)}var L9=$9,V9=mm,F9="__lodash_hash_undefined__";function U9(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=V9&&e===void 0?F9:e,this}var B9=U9,z9=A9,q9=N9,W9=k9,H9=L9,K9=B9;function xl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}xl.prototype.clear=z9;xl.prototype.delete=q9;xl.prototype.get=W9;xl.prototype.has=H9;xl.prototype.set=K9;var G9=xl;function Q9(){this.__data__=[],this.size=0}var X9=Q9;function Y9(t,e){return t===e||t!==t&&e!==e}var Sw=Y9,J9=Sw;function Z9(t,e){for(var n=t.length;n--;)if(J9(t[n][0],e))return n;return-1}var gm=Z9,e8=gm,t8=Array.prototype,n8=t8.splice;function r8(t){var e=this.__data__,n=e8(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():n8.call(e,n,1),--this.size,!0}var i8=r8,s8=gm;function a8(t){var e=this.__data__,n=s8(e,t);return n<0?void 0:e[n][1]}var o8=a8,l8=gm;function u8(t){return l8(this.__data__,t)>-1}var c8=u8,d8=gm;function f8(t,e){var n=this.__data__,r=d8(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var h8=f8,p8=X9,m8=i8,g8=o8,y8=c8,v8=h8;function bl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}bl.prototype.clear=p8;bl.prototype.delete=m8;bl.prototype.get=g8;bl.prototype.has=y8;bl.prototype.set=v8;var ym=bl,x8=ja,b8=ti,w8=x8(b8,"Map"),Ew=w8,nA=G9,_8=ym,S8=Ew;function E8(){this.size=0,this.__data__={hash:new nA,map:new(S8||_8),string:new nA}}var A8=E8;function T8(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var N8=T8,I8=N8;function P8(t,e){var n=t.__data__;return I8(e)?n[typeof e=="string"?"string":"hash"]:n.map}var vm=P8,j8=vm;function O8(t){var e=j8(this,t).delete(t);return this.size-=e?1:0,e}var C8=O8,k8=vm;function R8(t){return k8(this,t).get(t)}var D8=R8,M8=vm;function $8(t){return M8(this,t).has(t)}var L8=$8,V8=vm;function F8(t,e){var n=V8(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var U8=F8,B8=A8,z8=C8,q8=D8,W8=L8,H8=U8;function wl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}wl.prototype.clear=B8;wl.prototype.delete=z8;wl.prototype.get=q8;wl.prototype.has=W8;wl.prototype.set=H8;var Aw=wl,NC=Aw,K8="Expected a function";function Tw(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(K8);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var a=t.apply(this,r);return n.cache=s.set(i,a)||s,a};return n.cache=new(Tw.Cache||NC),n}Tw.Cache=NC;var IC=Tw;const G8=Je(IC);var Q8=IC,X8=500;function Y8(t){var e=Q8(t,function(r){return n.size===X8&&n.clear(),r}),n=e.cache;return e}var J8=Y8,Z8=J8,ez=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,tz=/\\(\\)?/g,nz=Z8(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(ez,function(n,r,i,s){e.push(i?s.replace(tz,"$1"):r||n)}),e}),rz=nz;function iz(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var Nw=iz,rA=ud,sz=Nw,az=$n,oz=yl,lz=1/0,iA=rA?rA.prototype:void 0,sA=iA?iA.toString:void 0;function PC(t){if(typeof t=="string")return t;if(az(t))return sz(t,PC)+"";if(oz(t))return sA?sA.call(t):"";var e=t+"";return e=="0"&&1/t==-lz?"-0":e}var uz=PC,cz=uz;function dz(t){return t==null?"":cz(t)}var jC=dz,fz=$n,hz=ww,pz=rz,mz=jC;function gz(t,e){return fz(t)?t:hz(t,e)?[t]:pz(mz(t))}var OC=gz,yz=yl,vz=1/0;function xz(t){if(typeof t=="string"||yz(t))return t;var e=t+"";return e=="0"&&1/t==-vz?"-0":e}var xm=xz,bz=OC,wz=xm;function _z(t,e){e=bz(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[wz(e[n++])];return n&&n==r?t:void 0}var Iw=_z,Sz=Iw;function Ez(t,e,n){var r=t==null?void 0:Sz(t,e);return r===void 0?n:r}var CC=Ez;const Tr=Je(CC);function Az(t){return t==null}var Tz=Az;const Fe=Je(Tz);var Nz=Mi,Iz=$n,Pz=$i,jz="[object String]";function Oz(t){return typeof t=="string"||!Iz(t)&&Pz(t)&&Nz(t)==jz}var Cz=Oz;const cd=Je(Cz);var kC={exports:{}},Xe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pw=Symbol.for("react.element"),jw=Symbol.for("react.portal"),bm=Symbol.for("react.fragment"),wm=Symbol.for("react.strict_mode"),_m=Symbol.for("react.profiler"),Sm=Symbol.for("react.provider"),Em=Symbol.for("react.context"),kz=Symbol.for("react.server_context"),Am=Symbol.for("react.forward_ref"),Tm=Symbol.for("react.suspense"),Nm=Symbol.for("react.suspense_list"),Im=Symbol.for("react.memo"),Pm=Symbol.for("react.lazy"),Rz=Symbol.for("react.offscreen"),RC;RC=Symbol.for("react.module.reference");function hr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Pw:switch(t=t.type,t){case bm:case _m:case wm:case Tm:case Nm:return t;default:switch(t=t&&t.$$typeof,t){case kz:case Em:case Am:case Pm:case Im:case Sm:return t;default:return e}}case jw:return e}}}Xe.ContextConsumer=Em;Xe.ContextProvider=Sm;Xe.Element=Pw;Xe.ForwardRef=Am;Xe.Fragment=bm;Xe.Lazy=Pm;Xe.Memo=Im;Xe.Portal=jw;Xe.Profiler=_m;Xe.StrictMode=wm;Xe.Suspense=Tm;Xe.SuspenseList=Nm;Xe.isAsyncMode=function(){return!1};Xe.isConcurrentMode=function(){return!1};Xe.isContextConsumer=function(t){return hr(t)===Em};Xe.isContextProvider=function(t){return hr(t)===Sm};Xe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Pw};Xe.isForwardRef=function(t){return hr(t)===Am};Xe.isFragment=function(t){return hr(t)===bm};Xe.isLazy=function(t){return hr(t)===Pm};Xe.isMemo=function(t){return hr(t)===Im};Xe.isPortal=function(t){return hr(t)===jw};Xe.isProfiler=function(t){return hr(t)===_m};Xe.isStrictMode=function(t){return hr(t)===wm};Xe.isSuspense=function(t){return hr(t)===Tm};Xe.isSuspenseList=function(t){return hr(t)===Nm};Xe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===bm||t===_m||t===wm||t===Tm||t===Nm||t===Rz||typeof t=="object"&&t!==null&&(t.$$typeof===Pm||t.$$typeof===Im||t.$$typeof===Sm||t.$$typeof===Em||t.$$typeof===Am||t.$$typeof===RC||t.getModuleId!==void 0)};Xe.typeOf=hr;kC.exports=Xe;var Dz=kC.exports,Mz=Mi,$z=$i,Lz="[object Number]";function Vz(t){return typeof t=="number"||$z(t)&&Mz(t)==Lz}var DC=Vz;const Fz=Je(DC);var Uz=DC;function Bz(t){return Uz(t)&&t!=+t}var zz=Bz;const dd=Je(zz);var sr=function(e){return e===0?0:e>0?1:-1},ea=function(e){return cd(e)&&e.indexOf("%")===e.length-1},he=function(e){return Fz(e)&&!dd(e)},Vt=function(e){return he(e)||cd(e)},qz=0,jm=function(e){var n=++qz;return"".concat(e||"").concat(n)},On=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!he(e)&&!cd(e))return r;var s;if(ea(e)){var a=e.indexOf("%");s=n*parseFloat(e.slice(0,a))/100}else s=+e;return dd(s)&&(s=r),i&&s>n&&(s=n),s},Ka=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Wz=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},aA=function(e,n){return he(e)&&he(n)?function(r){return e+r*(n-e)}:function(){return n}};function i0(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Tr(r,e))===n})}function s0(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function a0(t){"@babel/helpers - typeof";return a0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a0(t)}var Hz=["viewBox","children"],Kz=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],oA=["points","pathLength"],cy={svg:Hz,polygon:oA,polyline:oA},Ow=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Mh=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(L.isValidElement(e)&&(r=e.props),!vl(r))return null;var i={};return Object.keys(r).forEach(function(s){Ow.includes(s)&&(i[s]=n||function(a){return r[s](r,a)})}),i},Gz=function(e,n,r){return function(i){return e(n,r,i),null}},Om=function(e,n,r){if(!vl(e)||a0(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var a=e[s];Ow.includes(s)&&typeof a=="function"&&(i||(i={}),i[s]=Gz(a,n,r))}),i},Qz=["children"],Xz=["children"];function lA(t,e){if(t==null)return{};var n=Yz(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Yz(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var uA={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},xi=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},cA=null,dy=null,Cw=function t(e){if(e===cA&&Array.isArray(dy))return dy;var n=[];return L.Children.forEach(e,function(r){Fe(r)||(Dz.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),dy=n,cA=e,n};function Hr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return xi(i)}):r=[xi(e)],Cw(t).forEach(function(i){var s=Tr(i,"type.displayName")||Tr(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}function er(t,e){var n=Hr(t,e);return n&&n[0]}var dA=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!he(r)||r<=0||!he(i)||i<=0)},Jz=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Zz=function(e){return e&&e.type&&cd(e.type)&&Jz.indexOf(e.type)>=0},e7=function(e,n,r,i){var s,a=(s=cy==null?void 0:cy[i])!==null&&s!==void 0?s:[];return n.startsWith("data-")||!De(e)&&(i&&a.includes(n)||Kz.includes(n))||r&&Ow.includes(n)},Re=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(L.isValidElement(e)&&(i=e.props),!vl(i))return null;var s={};return Object.keys(i).forEach(function(a){var o;e7((o=i)===null||o===void 0?void 0:o[a],a,n,r)&&(s[a]=i[a])}),s},o0=function t(e,n){if(e===n)return!0;var r=L.Children.count(e);if(r!==L.Children.count(n))return!1;if(r===0)return!0;if(r===1)return fA(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var s=e[i],a=n[i];if(Array.isArray(s)||Array.isArray(a)){if(!t(s,a))return!1}else if(!fA(s,a))return!1}return!0},fA=function(e,n){if(Fe(e)&&Fe(n))return!0;if(!Fe(e)&&!Fe(n)){var r=e.props||{},i=r.children,s=lA(r,Qz),a=n.props||{},o=a.children,l=lA(a,Xz);return i&&o?s0(s,l)&&o0(i,o):!i&&!o?s0(s,l):!1}return!1},hA=function(e,n){var r=[],i={};return Cw(e).forEach(function(s,a){if(Zz(s))r.push(s);else if(s){var o=xi(s.type),l=n[o]||{},c=l.handler,f=l.once;if(c&&(!f||!i[o])){var h=c(s,o,a);r.push(h),i[o]=!0}}}),r},t7=function(e){var n=e&&e.type;return n&&uA[n]?uA[n]:null},n7=function(e,n){return Cw(n).indexOf(e)},r7=["children","width","height","viewBox","className","style","title","desc"];function l0(){return l0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l0.apply(this,arguments)}function i7(t,e){if(t==null)return{};var n=s7(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function s7(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function u0(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,s=t.className,a=t.style,o=t.title,l=t.desc,c=i7(t,r7),f=i||{width:n,height:r,x:0,y:0},h=We("recharts-surface",s);return W.createElement("svg",l0({},Re(c,!0,"svg"),{className:h,width:n,height:r,style:a,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),W.createElement("title",null,o),W.createElement("desc",null,l),e)}var a7=["children","className"];function c0(){return c0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c0.apply(this,arguments)}function o7(t,e){if(t==null)return{};var n=l7(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function l7(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var At=W.forwardRef(function(t,e){var n=t.children,r=t.className,i=o7(t,a7),s=We("recharts-layer",r);return W.createElement("g",c0({className:s},Re(i,!0),{ref:e}),n)}),bi=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]};function u7(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=t[r+e];return s}var c7=u7,d7=c7;function f7(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:d7(t,e,n)}var h7=f7,p7="\\ud800-\\udfff",m7="\\u0300-\\u036f",g7="\\ufe20-\\ufe2f",y7="\\u20d0-\\u20ff",v7=m7+g7+y7,x7="\\ufe0e\\ufe0f",b7="\\u200d",w7=RegExp("["+b7+p7+v7+x7+"]");function _7(t){return w7.test(t)}var MC=_7;function S7(t){return t.split("")}var E7=S7,$C="\\ud800-\\udfff",A7="\\u0300-\\u036f",T7="\\ufe20-\\ufe2f",N7="\\u20d0-\\u20ff",I7=A7+T7+N7,P7="\\ufe0e\\ufe0f",j7="["+$C+"]",d0="["+I7+"]",f0="\\ud83c[\\udffb-\\udfff]",O7="(?:"+d0+"|"+f0+")",LC="[^"+$C+"]",VC="(?:\\ud83c[\\udde6-\\uddff]){2}",FC="[\\ud800-\\udbff][\\udc00-\\udfff]",C7="\\u200d",UC=O7+"?",BC="["+P7+"]?",k7="(?:"+C7+"(?:"+[LC,VC,FC].join("|")+")"+BC+UC+")*",R7=BC+UC+k7,D7="(?:"+[LC+d0+"?",d0,VC,FC,j7].join("|")+")",M7=RegExp(f0+"(?="+f0+")|"+D7+R7,"g");function $7(t){return t.match(M7)||[]}var L7=$7,V7=E7,F7=MC,U7=L7;function B7(t){return F7(t)?U7(t):V7(t)}var z7=B7,q7=h7,W7=MC,H7=z7,K7=jC;function G7(t){return function(e){e=K7(e);var n=W7(e)?H7(e):void 0,r=n?n[0]:e.charAt(0),i=n?q7(n,1).join(""):e.slice(1);return r[t]()+i}}var Q7=G7,X7=Q7,Y7=X7("toUpperCase"),J7=Y7;const Cm=Je(J7);function nt(t){return function(){return t}}const zC=Math.cos,$h=Math.sin,jr=Math.sqrt,Lh=Math.PI,km=2*Lh,h0=Math.PI,p0=2*h0,Ws=1e-6,Z7=p0-Ws;function qC(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function eq(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return qC;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class tq{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?qC:eq(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,l=r-e,c=i-n,f=a-e,h=o-n,p=f*f+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(p>Ws)if(!(Math.abs(h*l-c*f)>Ws)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-a,g=i-o,w=l*l+c*c,_=m*m+g*g,b=Math.sqrt(w),v=Math.sqrt(p),x=s*Math.tan((h0-Math.acos((w+p-_)/(2*b*v)))/2),P=x/v,A=x/b;Math.abs(P-1)>Ws&&this._append`L${e+P*f},${n+P*h}`,this._append`A${s},${s},0,0,${+(h*m>f*g)},${this._x1=e+A*l},${this._y1=n+A*c}`}}arc(e,n,r,i,s,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),c=e+o,f=n+l,h=1^a,p=a?i-s:s-i;this._x1===null?this._append`M${c},${f}`:(Math.abs(this._x1-c)>Ws||Math.abs(this._y1-f)>Ws)&&this._append`L${c},${f}`,r&&(p<0&&(p=p%p0+p0),p>Z7?this._append`A${r},${r},0,1,${h},${e-o},${n-l}A${r},${r},0,1,${h},${this._x1=c},${this._y1=f}`:p>Ws&&this._append`A${r},${r},0,${+(p>=h0)},${h},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function kw(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new tq(e)}function Rw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function WC(t){this._context=t}WC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Rm(t){return new WC(t)}function HC(t){return t[0]}function KC(t){return t[1]}function GC(t,e){var n=nt(!0),r=null,i=Rm,s=null,a=kw(o);t=typeof t=="function"?t:t===void 0?HC:nt(t),e=typeof e=="function"?e:e===void 0?KC:nt(e);function o(l){var c,f=(l=Rw(l)).length,h,p=!1,m;for(r==null&&(s=i(m=a())),c=0;c<=f;++c)!(c<f&&n(h=l[c],c,l))===p&&((p=!p)?s.lineStart():s.lineEnd()),p&&s.point(+t(h,c,l),+e(h,c,l));if(m)return s=null,m+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:nt(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:nt(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:nt(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),o):r},o}function rf(t,e,n){var r=null,i=nt(!0),s=null,a=Rm,o=null,l=kw(c);t=typeof t=="function"?t:t===void 0?HC:nt(+t),e=typeof e=="function"?e:nt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?KC:nt(+n);function c(h){var p,m,g,w=(h=Rw(h)).length,_,b=!1,v,x=new Array(w),P=new Array(w);for(s==null&&(o=a(v=l())),p=0;p<=w;++p){if(!(p<w&&i(_=h[p],p,h))===b)if(b=!b)m=p,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=p-1;g>=m;--g)o.point(x[g],P[g]);o.lineEnd(),o.areaEnd()}b&&(x[p]=+t(_,p,h),P[p]=+e(_,p,h),o.point(r?+r(_,p,h):x[p],n?+n(_,p,h):P[p]))}if(v)return o=null,v+""||null}function f(){return GC().defined(i).curve(a).context(s)}return c.x=function(h){return arguments.length?(t=typeof h=="function"?h:nt(+h),r=null,c):t},c.x0=function(h){return arguments.length?(t=typeof h=="function"?h:nt(+h),c):t},c.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:nt(+h),c):r},c.y=function(h){return arguments.length?(e=typeof h=="function"?h:nt(+h),n=null,c):e},c.y0=function(h){return arguments.length?(e=typeof h=="function"?h:nt(+h),c):e},c.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:nt(+h),c):n},c.lineX0=c.lineY0=function(){return f().x(t).y(e)},c.lineY1=function(){return f().x(t).y(n)},c.lineX1=function(){return f().x(r).y(e)},c.defined=function(h){return arguments.length?(i=typeof h=="function"?h:nt(!!h),c):i},c.curve=function(h){return arguments.length?(a=h,s!=null&&(o=a(s)),c):a},c.context=function(h){return arguments.length?(h==null?s=o=null:o=a(s=h),c):s},c}class QC{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function nq(t){return new QC(t,!0)}function rq(t){return new QC(t,!1)}const Dw={draw(t,e){const n=jr(e/Lh);t.moveTo(n,0),t.arc(0,0,n,0,km)}},iq={draw(t,e){const n=jr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},XC=jr(1/3),sq=XC*2,aq={draw(t,e){const n=jr(e/sq),r=n*XC;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},oq={draw(t,e){const n=jr(e),r=-n/2;t.rect(r,r,n,n)}},lq=.8908130915292852,YC=$h(Lh/10)/$h(7*Lh/10),uq=$h(km/10)*YC,cq=-zC(km/10)*YC,dq={draw(t,e){const n=jr(e*lq),r=uq*n,i=cq*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const a=km*s/5,o=zC(a),l=$h(a);t.lineTo(l*n,-o*n),t.lineTo(o*r-l*i,l*r+o*i)}t.closePath()}},fy=jr(3),fq={draw(t,e){const n=-jr(e/(fy*3));t.moveTo(0,n*2),t.lineTo(-fy*n,-n),t.lineTo(fy*n,-n),t.closePath()}},Yn=-.5,Jn=jr(3)/2,m0=1/jr(12),hq=(m0/2+1)*3,pq={draw(t,e){const n=jr(e/hq),r=n/2,i=n*m0,s=r,a=n*m0+n,o=-s,l=a;t.moveTo(r,i),t.lineTo(s,a),t.lineTo(o,l),t.lineTo(Yn*r-Jn*i,Jn*r+Yn*i),t.lineTo(Yn*s-Jn*a,Jn*s+Yn*a),t.lineTo(Yn*o-Jn*l,Jn*o+Yn*l),t.lineTo(Yn*r+Jn*i,Yn*i-Jn*r),t.lineTo(Yn*s+Jn*a,Yn*a-Jn*s),t.lineTo(Yn*o+Jn*l,Yn*l-Jn*o),t.closePath()}};function mq(t,e){let n=null,r=kw(i);t=typeof t=="function"?t:nt(t||Dw),e=typeof e=="function"?e:nt(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:nt(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:nt(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function Vh(){}function Fh(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function JC(t){this._context=t}JC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Fh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Fh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function gq(t){return new JC(t)}function ZC(t){this._context=t}ZC.prototype={areaStart:Vh,areaEnd:Vh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Fh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function yq(t){return new ZC(t)}function ek(t){this._context=t}ek.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Fh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function vq(t){return new ek(t)}function tk(t){this._context=t}tk.prototype={areaStart:Vh,areaEnd:Vh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function xq(t){return new tk(t)}function pA(t){return t<0?-1:1}function mA(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),o=(s*i+a*r)/(r+i);return(pA(s)+pA(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function gA(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function hy(t,e,n){var r=t._x0,i=t._y0,s=t._x1,a=t._y1,o=(s-r)/3;t._context.bezierCurveTo(r+o,i+o*e,s-o,a-o*n,s,a)}function Uh(t){this._context=t}Uh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:hy(this,this._t0,gA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,hy(this,gA(this,n=mA(this,t,e)),n);break;default:hy(this,this._t0,n=mA(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function nk(t){this._context=new rk(t)}(nk.prototype=Object.create(Uh.prototype)).point=function(t,e){Uh.prototype.point.call(this,e,t)};function rk(t){this._context=t}rk.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function bq(t){return new Uh(t)}function wq(t){return new nk(t)}function ik(t){this._context=t}ik.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=yA(t),i=yA(e),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function yA(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),a=new Array(n);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function _q(t){return new ik(t)}function Dm(t,e){this._context=t,this._t=e}Dm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Sq(t){return new Dm(t,.5)}function Eq(t){return new Dm(t,0)}function Aq(t){return new Dm(t,1)}function Uo(t,e){if((a=t.length)>1)for(var n=1,r,i,s=t[e[0]],a,o=s.length;n<a;++n)for(i=s,s=t[e[n]],r=0;r<o;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function g0(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Tq(t,e){return t[e]}function Nq(t){const e=[];return e.key=t,e}function Iq(){var t=nt([]),e=g0,n=Uo,r=Tq;function i(s){var a=Array.from(t.apply(this,arguments),Nq),o,l=a.length,c=-1,f;for(const h of s)for(o=0,++c;o<l;++o)(a[o][c]=[0,+r(h,a[o].key,c,s)]).data=h;for(o=0,f=Rw(e(a));o<l;++o)a[f[o]].index=o;return n(a,f),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:nt(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:nt(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?g0:typeof s=="function"?s:nt(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??Uo,i):n},i}function Pq(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,a;i<s;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Uo(t,e)}}function jq(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var a=0,o=0;a<i;++a)o+=t[a][n][1]||0;r[n][1]+=r[n][0]=-o/2}Uo(t,e)}}function Oq(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,a;r<s;++r){for(var o=0,l=0,c=0;o<a;++o){for(var f=t[e[o]],h=f[r][1]||0,p=f[r-1][1]||0,m=(h-p)/2,g=0;g<o;++g){var w=t[e[g]],_=w[r][1]||0,b=w[r-1][1]||0;m+=_-b}l+=h,c+=m*h}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,Uo(t,e)}}function fc(t){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fc(t)}var Cq=["type","size","sizeType"];function y0(){return y0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y0.apply(this,arguments)}function vA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vA(Object(n),!0).forEach(function(r){kq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kq(t,e,n){return e=Rq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rq(t){var e=Dq(t,"string");return fc(e)=="symbol"?e:e+""}function Dq(t,e){if(fc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(fc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mq(t,e){if(t==null)return{};var n=$q(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $q(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var sk={symbolCircle:Dw,symbolCross:iq,symbolDiamond:aq,symbolSquare:oq,symbolStar:dq,symbolTriangle:fq,symbolWye:pq},Lq=Math.PI/180,Vq=function(e){var n="symbol".concat(Cm(e));return sk[n]||Dw},Fq=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Lq;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Uq=function(e,n){sk["symbol".concat(Cm(e))]=n},Mw=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,s=i===void 0?64:i,a=e.sizeType,o=a===void 0?"area":a,l=Mq(e,Cq),c=xA(xA({},l),{},{type:r,size:s,sizeType:o}),f=function(){var _=Vq(r),b=mq().type(_).size(Fq(s,o,r));return b()},h=c.className,p=c.cx,m=c.cy,g=Re(c,!0);return p===+p&&m===+m&&s===+s?W.createElement("path",y0({},g,{className:We("recharts-symbols",h),transform:"translate(".concat(p,", ").concat(m,")"),d:f()})):null};Mw.registerSymbol=Uq;function Bo(t){"@babel/helpers - typeof";return Bo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bo(t)}function v0(){return v0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v0.apply(this,arguments)}function bA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bA(Object(n),!0).forEach(function(r){hc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ok(r.key),r)}}function Wq(t,e,n){return e&&qq(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hq(t,e,n){return e=Bh(e),Kq(t,ak()?Reflect.construct(e,n||[],Bh(t).constructor):e.apply(t,n))}function Kq(t,e){if(e&&(Bo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gq(t)}function Gq(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ak(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ak=function(){return!!t})()}function Bh(t){return Bh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bh(t)}function Qq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x0(t,e)}function x0(t,e){return x0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},x0(t,e)}function hc(t,e,n){return e=ok(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ok(t){var e=Xq(t,"string");return Bo(e)=="symbol"?e:e+""}function Xq(t,e){if(Bo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Bo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zn=32,$w=function(t){function e(){return zq(this,e),Hq(this,e,arguments)}return Qq(e,t),Wq(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,s=Zn/2,a=Zn/6,o=Zn/3,l=r.inactive?i:r.color;if(r.type==="plainline")return W.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:Zn,y2:s,className:"recharts-legend-icon"});if(r.type==="line")return W.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(s,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(s,`
            H`).concat(Zn,"M").concat(2*o,",").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(s),className:"recharts-legend-icon"});if(r.type==="rect")return W.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Zn/8,"h").concat(Zn,"v").concat(Zn*3/4,"h").concat(-Zn,"z"),className:"recharts-legend-icon"});if(W.isValidElement(r.legendIcon)){var c=Bq({},r);return delete c.legendIcon,W.cloneElement(r.legendIcon,c)}return W.createElement(Mw,{fill:l,cx:s,cy:s,size:Zn,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,s=i.payload,a=i.iconSize,o=i.layout,l=i.formatter,c=i.inactiveColor,f={x:0,y:0,width:Zn,height:Zn},h={display:o==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(m,g){var w=m.formatter||l,_=We(hc(hc({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",m.inactive));if(m.type==="none")return null;var b=De(m.value)?null:m.value;bi(!De(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var v=m.inactive?c:m.color;return W.createElement("li",v0({className:_,style:h,key:"legend-item-".concat(g)},Om(r.props,m,g)),W.createElement(u0,{width:a,height:a,viewBox:f,style:p},r.renderIcon(m)),W.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},w?w(b,m,g):b))})}},{key:"render",value:function(){var r=this.props,i=r.payload,s=r.layout,a=r.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:s==="horizontal"?a:"left"};return W.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(L.PureComponent);hc($w,"displayName","Legend");hc($w,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Yq=ym;function Jq(){this.__data__=new Yq,this.size=0}var Zq=Jq;function eW(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var tW=eW;function nW(t){return this.__data__.get(t)}var rW=nW;function iW(t){return this.__data__.has(t)}var sW=iW,aW=ym,oW=Ew,lW=Aw,uW=200;function cW(t,e){var n=this.__data__;if(n instanceof aW){var r=n.__data__;if(!oW||r.length<uW-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new lW(r)}return n.set(t,e),this.size=n.size,this}var dW=cW,fW=ym,hW=Zq,pW=tW,mW=rW,gW=sW,yW=dW;function _l(t){var e=this.__data__=new fW(t);this.size=e.size}_l.prototype.clear=hW;_l.prototype.delete=pW;_l.prototype.get=mW;_l.prototype.has=gW;_l.prototype.set=yW;var lk=_l,vW="__lodash_hash_undefined__";function xW(t){return this.__data__.set(t,vW),this}var bW=xW;function wW(t){return this.__data__.has(t)}var _W=wW,SW=Aw,EW=bW,AW=_W;function zh(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new SW;++e<n;)this.add(t[e])}zh.prototype.add=zh.prototype.push=EW;zh.prototype.has=AW;var uk=zh;function TW(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var ck=TW;function NW(t,e){return t.has(e)}var dk=NW,IW=uk,PW=ck,jW=dk,OW=1,CW=2;function kW(t,e,n,r,i,s){var a=n&OW,o=t.length,l=e.length;if(o!=l&&!(a&&l>o))return!1;var c=s.get(t),f=s.get(e);if(c&&f)return c==e&&f==t;var h=-1,p=!0,m=n&CW?new IW:void 0;for(s.set(t,e),s.set(e,t);++h<o;){var g=t[h],w=e[h];if(r)var _=a?r(w,g,h,e,t,s):r(g,w,h,t,e,s);if(_!==void 0){if(_)continue;p=!1;break}if(m){if(!PW(e,function(b,v){if(!jW(m,v)&&(g===b||i(g,b,n,r,s)))return m.push(v)})){p=!1;break}}else if(!(g===w||i(g,w,n,r,s))){p=!1;break}}return s.delete(t),s.delete(e),p}var fk=kW,RW=ti,DW=RW.Uint8Array,MW=DW;function $W(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var LW=$W;function VW(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var Lw=VW,wA=ud,_A=MW,FW=Sw,UW=fk,BW=LW,zW=Lw,qW=1,WW=2,HW="[object Boolean]",KW="[object Date]",GW="[object Error]",QW="[object Map]",XW="[object Number]",YW="[object RegExp]",JW="[object Set]",ZW="[object String]",eH="[object Symbol]",tH="[object ArrayBuffer]",nH="[object DataView]",SA=wA?wA.prototype:void 0,py=SA?SA.valueOf:void 0;function rH(t,e,n,r,i,s,a){switch(n){case nH:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case tH:return!(t.byteLength!=e.byteLength||!s(new _A(t),new _A(e)));case HW:case KW:case XW:return FW(+t,+e);case GW:return t.name==e.name&&t.message==e.message;case YW:case ZW:return t==e+"";case QW:var o=BW;case JW:var l=r&qW;if(o||(o=zW),t.size!=e.size&&!l)return!1;var c=a.get(t);if(c)return c==e;r|=WW,a.set(t,e);var f=UW(o(t),o(e),r,i,s,a);return a.delete(t),f;case eH:if(py)return py.call(t)==py.call(e)}return!1}var iH=rH;function sH(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var hk=sH,aH=hk,oH=$n;function lH(t,e,n){var r=e(t);return oH(t)?r:aH(r,n(t))}var uH=lH;function cH(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var a=t[n];e(a,n,t)&&(s[i++]=a)}return s}var dH=cH;function fH(){return[]}var hH=fH,pH=dH,mH=hH,gH=Object.prototype,yH=gH.propertyIsEnumerable,EA=Object.getOwnPropertySymbols,vH=EA?function(t){return t==null?[]:(t=Object(t),pH(EA(t),function(e){return yH.call(t,e)}))}:mH,xH=vH;function bH(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var wH=bH,_H=Mi,SH=$i,EH="[object Arguments]";function AH(t){return SH(t)&&_H(t)==EH}var TH=AH,AA=TH,NH=$i,pk=Object.prototype,IH=pk.hasOwnProperty,PH=pk.propertyIsEnumerable,jH=AA(function(){return arguments}())?AA:function(t){return NH(t)&&IH.call(t,"callee")&&!PH.call(t,"callee")},Vw=jH,qh={exports:{}};function OH(){return!1}var CH=OH;qh.exports;(function(t,e){var n=ti,r=CH,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===i,o=a?n.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||r;t.exports=c})(qh,qh.exports);var mk=qh.exports,kH=9007199254740991,RH=/^(?:0|[1-9]\d*)$/;function DH(t,e){var n=typeof t;return e=e??kH,!!e&&(n=="number"||n!="symbol"&&RH.test(t))&&t>-1&&t%1==0&&t<e}var Fw=DH,MH=9007199254740991;function $H(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=MH}var Uw=$H,LH=Mi,VH=Uw,FH=$i,UH="[object Arguments]",BH="[object Array]",zH="[object Boolean]",qH="[object Date]",WH="[object Error]",HH="[object Function]",KH="[object Map]",GH="[object Number]",QH="[object Object]",XH="[object RegExp]",YH="[object Set]",JH="[object String]",ZH="[object WeakMap]",eK="[object ArrayBuffer]",tK="[object DataView]",nK="[object Float32Array]",rK="[object Float64Array]",iK="[object Int8Array]",sK="[object Int16Array]",aK="[object Int32Array]",oK="[object Uint8Array]",lK="[object Uint8ClampedArray]",uK="[object Uint16Array]",cK="[object Uint32Array]",ot={};ot[nK]=ot[rK]=ot[iK]=ot[sK]=ot[aK]=ot[oK]=ot[lK]=ot[uK]=ot[cK]=!0;ot[UH]=ot[BH]=ot[eK]=ot[zH]=ot[tK]=ot[qH]=ot[WH]=ot[HH]=ot[KH]=ot[GH]=ot[QH]=ot[XH]=ot[YH]=ot[JH]=ot[ZH]=!1;function dK(t){return FH(t)&&VH(t.length)&&!!ot[LH(t)]}var fK=dK;function hK(t){return function(e){return t(e)}}var gk=hK,Wh={exports:{}};Wh.exports;(function(t,e){var n=EC,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,a=s&&n.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=o})(Wh,Wh.exports);var pK=Wh.exports,mK=fK,gK=gk,TA=pK,NA=TA&&TA.isTypedArray,yK=NA?gK(NA):mK,yk=yK,vK=wH,xK=Vw,bK=$n,wK=mk,_K=Fw,SK=yk,EK=Object.prototype,AK=EK.hasOwnProperty;function TK(t,e){var n=bK(t),r=!n&&xK(t),i=!n&&!r&&wK(t),s=!n&&!r&&!i&&SK(t),a=n||r||i||s,o=a?vK(t.length,String):[],l=o.length;for(var c in t)(e||AK.call(t,c))&&!(a&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||_K(c,l)))&&o.push(c);return o}var NK=TK,IK=Object.prototype;function PK(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||IK;return t===n}var jK=PK;function OK(t,e){return function(n){return t(e(n))}}var vk=OK,CK=vk,kK=CK(Object.keys,Object),RK=kK,DK=jK,MK=RK,$K=Object.prototype,LK=$K.hasOwnProperty;function VK(t){if(!DK(t))return MK(t);var e=[];for(var n in Object(t))LK.call(t,n)&&n!="constructor"&&e.push(n);return e}var FK=VK,UK=_w,BK=Uw;function zK(t){return t!=null&&BK(t.length)&&!UK(t)}var Mm=zK,qK=NK,WK=FK,HK=Mm;function KK(t){return HK(t)?qK(t):WK(t)}var Bw=KK,GK=uH,QK=xH,XK=Bw;function YK(t){return GK(t,XK,QK)}var JK=YK,IA=JK,ZK=1,eG=Object.prototype,tG=eG.hasOwnProperty;function nG(t,e,n,r,i,s){var a=n&ZK,o=IA(t),l=o.length,c=IA(e),f=c.length;if(l!=f&&!a)return!1;for(var h=l;h--;){var p=o[h];if(!(a?p in e:tG.call(e,p)))return!1}var m=s.get(t),g=s.get(e);if(m&&g)return m==e&&g==t;var w=!0;s.set(t,e),s.set(e,t);for(var _=a;++h<l;){p=o[h];var b=t[p],v=e[p];if(r)var x=a?r(v,b,p,e,t,s):r(b,v,p,t,e,s);if(!(x===void 0?b===v||i(b,v,n,r,s):x)){w=!1;break}_||(_=p=="constructor")}if(w&&!_){var P=t.constructor,A=e.constructor;P!=A&&"constructor"in t&&"constructor"in e&&!(typeof P=="function"&&P instanceof P&&typeof A=="function"&&A instanceof A)&&(w=!1)}return s.delete(t),s.delete(e),w}var rG=nG,iG=ja,sG=ti,aG=iG(sG,"DataView"),oG=aG,lG=ja,uG=ti,cG=lG(uG,"Promise"),dG=cG,fG=ja,hG=ti,pG=fG(hG,"Set"),xk=pG,mG=ja,gG=ti,yG=mG(gG,"WeakMap"),vG=yG,b0=oG,w0=Ew,_0=dG,S0=xk,E0=vG,bk=Mi,Sl=TC,PA="[object Map]",xG="[object Object]",jA="[object Promise]",OA="[object Set]",CA="[object WeakMap]",kA="[object DataView]",bG=Sl(b0),wG=Sl(w0),_G=Sl(_0),SG=Sl(S0),EG=Sl(E0),Hs=bk;(b0&&Hs(new b0(new ArrayBuffer(1)))!=kA||w0&&Hs(new w0)!=PA||_0&&Hs(_0.resolve())!=jA||S0&&Hs(new S0)!=OA||E0&&Hs(new E0)!=CA)&&(Hs=function(t){var e=bk(t),n=e==xG?t.constructor:void 0,r=n?Sl(n):"";if(r)switch(r){case bG:return kA;case wG:return PA;case _G:return jA;case SG:return OA;case EG:return CA}return e});var AG=Hs,my=lk,TG=fk,NG=iH,IG=rG,RA=AG,DA=$n,MA=mk,PG=yk,jG=1,$A="[object Arguments]",LA="[object Array]",sf="[object Object]",OG=Object.prototype,VA=OG.hasOwnProperty;function CG(t,e,n,r,i,s){var a=DA(t),o=DA(e),l=a?LA:RA(t),c=o?LA:RA(e);l=l==$A?sf:l,c=c==$A?sf:c;var f=l==sf,h=c==sf,p=l==c;if(p&&MA(t)){if(!MA(e))return!1;a=!0,f=!1}if(p&&!f)return s||(s=new my),a||PG(t)?TG(t,e,n,r,i,s):NG(t,e,l,n,r,i,s);if(!(n&jG)){var m=f&&VA.call(t,"__wrapped__"),g=h&&VA.call(e,"__wrapped__");if(m||g){var w=m?t.value():t,_=g?e.value():e;return s||(s=new my),i(w,_,n,r,s)}}return p?(s||(s=new my),IG(t,e,n,r,i,s)):!1}var kG=CG,RG=kG,FA=$i;function wk(t,e,n,r,i){return t===e?!0:t==null||e==null||!FA(t)&&!FA(e)?t!==t&&e!==e:RG(t,e,n,r,wk,i)}var zw=wk,DG=lk,MG=zw,$G=1,LG=2;function VG(t,e,n,r){var i=n.length,s=i,a=!r;if(t==null)return!s;for(t=Object(t);i--;){var o=n[i];if(a&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<s;){o=n[i];var l=o[0],c=t[l],f=o[1];if(a&&o[2]){if(c===void 0&&!(l in t))return!1}else{var h=new DG;if(r)var p=r(c,f,l,t,e,h);if(!(p===void 0?MG(f,c,$G|LG,r,h):p))return!1}}return!0}var FG=VG,UG=js;function BG(t){return t===t&&!UG(t)}var _k=BG,zG=_k,qG=Bw;function WG(t){for(var e=qG(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,zG(i)]}return e}var HG=WG;function KG(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var Sk=KG,GG=FG,QG=HG,XG=Sk;function YG(t){var e=QG(t);return e.length==1&&e[0][2]?XG(e[0][0],e[0][1]):function(n){return n===t||GG(n,t,e)}}var JG=YG;function ZG(t,e){return t!=null&&e in Object(t)}var eQ=ZG,tQ=OC,nQ=Vw,rQ=$n,iQ=Fw,sQ=Uw,aQ=xm;function oQ(t,e,n){e=tQ(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var a=aQ(e[r]);if(!(s=t!=null&&n(t,a)))break;t=t[a]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&sQ(i)&&iQ(a,i)&&(rQ(t)||nQ(t)))}var lQ=oQ,uQ=eQ,cQ=lQ;function dQ(t,e){return t!=null&&cQ(t,e,uQ)}var fQ=dQ,hQ=zw,pQ=CC,mQ=fQ,gQ=ww,yQ=_k,vQ=Sk,xQ=xm,bQ=1,wQ=2;function _Q(t,e){return gQ(t)&&yQ(e)?vQ(xQ(t),e):function(n){var r=pQ(n,t);return r===void 0&&r===e?mQ(n,t):hQ(e,r,bQ|wQ)}}var SQ=_Q;function EQ(t){return t}var El=EQ;function AQ(t){return function(e){return e==null?void 0:e[t]}}var TQ=AQ,NQ=Iw;function IQ(t){return function(e){return NQ(e,t)}}var PQ=IQ,jQ=TQ,OQ=PQ,CQ=ww,kQ=xm;function RQ(t){return CQ(t)?jQ(kQ(t)):OQ(t)}var DQ=RQ,MQ=JG,$Q=SQ,LQ=El,VQ=$n,FQ=DQ;function UQ(t){return typeof t=="function"?t:t==null?LQ:typeof t=="object"?VQ(t)?$Q(t[0],t[1]):MQ(t):FQ(t)}var Os=UQ;function BQ(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}var zQ=BQ;function qQ(t){return t!==t}var WQ=qQ;function HQ(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var KQ=HQ,GQ=zQ,QQ=WQ,XQ=KQ;function YQ(t,e,n){return e===e?XQ(t,e,n):GQ(t,QQ,n)}var JQ=YQ,ZQ=JQ;function eX(t,e){var n=t==null?0:t.length;return!!n&&ZQ(t,e,0)>-1}var tX=eX;function nX(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var rX=nX;function iX(){}var sX=iX,gy=xk,aX=sX,oX=Lw,lX=1/0,uX=gy&&1/oX(new gy([,-0]))[1]==lX?function(t){return new gy(t)}:aX,cX=uX,dX=uk,fX=tX,hX=rX,pX=dk,mX=cX,gX=Lw,yX=200;function vX(t,e,n){var r=-1,i=fX,s=t.length,a=!0,o=[],l=o;if(n)a=!1,i=hX;else if(s>=yX){var c=e?null:mX(t);if(c)return gX(c);a=!1,i=pX,l=new dX}else l=e?[]:o;e:for(;++r<s;){var f=t[r],h=e?e(f):f;if(f=n||f!==0?f:0,a&&h===h){for(var p=l.length;p--;)if(l[p]===h)continue e;e&&l.push(h),o.push(f)}else i(l,h,n)||(l!==o&&l.push(h),o.push(f))}return o}var xX=vX,bX=Os,wX=xX;function _X(t,e){return t&&t.length?wX(t,bX(e)):[]}var SX=_X;const UA=Je(SX);function Ek(t,e,n){return e===!0?UA(t,n):De(e)?UA(t,e):t}function zo(t){"@babel/helpers - typeof";return zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zo(t)}var EX=["ref"];function BA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ii(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BA(Object(n),!0).forEach(function(r){$m(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Tk(r.key),r)}}function TX(t,e,n){return e&&zA(t.prototype,e),n&&zA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function NX(t,e,n){return e=Hh(e),IX(t,Ak()?Reflect.construct(e,n||[],Hh(t).constructor):e.apply(t,n))}function IX(t,e){if(e&&(zo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PX(t)}function PX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ak(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ak=function(){return!!t})()}function Hh(t){return Hh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hh(t)}function jX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A0(t,e)}function A0(t,e){return A0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},A0(t,e)}function $m(t,e,n){return e=Tk(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tk(t){var e=OX(t,"string");return zo(e)=="symbol"?e:e+""}function OX(t,e){if(zo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CX(t,e){if(t==null)return{};var n=kX(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function RX(t){return t.value}function DX(t,e){if(W.isValidElement(t))return W.cloneElement(t,e);if(typeof t=="function")return W.createElement(t,e);e.ref;var n=CX(e,EX);return W.createElement($w,n)}var qA=1,oa=function(t){function e(){var n;AX(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=NX(this,e,[].concat(i)),$m(n,"lastBoundingBox",{width:-1,height:-1}),n}return jX(e,t),TX(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>qA||Math.abs(i.height-this.lastBoundingBox.height)>qA)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ii({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,s=i.layout,a=i.align,o=i.verticalAlign,l=i.margin,c=i.chartWidth,f=i.chartHeight,h,p;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&s==="vertical"){var m=this.getBBoxSnapshot();h={left:((c||0)-m.width)/2}}else h=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(o==="middle"){var g=this.getBBoxSnapshot();p={top:((f||0)-g.height)/2}}else p=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return ii(ii({},h),p)}},{key:"render",value:function(){var r=this,i=this.props,s=i.content,a=i.width,o=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,f=i.payload,h=ii(ii({position:"absolute",width:a||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return W.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(m){r.wrapperNode=m}},DX(s,ii(ii({},this.props),{},{payload:Ek(f,c,RX)})))}}],[{key:"getWithHeight",value:function(r,i){var s=ii(ii({},this.defaultProps),r.props),a=s.layout;return a==="vertical"&&he(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(L.PureComponent);$m(oa,"displayName","Legend");$m(oa,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var WA=ud,MX=Vw,$X=$n,HA=WA?WA.isConcatSpreadable:void 0;function LX(t){return $X(t)||MX(t)||!!(HA&&t&&t[HA])}var VX=LX,FX=hk,UX=VX;function Nk(t,e,n,r,i){var s=-1,a=t.length;for(n||(n=UX),i||(i=[]);++s<a;){var o=t[s];e>0&&n(o)?e>1?Nk(o,e-1,n,r,i):FX(i,o):r||(i[i.length]=o)}return i}var Ik=Nk;function BX(t){return function(e,n,r){for(var i=-1,s=Object(e),a=r(e),o=a.length;o--;){var l=a[t?o:++i];if(n(s[l],l,s)===!1)break}return e}}var zX=BX,qX=zX,WX=qX(),HX=WX,KX=HX,GX=Bw;function QX(t,e){return t&&KX(t,e,GX)}var Pk=QX,XX=Mm;function YX(t,e){return function(n,r){if(n==null)return n;if(!XX(n))return t(n,r);for(var i=n.length,s=e?i:-1,a=Object(n);(e?s--:++s<i)&&r(a[s],s,a)!==!1;);return n}}var JX=YX,ZX=Pk,eY=JX,tY=eY(ZX),qw=tY,nY=qw,rY=Mm;function iY(t,e){var n=-1,r=rY(t)?Array(t.length):[];return nY(t,function(i,s,a){r[++n]=e(i,s,a)}),r}var jk=iY;function sY(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var aY=sY,KA=yl;function oY(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,s=KA(t),a=e!==void 0,o=e===null,l=e===e,c=KA(e);if(!o&&!c&&!s&&t>e||s&&a&&l&&!o&&!c||r&&a&&l||!n&&l||!i)return 1;if(!r&&!s&&!c&&t<e||c&&n&&i&&!r&&!s||o&&n&&i||!a&&i||!l)return-1}return 0}var lY=oY,uY=lY;function cY(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,a=i.length,o=n.length;++r<a;){var l=uY(i[r],s[r]);if(l){if(r>=o)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}var dY=cY,yy=Nw,fY=Iw,hY=Os,pY=jk,mY=aY,gY=gk,yY=dY,vY=El,xY=$n;function bY(t,e,n){e.length?e=yy(e,function(s){return xY(s)?function(a){return fY(a,s.length===1?s[0]:s)}:s}):e=[vY];var r=-1;e=yy(e,gY(hY));var i=pY(t,function(s,a,o){var l=yy(e,function(c){return c(s)});return{criteria:l,index:++r,value:s}});return mY(i,function(s,a){return yY(s,a,n)})}var wY=bY;function _Y(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var SY=_Y,EY=SY,GA=Math.max;function AY(t,e,n){return e=GA(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=GA(r.length-e,0),a=Array(s);++i<s;)a[i]=r[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=r[i];return o[e]=n(a),EY(t,this,o)}}var TY=AY;function NY(t){return function(){return t}}var IY=NY,PY=ja,jY=function(){try{var t=PY(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Ok=jY,OY=IY,QA=Ok,CY=El,kY=QA?function(t,e){return QA(t,"toString",{configurable:!0,enumerable:!1,value:OY(e),writable:!0})}:CY,RY=kY,DY=800,MY=16,$Y=Date.now;function LY(t){var e=0,n=0;return function(){var r=$Y(),i=MY-(r-n);if(n=r,i>0){if(++e>=DY)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var VY=LY,FY=RY,UY=VY,BY=UY(FY),zY=BY,qY=El,WY=TY,HY=zY;function KY(t,e){return HY(WY(t,e,qY),t+"")}var GY=KY,QY=Sw,XY=Mm,YY=Fw,JY=js;function ZY(t,e,n){if(!JY(n))return!1;var r=typeof e;return(r=="number"?XY(n)&&YY(e,n.length):r=="string"&&e in n)?QY(n[e],t):!1}var Lm=ZY,eJ=Ik,tJ=wY,nJ=GY,XA=Lm,rJ=nJ(function(t,e){if(t==null)return[];var n=e.length;return n>1&&XA(t,e[0],e[1])?e=[]:n>2&&XA(e[0],e[1],e[2])&&(e=[e[0]]),tJ(t,eJ(e,1),[])}),iJ=rJ;const Ww=Je(iJ);function pc(t){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pc(t)}function T0(){return T0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},T0.apply(this,arguments)}function sJ(t,e){return uJ(t)||lJ(t,e)||oJ(t,e)||aJ()}function aJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oJ(t,e){if(t){if(typeof t=="string")return YA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YA(t,e)}}function YA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function uJ(t){if(Array.isArray(t))return t}function JA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JA(Object(n),!0).forEach(function(r){cJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cJ(t,e,n){return e=dJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dJ(t){var e=fJ(t,"string");return pc(e)=="symbol"?e:e+""}function fJ(t,e){if(pc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hJ(t){return Array.isArray(t)&&Vt(t[0])&&Vt(t[1])?t.join(" ~ "):t}var pJ=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,s=i===void 0?{}:i,a=e.itemStyle,o=a===void 0?{}:a,l=e.labelStyle,c=l===void 0?{}:l,f=e.payload,h=e.formatter,p=e.itemSorter,m=e.wrapperClassName,g=e.labelClassName,w=e.label,_=e.labelFormatter,b=e.accessibilityLayer,v=b===void 0?!1:b,x=function(){if(f&&f.length){var j={padding:0,margin:0},O=(p?Ww(f,p):f).map(function(D,F){if(D.type==="none")return null;var K=vy({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},o),B=D.formatter||h||hJ,M=D.value,U=D.name,V=M,X=U;if(B&&V!=null&&X!=null){var $=B(M,U,D,F,f);if(Array.isArray($)){var G=sJ($,2);V=G[0],X=G[1]}else V=$}return W.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:K},Vt(X)?W.createElement("span",{className:"recharts-tooltip-item-name"},X):null,Vt(X)?W.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,W.createElement("span",{className:"recharts-tooltip-item-value"},V),W.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return W.createElement("ul",{className:"recharts-tooltip-item-list",style:j},O)}return null},P=vy({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),A=vy({margin:0},c),N=!Fe(w),E=N?w:"",S=We("recharts-default-tooltip",m),I=We("recharts-tooltip-label",g);N&&_&&f!==void 0&&f!==null&&(E=_(w,f));var C=v?{role:"status","aria-live":"assertive"}:{};return W.createElement("div",T0({className:S,style:P},C),W.createElement("p",{className:I,style:A},W.isValidElement(E)?E:"".concat(E)),x())};function mc(t){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mc(t)}function af(t,e,n){return e=mJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mJ(t){var e=gJ(t,"string");return mc(e)=="symbol"?e:e+""}function gJ(t,e){if(mc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(mc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jl="recharts-tooltip-wrapper",yJ={visibility:"hidden"};function vJ(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return We(Jl,af(af(af(af({},"".concat(Jl,"-right"),he(n)&&e&&he(e.x)&&n>=e.x),"".concat(Jl,"-left"),he(n)&&e&&he(e.x)&&n<e.x),"".concat(Jl,"-bottom"),he(r)&&e&&he(e.y)&&r>=e.y),"".concat(Jl,"-top"),he(r)&&e&&he(e.y)&&r<e.y))}function ZA(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,s=t.position,a=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(s&&he(s[r]))return s[r];var f=n[r]-o-i,h=n[r]+i;if(e[r])return a[r]?f:h;if(a[r]){var p=f,m=l[r];return p<m?Math.max(h,l[r]):Math.max(f,l[r])}var g=h+o,w=l[r]+c;return g>w?Math.max(f,l[r]):Math.max(h,l[r])}function xJ(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function bJ(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,s=t.reverseDirection,a=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,c,f,h;return a.height>0&&a.width>0&&n?(f=ZA({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),h=ZA({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),c=xJ({translateX:f,translateY:h,useTranslate3d:o})):c=yJ,{cssProperties:c,cssClasses:vJ({translateX:f,translateY:h,coordinate:n})}}function qo(t){"@babel/helpers - typeof";return qo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qo(t)}function eT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eT(Object(n),!0).forEach(function(r){I0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _J(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kk(r.key),r)}}function SJ(t,e,n){return e&&_J(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function EJ(t,e,n){return e=Kh(e),AJ(t,Ck()?Reflect.construct(e,n||[],Kh(t).constructor):e.apply(t,n))}function AJ(t,e){if(e&&(qo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TJ(t)}function TJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ck(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ck=function(){return!!t})()}function Kh(t){return Kh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kh(t)}function NJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N0(t,e)}function N0(t,e){return N0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},N0(t,e)}function I0(t,e,n){return e=kk(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kk(t){var e=IJ(t,"string");return qo(e)=="symbol"?e:e+""}function IJ(t,e){if(qo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(qo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nT=1,PJ=function(t){function e(){var n;wJ(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=EJ(this,e,[].concat(i)),I0(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),I0(n,"handleKeyDown",function(a){if(a.key==="Escape"){var o,l,c,f;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(f=n.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&c!==void 0?c:0}})}}),n}return NJ(e,t),SJ(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>nT||Math.abs(r.height-this.state.lastBoundingBox.height)>nT)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.children,f=i.coordinate,h=i.hasPayload,p=i.isAnimationActive,m=i.offset,g=i.position,w=i.reverseDirection,_=i.useTranslate3d,b=i.viewBox,v=i.wrapperStyle,x=bJ({allowEscapeViewBox:a,coordinate:f,offsetTopLeft:m,position:g,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:_,viewBox:b}),P=x.cssClasses,A=x.cssProperties,N=tT(tT({transition:p&&s?"transform ".concat(o,"ms ").concat(l):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&h?"visible":"hidden",position:"absolute",top:0,left:0},v);return W.createElement("div",{tabIndex:-1,className:P,style:N,ref:function(S){r.wrapperNode=S}},c)}}])}(L.PureComponent),jJ=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},la={isSsr:jJ(),get:function(e){return la[e]},set:function(e,n){if(typeof e=="string")la[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){la[i]=e[i]})}}};function Wo(t){"@babel/helpers - typeof";return Wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wo(t)}function rT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rT(Object(n),!0).forEach(function(r){Hw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Dk(r.key),r)}}function kJ(t,e,n){return e&&CJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function RJ(t,e,n){return e=Gh(e),DJ(t,Rk()?Reflect.construct(e,n||[],Gh(t).constructor):e.apply(t,n))}function DJ(t,e){if(e&&(Wo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MJ(t)}function MJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Rk=function(){return!!t})()}function Gh(t){return Gh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gh(t)}function $J(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P0(t,e)}function P0(t,e){return P0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},P0(t,e)}function Hw(t,e,n){return e=Dk(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dk(t){var e=LJ(t,"string");return Wo(e)=="symbol"?e:e+""}function LJ(t,e){if(Wo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Wo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VJ(t){return t.dataKey}function FJ(t,e){return W.isValidElement(t)?W.cloneElement(t,e):typeof t=="function"?W.createElement(t,e):W.createElement(pJ,e)}var Rr=function(t){function e(){return OJ(this,e),RJ(this,e,arguments)}return $J(e,t),kJ(e,[{key:"render",value:function(){var r=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.content,f=i.coordinate,h=i.filterNull,p=i.isAnimationActive,m=i.offset,g=i.payload,w=i.payloadUniqBy,_=i.position,b=i.reverseDirection,v=i.useTranslate3d,x=i.viewBox,P=i.wrapperStyle,A=g??[];h&&A.length&&(A=Ek(g.filter(function(E){return E.value!=null&&(E.hide!==!0||r.props.includeHidden)}),w,VJ));var N=A.length>0;return W.createElement(PJ,{allowEscapeViewBox:a,animationDuration:o,animationEasing:l,isAnimationActive:p,active:s,coordinate:f,hasPayload:N,offset:m,position:_,reverseDirection:b,useTranslate3d:v,viewBox:x,wrapperStyle:P},FJ(c,iT(iT({},this.props),{},{payload:A})))}}])}(L.PureComponent);Hw(Rr,"displayName","Tooltip");Hw(Rr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!la.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var UJ=ti,BJ=function(){return UJ.Date.now()},zJ=BJ,qJ=/\s/;function WJ(t){for(var e=t.length;e--&&qJ.test(t.charAt(e)););return e}var HJ=WJ,KJ=HJ,GJ=/^\s+/;function QJ(t){return t&&t.slice(0,KJ(t)+1).replace(GJ,"")}var XJ=QJ,YJ=XJ,sT=js,JJ=yl,aT=NaN,ZJ=/^[-+]0x[0-9a-f]+$/i,eZ=/^0b[01]+$/i,tZ=/^0o[0-7]+$/i,nZ=parseInt;function rZ(t){if(typeof t=="number")return t;if(JJ(t))return aT;if(sT(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=sT(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=YJ(t);var n=eZ.test(t);return n||tZ.test(t)?nZ(t.slice(2),n?2:8):ZJ.test(t)?aT:+t}var Mk=rZ,iZ=js,xy=zJ,oT=Mk,sZ="Expected a function",aZ=Math.max,oZ=Math.min;function lZ(t,e,n){var r,i,s,a,o,l,c=0,f=!1,h=!1,p=!0;if(typeof t!="function")throw new TypeError(sZ);e=oT(e)||0,iZ(n)&&(f=!!n.leading,h="maxWait"in n,s=h?aZ(oT(n.maxWait)||0,e):s,p="trailing"in n?!!n.trailing:p);function m(N){var E=r,S=i;return r=i=void 0,c=N,a=t.apply(S,E),a}function g(N){return c=N,o=setTimeout(b,e),f?m(N):a}function w(N){var E=N-l,S=N-c,I=e-E;return h?oZ(I,s-S):I}function _(N){var E=N-l,S=N-c;return l===void 0||E>=e||E<0||h&&S>=s}function b(){var N=xy();if(_(N))return v(N);o=setTimeout(b,w(N))}function v(N){return o=void 0,p&&r?m(N):(r=i=void 0,a)}function x(){o!==void 0&&clearTimeout(o),c=0,r=l=i=o=void 0}function P(){return o===void 0?a:v(xy())}function A(){var N=xy(),E=_(N);if(r=arguments,i=this,l=N,E){if(o===void 0)return g(l);if(h)return clearTimeout(o),o=setTimeout(b,e),m(l)}return o===void 0&&(o=setTimeout(b,e)),a}return A.cancel=x,A.flush=P,A}var uZ=lZ,cZ=uZ,dZ=js,fZ="Expected a function";function hZ(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(fZ);return dZ(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),cZ(t,e,{leading:r,maxWait:e,trailing:i})}var pZ=hZ;const $k=Je(pZ);function gc(t){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gc(t)}function lT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function of(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lT(Object(n),!0).forEach(function(r){mZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mZ(t,e,n){return e=gZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gZ(t){var e=yZ(t,"string");return gc(e)=="symbol"?e:e+""}function yZ(t,e){if(gc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vZ(t,e){return _Z(t)||wZ(t,e)||bZ(t,e)||xZ()}function xZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bZ(t,e){if(t){if(typeof t=="string")return uT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uT(t,e)}}function uT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function _Z(t){if(Array.isArray(t))return t}var SZ=L.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,s=t.width,a=s===void 0?"100%":s,o=t.height,l=o===void 0?"100%":o,c=t.minWidth,f=c===void 0?0:c,h=t.minHeight,p=t.maxHeight,m=t.children,g=t.debounce,w=g===void 0?0:g,_=t.id,b=t.className,v=t.onResize,x=t.style,P=x===void 0?{}:x,A=L.useRef(null),N=L.useRef();N.current=v,L.useImperativeHandle(e,function(){return Object.defineProperty(A.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),A.current},configurable:!0})});var E=L.useState({containerWidth:i.width,containerHeight:i.height}),S=vZ(E,2),I=S[0],C=S[1],k=L.useCallback(function(O,D){C(function(F){var K=Math.round(O),B=Math.round(D);return F.containerWidth===K&&F.containerHeight===B?F:{containerWidth:K,containerHeight:B}})},[]);L.useEffect(function(){var O=function(U){var V,X=U[0].contentRect,$=X.width,G=X.height;k($,G),(V=N.current)===null||V===void 0||V.call(N,$,G)};w>0&&(O=$k(O,w,{trailing:!0,leading:!1}));var D=new ResizeObserver(O),F=A.current.getBoundingClientRect(),K=F.width,B=F.height;return k(K,B),D.observe(A.current),function(){D.disconnect()}},[k,w]);var j=L.useMemo(function(){var O=I.containerWidth,D=I.containerHeight;if(O<0||D<0)return null;bi(ea(a)||ea(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),bi(!n||n>0,"The aspect(%s) must be greater than zero.",n);var F=ea(a)?O:a,K=ea(l)?D:l;n&&n>0&&(F?K=F/n:K&&(F=K*n),p&&K>p&&(K=p)),bi(F>0||K>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,K,a,l,f,h,n);var B=!Array.isArray(m)&&xi(m.type).endsWith("Chart");return W.Children.map(m,function(M){return W.isValidElement(M)?L.cloneElement(M,of({width:F,height:K},B?{style:of({height:"100%",width:"100%",maxHeight:K,maxWidth:F},M.props.style)}:{})):M})},[n,m,l,p,h,f,I,a]);return W.createElement("div",{id:_?"".concat(_):void 0,className:We("recharts-responsive-container",b),style:of(of({},P),{},{width:a,height:l,minWidth:f,minHeight:h,maxHeight:p}),ref:A},j)}),Kw=function(e){return null};Kw.displayName="Cell";function yc(t){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yc(t)}function cT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function j0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cT(Object(n),!0).forEach(function(r){EZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EZ(t,e,n){return e=AZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AZ(t){var e=TZ(t,"string");return yc(e)=="symbol"?e:e+""}function TZ(t,e){if(yc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fa={widthCache:{},cacheCount:0},NZ=2e3,IZ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},dT="recharts_measurement_span";function PZ(t){var e=j0({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var fT=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||la.isSsr)return{width:0,height:0};var r=PZ(n),i=JSON.stringify({text:e,copyStyle:r});if(Fa.widthCache[i])return Fa.widthCache[i];try{var s=document.getElementById(dT);s||(s=document.createElement("span"),s.setAttribute("id",dT),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var a=j0(j0({},IZ),r);Object.assign(s.style,a),s.textContent="".concat(e);var o=s.getBoundingClientRect(),l={width:o.width,height:o.height};return Fa.widthCache[i]=l,++Fa.cacheCount>NZ&&(Fa.cacheCount=0,Fa.widthCache={}),l}catch{return{width:0,height:0}}},jZ=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function vc(t){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vc(t)}function Qh(t,e){return RZ(t)||kZ(t,e)||CZ(t,e)||OZ()}function OZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CZ(t,e){if(t){if(typeof t=="string")return hT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hT(t,e)}}function hT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function RZ(t){if(Array.isArray(t))return t}function DZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$Z(r.key),r)}}function MZ(t,e,n){return e&&pT(t.prototype,e),n&&pT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function $Z(t){var e=LZ(t,"string");return vc(e)=="symbol"?e:e+""}function LZ(t,e){if(vc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,gT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,VZ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,FZ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Lk={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},UZ=Object.keys(Lk),lo="NaN";function BZ(t,e){return t*Lk[e]}var lf=function(){function t(e,n){DZ(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!VZ.test(n)&&(this.num=NaN,this.unit=""),UZ.includes(n)&&(this.num=BZ(e,n),this.unit="px")}return MZ(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=FZ.exec(n))!==null&&r!==void 0?r:[],s=Qh(i,3),a=s[1],o=s[2];return new t(parseFloat(a),o??"")}}])}();function Vk(t){if(t.includes(lo))return lo;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=mT.exec(e))!==null&&n!==void 0?n:[],i=Qh(r,4),s=i[1],a=i[2],o=i[3],l=lf.parse(s??""),c=lf.parse(o??""),f=a==="*"?l.multiply(c):l.divide(c);if(f.isNaN())return lo;e=e.replace(mT,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,p=(h=gT.exec(e))!==null&&h!==void 0?h:[],m=Qh(p,4),g=m[1],w=m[2],_=m[3],b=lf.parse(g??""),v=lf.parse(_??""),x=w==="+"?b.add(v):b.subtract(v);if(x.isNaN())return lo;e=e.replace(gT,x.toString())}return e}var yT=/\(([^()]*)\)/;function zZ(t){for(var e=t;e.includes("(");){var n=yT.exec(e),r=Qh(n,2),i=r[1];e=e.replace(yT,Vk(i))}return e}function qZ(t){var e=t.replace(/\s+/g,"");return e=zZ(e),e=Vk(e),e}function WZ(t){try{return qZ(t)}catch{return lo}}function by(t){var e=WZ(t.slice(5,-1));return e===lo?"":e}var HZ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],KZ=["dx","dy","angle","className","breakAll"];function O0(){return O0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O0.apply(this,arguments)}function vT(t,e){if(t==null)return{};var n=GZ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function GZ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function xT(t,e){return JZ(t)||YZ(t,e)||XZ(t,e)||QZ()}function QZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XZ(t,e){if(t){if(typeof t=="string")return bT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bT(t,e)}}function bT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function YZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function JZ(t){if(Array.isArray(t))return t}var Fk=/[ \f\n\r\t\v\u2028\u2029]+/,Uk=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var s=[];Fe(n)||(r?s=n.toString().split(""):s=n.toString().split(Fk));var a=s.map(function(l){return{word:l,width:fT(l,i).width}}),o=r?0:fT("",i).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},ZZ=function(e,n,r,i,s){var a=e.maxLines,o=e.children,l=e.style,c=e.breakAll,f=he(a),h=o,p=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function(K,B){var M=B.word,U=B.width,V=K[K.length-1];if(V&&(i==null||s||V.width+U+r<Number(i)))V.words.push(M),V.width+=U+r;else{var X={words:[M],width:U};K.push(X)}return K},[])},m=p(n),g=function(F){return F.reduce(function(K,B){return K.width>B.width?K:B})};if(!f)return m;for(var w="",_=function(F){var K=h.slice(0,F),B=Uk({breakAll:c,style:l,children:K+w}).wordsWithComputedWidth,M=p(B),U=M.length>a||g(M).width>Number(i);return[U,M]},b=0,v=h.length-1,x=0,P;b<=v&&x<=h.length-1;){var A=Math.floor((b+v)/2),N=A-1,E=_(N),S=xT(E,2),I=S[0],C=S[1],k=_(A),j=xT(k,1),O=j[0];if(!I&&!O&&(b=A+1),I&&O&&(v=A-1),!I&&O){P=C;break}x++}return P||m},wT=function(e){var n=Fe(e)?[]:e.toString().split(Fk);return[{words:n}]},eee=function(e){var n=e.width,r=e.scaleToFit,i=e.children,s=e.style,a=e.breakAll,o=e.maxLines;if((n||r)&&!la.isSsr){var l,c,f=Uk({breakAll:a,children:i,style:s});if(f){var h=f.wordsWithComputedWidth,p=f.spaceWidth;l=h,c=p}else return wT(i);return ZZ({breakAll:a,children:i,maxLines:o,style:s},l,c,n,r)}return wT(i)},_T="#808080",Ho=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,a=e.lineHeight,o=a===void 0?"1em":a,l=e.capHeight,c=l===void 0?"0.71em":l,f=e.scaleToFit,h=f===void 0?!1:f,p=e.textAnchor,m=p===void 0?"start":p,g=e.verticalAnchor,w=g===void 0?"end":g,_=e.fill,b=_===void 0?_T:_,v=vT(e,HZ),x=L.useMemo(function(){return eee({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:h,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,h,v.style,v.width]),P=v.dx,A=v.dy,N=v.angle,E=v.className,S=v.breakAll,I=vT(v,KZ);if(!Vt(r)||!Vt(s))return null;var C=r+(he(P)?P:0),k=s+(he(A)?A:0),j;switch(w){case"start":j=by("calc(".concat(c,")"));break;case"middle":j=by("calc(".concat((x.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:j=by("calc(".concat(x.length-1," * -").concat(o,")"));break}var O=[];if(h){var D=x[0].width,F=v.width;O.push("scale(".concat((he(F)?F/D:1)/D,")"))}return N&&O.push("rotate(".concat(N,", ").concat(C,", ").concat(k,")")),O.length&&(I.transform=O.join(" ")),W.createElement("text",O0({},Re(I,!0),{x:C,y:k,className:We("recharts-text",E),textAnchor:m,fill:b.includes("url")?_T:b}),x.map(function(K,B){var M=K.words.join(S?"":" ");return W.createElement("tspan",{x:C,dy:B===0?j:o,key:"".concat(M,"-").concat(B)},M)}))};function ms(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function tee(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Gw(t){let e,n,r;t.length!==2?(e=ms,n=(o,l)=>ms(t(o),l),r=(o,l)=>t(o)-l):(e=t===ms||t===tee?t:nee,n=t,r=t);function i(o,l,c=0,f=o.length){if(c<f){if(e(l,l)!==0)return f;do{const h=c+f>>>1;n(o[h],l)<0?c=h+1:f=h}while(c<f)}return c}function s(o,l,c=0,f=o.length){if(c<f){if(e(l,l)!==0)return f;do{const h=c+f>>>1;n(o[h],l)<=0?c=h+1:f=h}while(c<f)}return c}function a(o,l,c=0,f=o.length){const h=i(o,l,c,f-1);return h>c&&r(o[h-1],l)>-r(o[h],l)?h-1:h}return{left:i,center:a,right:s}}function nee(){return 0}function Bk(t){return t===null?NaN:+t}function*ree(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const iee=Gw(ms),fd=iee.right;Gw(Bk).center;class ST extends Map{constructor(e,n=oee){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(ET(this,e))}has(e){return super.has(ET(this,e))}set(e,n){return super.set(see(this,e),n)}delete(e){return super.delete(aee(this,e))}}function ET({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function see({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function aee({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function oee(t){return t!==null&&typeof t=="object"?t.valueOf():t}function lee(t=ms){if(t===ms)return zk;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function zk(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const uee=Math.sqrt(50),cee=Math.sqrt(10),dee=Math.sqrt(2);function Xh(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=uee?10:s>=cee?5:s>=dee?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/a,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*a,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=n&&n<2?Xh(t,e,n*2):[o,l,c]}function C0(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,a]=r?Xh(e,t,n):Xh(t,e,n);if(!(s>=i))return[];const o=s-i+1,l=new Array(o);if(r)if(a<0)for(let c=0;c<o;++c)l[c]=(s-c)/-a;else for(let c=0;c<o;++c)l[c]=(s-c)*a;else if(a<0)for(let c=0;c<o;++c)l[c]=(i+c)/-a;else for(let c=0;c<o;++c)l[c]=(i+c)*a;return l}function k0(t,e,n){return e=+e,t=+t,n=+n,Xh(t,e,n)[2]}function R0(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?k0(e,t,n):k0(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function AT(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function TT(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function qk(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?zk:lee(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,f=Math.log(l),h=.5*Math.exp(2*f/3),p=.5*Math.sqrt(f*h*(l-h)/l)*(c-l/2<0?-1:1),m=Math.max(n,Math.floor(e-c*h/l+p)),g=Math.min(r,Math.floor(e+(l-c)*h/l+p));qk(t,e,m,g,i)}const s=t[e];let a=n,o=r;for(Zl(t,n,e),i(t[r],s)>0&&Zl(t,n,r);a<o;){for(Zl(t,a,o),++a,--o;i(t[a],s)<0;)++a;for(;i(t[o],s)>0;)--o}i(t[n],s)===0?Zl(t,n,o):(++o,Zl(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function Zl(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function fee(t,e,n){if(t=Float64Array.from(ree(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return TT(t);if(e>=1)return AT(t);var r,i=(r-1)*e,s=Math.floor(i),a=AT(qk(t,s).subarray(0,s+1)),o=TT(t.subarray(s+1));return a+(o-a)*(i-s)}}function hee(t,e,n=Bk){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),a=+n(t[s],s,t),o=+n(t[s+1],s+1,t);return a+(o-a)*(i-s)}}function pee(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function pr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Li(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const D0=Symbol("implicit");function Qw(){var t=new ST,e=[],n=[],r=D0;function i(s){let a=t.get(s);if(a===void 0){if(r!==D0)return r;t.set(s,a=e.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new ST;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return Qw(e,n).unknown(r)},pr.apply(i,arguments),i}function xc(){var t=Qw().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,a,o=!1,l=0,c=0,f=.5;delete t.unknown;function h(){var p=e().length,m=i<r,g=m?i:r,w=m?r:i;s=(w-g)/Math.max(1,p-l+c*2),o&&(s=Math.floor(s)),g+=(w-g-s*(p-l))*f,a=s*(1-l),o&&(g=Math.round(g),a=Math.round(a));var _=pee(p).map(function(b){return g+s*b});return n(m?_.reverse():_)}return t.domain=function(p){return arguments.length?(e(p),h()):e()},t.range=function(p){return arguments.length?([r,i]=p,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(p){return[r,i]=p,r=+r,i=+i,o=!0,h()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(p){return arguments.length?(o=!!p,h()):o},t.padding=function(p){return arguments.length?(l=Math.min(1,c=+p),h()):l},t.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),h()):l},t.paddingOuter=function(p){return arguments.length?(c=+p,h()):c},t.align=function(p){return arguments.length?(f=Math.max(0,Math.min(1,p)),h()):f},t.copy=function(){return xc(e(),[r,i]).round(o).paddingInner(l).paddingOuter(c).align(f)},pr.apply(h(),arguments)}function Wk(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Wk(e())},t}function Ru(){return Wk(xc.apply(null,arguments).paddingInner(1))}function Xw(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Hk(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function hd(){}var bc=.7,Yh=1/bc,Eo="\\s*([+-]?\\d+)\\s*",wc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Kr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",mee=/^#([0-9a-f]{3,8})$/,gee=new RegExp(`^rgb\\(${Eo},${Eo},${Eo}\\)$`),yee=new RegExp(`^rgb\\(${Kr},${Kr},${Kr}\\)$`),vee=new RegExp(`^rgba\\(${Eo},${Eo},${Eo},${wc}\\)$`),xee=new RegExp(`^rgba\\(${Kr},${Kr},${Kr},${wc}\\)$`),bee=new RegExp(`^hsl\\(${wc},${Kr},${Kr}\\)$`),wee=new RegExp(`^hsla\\(${wc},${Kr},${Kr},${wc}\\)$`),NT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Xw(hd,_c,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:IT,formatHex:IT,formatHex8:_ee,formatHsl:See,formatRgb:PT,toString:PT});function IT(){return this.rgb().formatHex()}function _ee(){return this.rgb().formatHex8()}function See(){return Kk(this).formatHsl()}function PT(){return this.rgb().formatRgb()}function _c(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=mee.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?jT(e):n===3?new Cn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?uf(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?uf(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=gee.exec(t))?new Cn(e[1],e[2],e[3],1):(e=yee.exec(t))?new Cn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=vee.exec(t))?uf(e[1],e[2],e[3],e[4]):(e=xee.exec(t))?uf(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=bee.exec(t))?kT(e[1],e[2]/100,e[3]/100,1):(e=wee.exec(t))?kT(e[1],e[2]/100,e[3]/100,e[4]):NT.hasOwnProperty(t)?jT(NT[t]):t==="transparent"?new Cn(NaN,NaN,NaN,0):null}function jT(t){return new Cn(t>>16&255,t>>8&255,t&255,1)}function uf(t,e,n,r){return r<=0&&(t=e=n=NaN),new Cn(t,e,n,r)}function Eee(t){return t instanceof hd||(t=_c(t)),t?(t=t.rgb(),new Cn(t.r,t.g,t.b,t.opacity)):new Cn}function M0(t,e,n,r){return arguments.length===1?Eee(t):new Cn(t,e,n,r??1)}function Cn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Xw(Cn,M0,Hk(hd,{brighter(t){return t=t==null?Yh:Math.pow(Yh,t),new Cn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?bc:Math.pow(bc,t),new Cn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Cn(ua(this.r),ua(this.g),ua(this.b),Jh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:OT,formatHex:OT,formatHex8:Aee,formatRgb:CT,toString:CT}));function OT(){return`#${ta(this.r)}${ta(this.g)}${ta(this.b)}`}function Aee(){return`#${ta(this.r)}${ta(this.g)}${ta(this.b)}${ta((isNaN(this.opacity)?1:this.opacity)*255)}`}function CT(){const t=Jh(this.opacity);return`${t===1?"rgb(":"rgba("}${ua(this.r)}, ${ua(this.g)}, ${ua(this.b)}${t===1?")":`, ${t})`}`}function Jh(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ua(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ta(t){return t=ua(t),(t<16?"0":"")+t.toString(16)}function kT(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new _r(t,e,n,r)}function Kk(t){if(t instanceof _r)return new _r(t.h,t.s,t.l,t.opacity);if(t instanceof hd||(t=_c(t)),!t)return new _r;if(t instanceof _r)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,o=s-i,l=(s+i)/2;return o?(e===s?a=(n-r)/o+(n<r)*6:n===s?a=(r-e)/o+2:a=(e-n)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new _r(a,o,l,t.opacity)}function Tee(t,e,n,r){return arguments.length===1?Kk(t):new _r(t,e,n,r??1)}function _r(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Xw(_r,Tee,Hk(hd,{brighter(t){return t=t==null?Yh:Math.pow(Yh,t),new _r(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?bc:Math.pow(bc,t),new _r(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Cn(wy(t>=240?t-240:t+120,i,r),wy(t,i,r),wy(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new _r(RT(this.h),cf(this.s),cf(this.l),Jh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Jh(this.opacity);return`${t===1?"hsl(":"hsla("}${RT(this.h)}, ${cf(this.s)*100}%, ${cf(this.l)*100}%${t===1?")":`, ${t})`}`}}));function RT(t){return t=(t||0)%360,t<0?t+360:t}function cf(t){return Math.max(0,Math.min(1,t||0))}function wy(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Yw=t=>()=>t;function Nee(t,e){return function(n){return t+n*e}}function Iee(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Pee(t){return(t=+t)==1?Gk:function(e,n){return n-e?Iee(e,n,t):Yw(isNaN(e)?n:e)}}function Gk(t,e){var n=e-t;return n?Nee(t,n):Yw(isNaN(t)?e:t)}const DT=function t(e){var n=Pee(e);function r(i,s){var a=n((i=M0(i)).r,(s=M0(s)).r),o=n(i.g,s.g),l=n(i.b,s.b),c=Gk(i.opacity,s.opacity);return function(f){return i.r=a(f),i.g=o(f),i.b=l(f),i.opacity=c(f),i+""}}return r.gamma=t,r}(1);function jee(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function Oee(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Cee(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=Al(t[a],e[a]);for(;a<n;++a)s[a]=e[a];return function(o){for(a=0;a<r;++a)s[a]=i[a](o);return s}}function kee(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Zh(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Ree(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Al(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var $0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_y=new RegExp($0.source,"g");function Dee(t){return function(){return t}}function Mee(t){return function(e){return t(e)+""}}function $ee(t,e){var n=$0.lastIndex=_y.lastIndex=0,r,i,s,a=-1,o=[],l=[];for(t=t+"",e=e+"";(r=$0.exec(t))&&(i=_y.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),o[a]?o[a]+=s:o[++a]=s),(r=r[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:Zh(r,i)})),n=_y.lastIndex;return n<e.length&&(s=e.slice(n),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?Mee(l[0].x):Dee(e):(e=l.length,function(c){for(var f=0,h;f<e;++f)o[(h=l[f]).i]=h.x(c);return o.join("")})}function Al(t,e){var n=typeof e,r;return e==null||n==="boolean"?Yw(e):(n==="number"?Zh:n==="string"?(r=_c(e))?(e=r,DT):$ee:e instanceof _c?DT:e instanceof Date?kee:Oee(e)?jee:Array.isArray(e)?Cee:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Ree:Zh)(t,e)}function Jw(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Lee(t,e){e===void 0&&(e=t,t=Al);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(a){var o=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[o](a-o)}}function Vee(t){return function(){return t}}function ep(t){return+t}var MT=[0,1];function _n(t){return t}function L0(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Vee(isNaN(e)?NaN:.5)}function Fee(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Uee(t,e,n){var r=t[0],i=t[1],s=e[0],a=e[1];return i<r?(r=L0(i,r),s=n(a,s)):(r=L0(r,i),s=n(s,a)),function(o){return s(r(o))}}function Bee(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=L0(t[a],t[a+1]),s[a]=n(e[a],e[a+1]);return function(o){var l=fd(t,o,1,r)-1;return s[l](i[l](o))}}function pd(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Vm(){var t=MT,e=MT,n=Al,r,i,s,a=_n,o,l,c;function f(){var p=Math.min(t.length,e.length);return a!==_n&&(a=Fee(t[0],t[p-1])),o=p>2?Bee:Uee,l=c=null,h}function h(p){return p==null||isNaN(p=+p)?s:(l||(l=o(t.map(r),e,n)))(r(a(p)))}return h.invert=function(p){return a(i((c||(c=o(e,t.map(r),Zh)))(p)))},h.domain=function(p){return arguments.length?(t=Array.from(p,ep),f()):t.slice()},h.range=function(p){return arguments.length?(e=Array.from(p),f()):e.slice()},h.rangeRound=function(p){return e=Array.from(p),n=Jw,f()},h.clamp=function(p){return arguments.length?(a=p?!0:_n,f()):a!==_n},h.interpolate=function(p){return arguments.length?(n=p,f()):n},h.unknown=function(p){return arguments.length?(s=p,h):s},function(p,m){return r=p,i=m,f()}}function Zw(){return Vm()(_n,_n)}function zee(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function tp(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ko(t){return t=tp(Math.abs(t)),t?t[1]:NaN}function qee(t,e){return function(n,r){for(var i=n.length,s=[],a=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),s.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[a=(a+1)%t.length];return s.reverse().join(e)}}function Wee(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Hee=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Sc(t){if(!(e=Hee.exec(t)))throw new Error("invalid format: "+t);var e;return new e_({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Sc.prototype=e_.prototype;function e_(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}e_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Kee(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Qk;function Gee(t,e){var n=tp(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(Qk=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+tp(t,Math.max(0,e+s-1))[0]}function $T(t,e){var n=tp(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const LT={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:zee,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>$T(t*100,e),r:$T,s:Gee,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function VT(t){return t}var FT=Array.prototype.map,UT=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Qee(t){var e=t.grouping===void 0||t.thousands===void 0?VT:qee(FT.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?VT:Wee(FT.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(h){h=Sc(h);var p=h.fill,m=h.align,g=h.sign,w=h.symbol,_=h.zero,b=h.width,v=h.comma,x=h.precision,P=h.trim,A=h.type;A==="n"?(v=!0,A="g"):LT[A]||(x===void 0&&(x=12),P=!0,A="g"),(_||p==="0"&&m==="=")&&(_=!0,p="0",m="=");var N=w==="$"?n:w==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",E=w==="$"?r:/[%p]/.test(A)?a:"",S=LT[A],I=/[defgprs%]/.test(A);x=x===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function C(k){var j=N,O=E,D,F,K;if(A==="c")O=S(k)+O,k="";else{k=+k;var B=k<0||1/k<0;if(k=isNaN(k)?l:S(Math.abs(k),x),P&&(k=Kee(k)),B&&+k==0&&g!=="+"&&(B=!1),j=(B?g==="("?g:o:g==="-"||g==="("?"":g)+j,O=(A==="s"?UT[8+Qk/3]:"")+O+(B&&g==="("?")":""),I){for(D=-1,F=k.length;++D<F;)if(K=k.charCodeAt(D),48>K||K>57){O=(K===46?i+k.slice(D+1):k.slice(D))+O,k=k.slice(0,D);break}}}v&&!_&&(k=e(k,1/0));var M=j.length+k.length+O.length,U=M<b?new Array(b-M+1).join(p):"";switch(v&&_&&(k=e(U+k,U.length?b-O.length:1/0),U=""),m){case"<":k=j+k+O+U;break;case"=":k=j+U+k+O;break;case"^":k=U.slice(0,M=U.length>>1)+j+k+O+U.slice(M);break;default:k=U+j+k+O;break}return s(k)}return C.toString=function(){return h+""},C}function f(h,p){var m=c((h=Sc(h),h.type="f",h)),g=Math.max(-8,Math.min(8,Math.floor(Ko(p)/3)))*3,w=Math.pow(10,-g),_=UT[8+g/3];return function(b){return m(w*b)+_}}return{format:c,formatPrefix:f}}var df,t_,Xk;Xee({thousands:",",grouping:[3],currency:["$",""]});function Xee(t){return df=Qee(t),t_=df.format,Xk=df.formatPrefix,df}function Yee(t){return Math.max(0,-Ko(Math.abs(t)))}function Jee(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ko(e)/3)))*3-Ko(Math.abs(t)))}function Zee(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ko(e)-Ko(t))+1}function Yk(t,e,n,r){var i=R0(t,e,n),s;switch(r=Sc(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=Jee(i,a))&&(r.precision=s),Xk(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Zee(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Yee(i))&&(r.precision=s-(r.type==="%")*2);break}}return t_(r)}function Cs(t){var e=t.domain;return t.ticks=function(n){var r=e();return C0(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Yk(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,a=r[i],o=r[s],l,c,f=10;for(o<a&&(c=a,a=o,o=c,c=i,i=s,s=c);f-- >0;){if(c=k0(a,o,n),c===l)return r[i]=a,r[s]=o,e(r);if(c>0)a=Math.floor(a/c)*c,o=Math.ceil(o/c)*c;else if(c<0)a=Math.ceil(a*c)/c,o=Math.floor(o*c)/c;else break;l=c}return t},t}function np(){var t=Zw();return t.copy=function(){return pd(t,np())},pr.apply(t,arguments),Cs(t)}function Jk(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,ep),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Jk(t).unknown(e)},t=arguments.length?Array.from(t,ep):[0,1],Cs(n)}function Zk(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),t[n]=e.floor(i),t[r]=e.ceil(s),t}function BT(t){return Math.log(t)}function zT(t){return Math.exp(t)}function ete(t){return-Math.log(-t)}function tte(t){return-Math.exp(-t)}function nte(t){return isFinite(t)?+("1e"+t):t<0?0:t}function rte(t){return t===10?nte:t===Math.E?Math.exp:e=>Math.pow(t,e)}function ite(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function qT(t){return(e,n)=>-t(-e,n)}function n_(t){const e=t(BT,zT),n=e.domain;let r=10,i,s;function a(){return i=ite(r),s=rte(r),n()[0]<0?(i=qT(i),s=qT(s),t(ete,tte)):t(BT,zT),e}return e.base=function(o){return arguments.length?(r=+o,a()):r},e.domain=function(o){return arguments.length?(n(o),a()):n()},e.ticks=o=>{const l=n();let c=l[0],f=l[l.length-1];const h=f<c;h&&([c,f]=[f,c]);let p=i(c),m=i(f),g,w;const _=o==null?10:+o;let b=[];if(!(r%1)&&m-p<_){if(p=Math.floor(p),m=Math.ceil(m),c>0){for(;p<=m;++p)for(g=1;g<r;++g)if(w=p<0?g/s(-p):g*s(p),!(w<c)){if(w>f)break;b.push(w)}}else for(;p<=m;++p)for(g=r-1;g>=1;--g)if(w=p>0?g/s(-p):g*s(p),!(w<c)){if(w>f)break;b.push(w)}b.length*2<_&&(b=C0(c,f,_))}else b=C0(p,m,Math.min(m-p,_)).map(s);return h?b.reverse():b},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Sc(l)).precision==null&&(l.trim=!0),l=t_(l)),o===1/0)return l;const c=Math.max(1,r*o/e.ticks().length);return f=>{let h=f/s(Math.round(i(f)));return h*r<r-.5&&(h*=r),h<=c?l(f):""}},e.nice=()=>n(Zk(n(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),e}function eR(){const t=n_(Vm()).domain([1,10]);return t.copy=()=>pd(t,eR()).base(t.base()),pr.apply(t,arguments),t}function WT(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function HT(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function r_(t){var e=1,n=t(WT(e),HT(e));return n.constant=function(r){return arguments.length?t(WT(e=+r),HT(e)):e},Cs(n)}function tR(){var t=r_(Vm());return t.copy=function(){return pd(t,tR()).constant(t.constant())},pr.apply(t,arguments)}function KT(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function ste(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function ate(t){return t<0?-t*t:t*t}function i_(t){var e=t(_n,_n),n=1;function r(){return n===1?t(_n,_n):n===.5?t(ste,ate):t(KT(n),KT(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Cs(e)}function s_(){var t=i_(Vm());return t.copy=function(){return pd(t,s_()).exponent(t.exponent())},pr.apply(t,arguments),t}function ote(){return s_.apply(null,arguments).exponent(.5)}function GT(t){return Math.sign(t)*t*t}function lte(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function nR(){var t=Zw(),e=[0,1],n=!1,r;function i(s){var a=lte(t(s));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(s){return t.invert(GT(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,ep)).map(GT)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return nR(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},pr.apply(i,arguments),Cs(i)}function rR(){var t=[],e=[],n=[],r;function i(){var a=0,o=Math.max(1,e.length);for(n=new Array(o-1);++a<o;)n[a-1]=hee(t,a/o);return s}function s(a){return a==null||isNaN(a=+a)?r:e[fd(n,a)]}return s.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let o of a)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(ms),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return rR().domain(t).range(e).unknown(r)},pr.apply(s,arguments)}function iR(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function a(l){return l!=null&&l<=l?i[fd(r,l,0,n)]:s}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},a.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},a.unknown=function(l){return arguments.length&&(s=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return iR().domain([t,e]).range(i).unknown(s)},pr.apply(Cs(a),arguments)}function sR(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[fd(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return sR().domain(t).range(e).unknown(n)},pr.apply(i,arguments)}const Sy=new Date,Ey=new Date;function Ut(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const l=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return l;let c;do l.push(c=new Date(+s)),e(s,o),t(s);while(c<s&&s<a);return l},i.filter=s=>Ut(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),n&&(i.count=(s,a)=>(Sy.setTime(+s),Ey.setTime(+a),t(Sy),t(Ey),Math.floor(n(Sy,Ey))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const rp=Ut(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);rp.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Ut(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):rp);rp.range;const pi=1e3,ar=pi*60,mi=ar*60,Oi=mi*24,a_=Oi*7,QT=Oi*30,Ay=Oi*365,na=Ut(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*pi)},(t,e)=>(e-t)/pi,t=>t.getUTCSeconds());na.range;const o_=Ut(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*pi)},(t,e)=>{t.setTime(+t+e*ar)},(t,e)=>(e-t)/ar,t=>t.getMinutes());o_.range;const l_=Ut(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ar)},(t,e)=>(e-t)/ar,t=>t.getUTCMinutes());l_.range;const u_=Ut(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*pi-t.getMinutes()*ar)},(t,e)=>{t.setTime(+t+e*mi)},(t,e)=>(e-t)/mi,t=>t.getHours());u_.range;const c_=Ut(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*mi)},(t,e)=>(e-t)/mi,t=>t.getUTCHours());c_.range;const md=Ut(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ar)/Oi,t=>t.getDate()-1);md.range;const Fm=Ut(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Oi,t=>t.getUTCDate()-1);Fm.range;const aR=Ut(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Oi,t=>Math.floor(t/Oi));aR.range;function Oa(t){return Ut(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ar)/a_)}const Um=Oa(0),ip=Oa(1),ute=Oa(2),cte=Oa(3),Go=Oa(4),dte=Oa(5),fte=Oa(6);Um.range;ip.range;ute.range;cte.range;Go.range;dte.range;fte.range;function Ca(t){return Ut(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/a_)}const Bm=Ca(0),sp=Ca(1),hte=Ca(2),pte=Ca(3),Qo=Ca(4),mte=Ca(5),gte=Ca(6);Bm.range;sp.range;hte.range;pte.range;Qo.range;mte.range;gte.range;const d_=Ut(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());d_.range;const f_=Ut(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());f_.range;const Ci=Ut(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ci.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ut(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ci.range;const ki=Ut(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ki.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ut(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});ki.range;function oR(t,e,n,r,i,s){const a=[[na,1,pi],[na,5,5*pi],[na,15,15*pi],[na,30,30*pi],[s,1,ar],[s,5,5*ar],[s,15,15*ar],[s,30,30*ar],[i,1,mi],[i,3,3*mi],[i,6,6*mi],[i,12,12*mi],[r,1,Oi],[r,2,2*Oi],[n,1,a_],[e,1,QT],[e,3,3*QT],[t,1,Ay]];function o(c,f,h){const p=f<c;p&&([c,f]=[f,c]);const m=h&&typeof h.range=="function"?h:l(c,f,h),g=m?m.range(c,+f+1):[];return p?g.reverse():g}function l(c,f,h){const p=Math.abs(f-c)/h,m=Gw(([,,_])=>_).right(a,p);if(m===a.length)return t.every(R0(c/Ay,f/Ay,h));if(m===0)return rp.every(Math.max(R0(c,f,h),1));const[g,w]=a[p/a[m-1][2]<a[m][2]/p?m-1:m];return g.every(w)}return[o,l]}const[yte,vte]=oR(ki,f_,Bm,aR,c_,l_),[xte,bte]=oR(Ci,d_,Um,md,u_,o_);function Ty(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ny(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function eu(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function wte(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,a=t.shortDays,o=t.months,l=t.shortMonths,c=tu(i),f=nu(i),h=tu(s),p=nu(s),m=tu(a),g=nu(a),w=tu(o),_=nu(o),b=tu(l),v=nu(l),x={a:B,A:M,b:U,B:V,c:null,d:tN,e:tN,f:qte,g:ene,G:nne,H:Ute,I:Bte,j:zte,L:lR,m:Wte,M:Hte,p:X,q:$,Q:iN,s:sN,S:Kte,u:Gte,U:Qte,V:Xte,w:Yte,W:Jte,x:null,X:null,y:Zte,Y:tne,Z:rne,"%":rN},P={a:G,A:ee,b:fe,B:z,c:null,d:nN,e:nN,f:one,g:yne,G:xne,H:ine,I:sne,j:ane,L:cR,m:lne,M:une,p:J,q:se,Q:iN,s:sN,S:cne,u:dne,U:fne,V:hne,w:pne,W:mne,x:null,X:null,y:gne,Y:vne,Z:bne,"%":rN},A={a:C,A:k,b:j,B:O,c:D,d:ZT,e:ZT,f:$te,g:JT,G:YT,H:eN,I:eN,j:kte,L:Mte,m:Cte,M:Rte,p:I,q:Ote,Q:Vte,s:Fte,S:Dte,u:Tte,U:Nte,V:Ite,w:Ate,W:Pte,x:F,X:K,y:JT,Y:YT,Z:jte,"%":Lte};x.x=N(n,x),x.X=N(r,x),x.c=N(e,x),P.x=N(n,P),P.X=N(r,P),P.c=N(e,P);function N(q,ce){return function(te){var Q=[],de=-1,oe=0,we=q.length,Me,pt,Ot;for(te instanceof Date||(te=new Date(+te));++de<we;)q.charCodeAt(de)===37&&(Q.push(q.slice(oe,de)),(pt=XT[Me=q.charAt(++de)])!=null?Me=q.charAt(++de):pt=Me==="e"?" ":"0",(Ot=ce[Me])&&(Me=Ot(te,pt)),Q.push(Me),oe=de+1);return Q.push(q.slice(oe,de)),Q.join("")}}function E(q,ce){return function(te){var Q=eu(1900,void 0,1),de=S(Q,q,te+="",0),oe,we;if(de!=te.length)return null;if("Q"in Q)return new Date(Q.Q);if("s"in Q)return new Date(Q.s*1e3+("L"in Q?Q.L:0));if(ce&&!("Z"in Q)&&(Q.Z=0),"p"in Q&&(Q.H=Q.H%12+Q.p*12),Q.m===void 0&&(Q.m="q"in Q?Q.q:0),"V"in Q){if(Q.V<1||Q.V>53)return null;"w"in Q||(Q.w=1),"Z"in Q?(oe=Ny(eu(Q.y,0,1)),we=oe.getUTCDay(),oe=we>4||we===0?sp.ceil(oe):sp(oe),oe=Fm.offset(oe,(Q.V-1)*7),Q.y=oe.getUTCFullYear(),Q.m=oe.getUTCMonth(),Q.d=oe.getUTCDate()+(Q.w+6)%7):(oe=Ty(eu(Q.y,0,1)),we=oe.getDay(),oe=we>4||we===0?ip.ceil(oe):ip(oe),oe=md.offset(oe,(Q.V-1)*7),Q.y=oe.getFullYear(),Q.m=oe.getMonth(),Q.d=oe.getDate()+(Q.w+6)%7)}else("W"in Q||"U"in Q)&&("w"in Q||(Q.w="u"in Q?Q.u%7:"W"in Q?1:0),we="Z"in Q?Ny(eu(Q.y,0,1)).getUTCDay():Ty(eu(Q.y,0,1)).getDay(),Q.m=0,Q.d="W"in Q?(Q.w+6)%7+Q.W*7-(we+5)%7:Q.w+Q.U*7-(we+6)%7);return"Z"in Q?(Q.H+=Q.Z/100|0,Q.M+=Q.Z%100,Ny(Q)):Ty(Q)}}function S(q,ce,te,Q){for(var de=0,oe=ce.length,we=te.length,Me,pt;de<oe;){if(Q>=we)return-1;if(Me=ce.charCodeAt(de++),Me===37){if(Me=ce.charAt(de++),pt=A[Me in XT?ce.charAt(de++):Me],!pt||(Q=pt(q,te,Q))<0)return-1}else if(Me!=te.charCodeAt(Q++))return-1}return Q}function I(q,ce,te){var Q=c.exec(ce.slice(te));return Q?(q.p=f.get(Q[0].toLowerCase()),te+Q[0].length):-1}function C(q,ce,te){var Q=m.exec(ce.slice(te));return Q?(q.w=g.get(Q[0].toLowerCase()),te+Q[0].length):-1}function k(q,ce,te){var Q=h.exec(ce.slice(te));return Q?(q.w=p.get(Q[0].toLowerCase()),te+Q[0].length):-1}function j(q,ce,te){var Q=b.exec(ce.slice(te));return Q?(q.m=v.get(Q[0].toLowerCase()),te+Q[0].length):-1}function O(q,ce,te){var Q=w.exec(ce.slice(te));return Q?(q.m=_.get(Q[0].toLowerCase()),te+Q[0].length):-1}function D(q,ce,te){return S(q,e,ce,te)}function F(q,ce,te){return S(q,n,ce,te)}function K(q,ce,te){return S(q,r,ce,te)}function B(q){return a[q.getDay()]}function M(q){return s[q.getDay()]}function U(q){return l[q.getMonth()]}function V(q){return o[q.getMonth()]}function X(q){return i[+(q.getHours()>=12)]}function $(q){return 1+~~(q.getMonth()/3)}function G(q){return a[q.getUTCDay()]}function ee(q){return s[q.getUTCDay()]}function fe(q){return l[q.getUTCMonth()]}function z(q){return o[q.getUTCMonth()]}function J(q){return i[+(q.getUTCHours()>=12)]}function se(q){return 1+~~(q.getUTCMonth()/3)}return{format:function(q){var ce=N(q+="",x);return ce.toString=function(){return q},ce},parse:function(q){var ce=E(q+="",!1);return ce.toString=function(){return q},ce},utcFormat:function(q){var ce=N(q+="",P);return ce.toString=function(){return q},ce},utcParse:function(q){var ce=E(q+="",!0);return ce.toString=function(){return q},ce}}}var XT={"-":"",_:" ",0:"0"},Kt=/^\s*\d+/,_te=/^%/,Ste=/[\\^$*+?|[\]().{}]/g;function He(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function Ete(t){return t.replace(Ste,"\\$&")}function tu(t){return new RegExp("^(?:"+t.map(Ete).join("|")+")","i")}function nu(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Ate(t,e,n){var r=Kt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Tte(t,e,n){var r=Kt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Nte(t,e,n){var r=Kt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Ite(t,e,n){var r=Kt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Pte(t,e,n){var r=Kt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function YT(t,e,n){var r=Kt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function JT(t,e,n){var r=Kt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function jte(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Ote(t,e,n){var r=Kt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Cte(t,e,n){var r=Kt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function ZT(t,e,n){var r=Kt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function kte(t,e,n){var r=Kt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function eN(t,e,n){var r=Kt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Rte(t,e,n){var r=Kt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Dte(t,e,n){var r=Kt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Mte(t,e,n){var r=Kt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function $te(t,e,n){var r=Kt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Lte(t,e,n){var r=_te.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Vte(t,e,n){var r=Kt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Fte(t,e,n){var r=Kt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function tN(t,e){return He(t.getDate(),e,2)}function Ute(t,e){return He(t.getHours(),e,2)}function Bte(t,e){return He(t.getHours()%12||12,e,2)}function zte(t,e){return He(1+md.count(Ci(t),t),e,3)}function lR(t,e){return He(t.getMilliseconds(),e,3)}function qte(t,e){return lR(t,e)+"000"}function Wte(t,e){return He(t.getMonth()+1,e,2)}function Hte(t,e){return He(t.getMinutes(),e,2)}function Kte(t,e){return He(t.getSeconds(),e,2)}function Gte(t){var e=t.getDay();return e===0?7:e}function Qte(t,e){return He(Um.count(Ci(t)-1,t),e,2)}function uR(t){var e=t.getDay();return e>=4||e===0?Go(t):Go.ceil(t)}function Xte(t,e){return t=uR(t),He(Go.count(Ci(t),t)+(Ci(t).getDay()===4),e,2)}function Yte(t){return t.getDay()}function Jte(t,e){return He(ip.count(Ci(t)-1,t),e,2)}function Zte(t,e){return He(t.getFullYear()%100,e,2)}function ene(t,e){return t=uR(t),He(t.getFullYear()%100,e,2)}function tne(t,e){return He(t.getFullYear()%1e4,e,4)}function nne(t,e){var n=t.getDay();return t=n>=4||n===0?Go(t):Go.ceil(t),He(t.getFullYear()%1e4,e,4)}function rne(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+He(e/60|0,"0",2)+He(e%60,"0",2)}function nN(t,e){return He(t.getUTCDate(),e,2)}function ine(t,e){return He(t.getUTCHours(),e,2)}function sne(t,e){return He(t.getUTCHours()%12||12,e,2)}function ane(t,e){return He(1+Fm.count(ki(t),t),e,3)}function cR(t,e){return He(t.getUTCMilliseconds(),e,3)}function one(t,e){return cR(t,e)+"000"}function lne(t,e){return He(t.getUTCMonth()+1,e,2)}function une(t,e){return He(t.getUTCMinutes(),e,2)}function cne(t,e){return He(t.getUTCSeconds(),e,2)}function dne(t){var e=t.getUTCDay();return e===0?7:e}function fne(t,e){return He(Bm.count(ki(t)-1,t),e,2)}function dR(t){var e=t.getUTCDay();return e>=4||e===0?Qo(t):Qo.ceil(t)}function hne(t,e){return t=dR(t),He(Qo.count(ki(t),t)+(ki(t).getUTCDay()===4),e,2)}function pne(t){return t.getUTCDay()}function mne(t,e){return He(sp.count(ki(t)-1,t),e,2)}function gne(t,e){return He(t.getUTCFullYear()%100,e,2)}function yne(t,e){return t=dR(t),He(t.getUTCFullYear()%100,e,2)}function vne(t,e){return He(t.getUTCFullYear()%1e4,e,4)}function xne(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Qo(t):Qo.ceil(t),He(t.getUTCFullYear()%1e4,e,4)}function bne(){return"+0000"}function rN(){return"%"}function iN(t){return+t}function sN(t){return Math.floor(+t/1e3)}var Ua,fR,hR;wne({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function wne(t){return Ua=wte(t),fR=Ua.format,Ua.parse,hR=Ua.utcFormat,Ua.utcParse,Ua}function _ne(t){return new Date(t)}function Sne(t){return t instanceof Date?+t:+new Date(+t)}function h_(t,e,n,r,i,s,a,o,l,c){var f=Zw(),h=f.invert,p=f.domain,m=c(".%L"),g=c(":%S"),w=c("%I:%M"),_=c("%I %p"),b=c("%a %d"),v=c("%b %d"),x=c("%B"),P=c("%Y");function A(N){return(l(N)<N?m:o(N)<N?g:a(N)<N?w:s(N)<N?_:r(N)<N?i(N)<N?b:v:n(N)<N?x:P)(N)}return f.invert=function(N){return new Date(h(N))},f.domain=function(N){return arguments.length?p(Array.from(N,Sne)):p().map(_ne)},f.ticks=function(N){var E=p();return t(E[0],E[E.length-1],N??10)},f.tickFormat=function(N,E){return E==null?A:c(E)},f.nice=function(N){var E=p();return(!N||typeof N.range!="function")&&(N=e(E[0],E[E.length-1],N??10)),N?p(Zk(E,N)):f},f.copy=function(){return pd(f,h_(t,e,n,r,i,s,a,o,l,c))},f}function Ene(){return pr.apply(h_(xte,bte,Ci,d_,Um,md,u_,o_,na,fR).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ane(){return pr.apply(h_(yte,vte,ki,f_,Bm,Fm,c_,l_,na,hR).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function zm(){var t=0,e=1,n,r,i,s,a=_n,o=!1,l;function c(h){return h==null||isNaN(h=+h)?l:a(i===0?.5:(h=(s(h)-n)*i,o?Math.max(0,Math.min(1,h)):h))}c.domain=function(h){return arguments.length?([t,e]=h,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(h){return arguments.length?(o=!!h,c):o},c.interpolator=function(h){return arguments.length?(a=h,c):a};function f(h){return function(p){var m,g;return arguments.length?([m,g]=p,a=h(m,g),c):[a(0),a(1)]}}return c.range=f(Al),c.rangeRound=f(Jw),c.unknown=function(h){return arguments.length?(l=h,c):l},function(h){return s=h,n=h(t),r=h(e),i=n===r?0:1/(r-n),c}}function ks(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function pR(){var t=Cs(zm()(_n));return t.copy=function(){return ks(t,pR())},Li.apply(t,arguments)}function mR(){var t=n_(zm()).domain([1,10]);return t.copy=function(){return ks(t,mR()).base(t.base())},Li.apply(t,arguments)}function gR(){var t=r_(zm());return t.copy=function(){return ks(t,gR()).constant(t.constant())},Li.apply(t,arguments)}function p_(){var t=i_(zm());return t.copy=function(){return ks(t,p_()).exponent(t.exponent())},Li.apply(t,arguments)}function Tne(){return p_.apply(null,arguments).exponent(.5)}function yR(){var t=[],e=_n;function n(r){if(r!=null&&!isNaN(r=+r))return e((fd(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ms),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>fee(t,s/r))},n.copy=function(){return yR(e).domain(t)},Li.apply(n,arguments)}function qm(){var t=0,e=.5,n=1,r=1,i,s,a,o,l,c=_n,f,h=!1,p;function m(w){return isNaN(w=+w)?p:(w=.5+((w=+f(w))-s)*(r*w<r*s?o:l),c(h?Math.max(0,Math.min(1,w)):w))}m.domain=function(w){return arguments.length?([t,e,n]=w,i=f(t=+t),s=f(e=+e),a=f(n=+n),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,m):[t,e,n]},m.clamp=function(w){return arguments.length?(h=!!w,m):h},m.interpolator=function(w){return arguments.length?(c=w,m):c};function g(w){return function(_){var b,v,x;return arguments.length?([b,v,x]=_,c=Lee(w,[b,v,x]),m):[c(0),c(.5),c(1)]}}return m.range=g(Al),m.rangeRound=g(Jw),m.unknown=function(w){return arguments.length?(p=w,m):p},function(w){return f=w,i=w(t),s=w(e),a=w(n),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,m}}function vR(){var t=Cs(qm()(_n));return t.copy=function(){return ks(t,vR())},Li.apply(t,arguments)}function xR(){var t=n_(qm()).domain([.1,1,10]);return t.copy=function(){return ks(t,xR()).base(t.base())},Li.apply(t,arguments)}function bR(){var t=r_(qm());return t.copy=function(){return ks(t,bR()).constant(t.constant())},Li.apply(t,arguments)}function m_(){var t=i_(qm());return t.copy=function(){return ks(t,m_()).exponent(t.exponent())},Li.apply(t,arguments)}function Nne(){return m_.apply(null,arguments).exponent(.5)}const aN=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:xc,scaleDiverging:vR,scaleDivergingLog:xR,scaleDivergingPow:m_,scaleDivergingSqrt:Nne,scaleDivergingSymlog:bR,scaleIdentity:Jk,scaleImplicit:D0,scaleLinear:np,scaleLog:eR,scaleOrdinal:Qw,scalePoint:Ru,scalePow:s_,scaleQuantile:rR,scaleQuantize:iR,scaleRadial:nR,scaleSequential:pR,scaleSequentialLog:mR,scaleSequentialPow:p_,scaleSequentialQuantile:yR,scaleSequentialSqrt:Tne,scaleSequentialSymlog:gR,scaleSqrt:ote,scaleSymlog:tR,scaleThreshold:sR,scaleTime:Ene,scaleUtc:Ane,tickFormat:Yk},Symbol.toStringTag,{value:"Module"}));var Ine=yl;function Pne(t,e,n){for(var r=-1,i=t.length;++r<i;){var s=t[r],a=e(s);if(a!=null&&(o===void 0?a===a&&!Ine(a):n(a,o)))var o=a,l=s}return l}var Wm=Pne;function jne(t,e){return t>e}var wR=jne,One=Wm,Cne=wR,kne=El;function Rne(t){return t&&t.length?One(t,kne,Cne):void 0}var Dne=Rne;const Hm=Je(Dne);function Mne(t,e){return t<e}var _R=Mne,$ne=Wm,Lne=_R,Vne=El;function Fne(t){return t&&t.length?$ne(t,Vne,Lne):void 0}var Une=Fne;const Km=Je(Une);var Bne=Nw,zne=Os,qne=jk,Wne=$n;function Hne(t,e){var n=Wne(t)?Bne:qne;return n(t,zne(e))}var Kne=Hne,Gne=Ik,Qne=Kne;function Xne(t,e){return Gne(Qne(t,e),1)}var Yne=Xne;const Jne=Je(Yne);var Zne=zw;function ere(t,e){return Zne(t,e)}var tre=ere;const g_=Je(tre);var Tl=1e9,nre={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},v_,ht=!0,dr="[DecimalError] ",ca=dr+"Invalid argument: ",y_=dr+"Exponent out of range: ",Nl=Math.floor,Ks=Math.pow,rre=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Un,qt=1e7,lt=7,SR=9007199254740991,ap=Nl(SR/lt),ge={};ge.absoluteValue=ge.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ge.comparedTo=ge.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};ge.decimalPlaces=ge.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*lt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ge.dividedBy=ge.div=function(t){return wi(this,new this.constructor(t))};ge.dividedToIntegerBy=ge.idiv=function(t){var e=this,n=e.constructor;return et(wi(e,new n(t),0,1),n.precision)};ge.equals=ge.eq=function(t){return!this.cmp(t)};ge.exponent=function(){return Dt(this)};ge.greaterThan=ge.gt=function(t){return this.cmp(t)>0};ge.greaterThanOrEqualTo=ge.gte=function(t){return this.cmp(t)>=0};ge.isInteger=ge.isint=function(){return this.e>this.d.length-2};ge.isNegative=ge.isneg=function(){return this.s<0};ge.isPositive=ge.ispos=function(){return this.s>0};ge.isZero=function(){return this.s===0};ge.lessThan=ge.lt=function(t){return this.cmp(t)<0};ge.lessThanOrEqualTo=ge.lte=function(t){return this.cmp(t)<1};ge.logarithm=ge.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Un))throw Error(dr+"NaN");if(n.s<1)throw Error(dr+(n.s?"NaN":"-Infinity"));return n.eq(Un)?new r(0):(ht=!1,e=wi(Ec(n,s),Ec(t,s),s),ht=!0,et(e,i))};ge.minus=ge.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?TR(e,t):ER(e,(t.s=-t.s,t))};ge.modulo=ge.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(dr+"NaN");return n.s?(ht=!1,e=wi(n,t,0,1).times(t),ht=!0,n.minus(e)):et(new r(n),i)};ge.naturalExponential=ge.exp=function(){return AR(this)};ge.naturalLogarithm=ge.ln=function(){return Ec(this)};ge.negated=ge.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ge.plus=ge.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?ER(e,t):TR(e,(t.s=-t.s,t))};ge.precision=ge.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ca+t);if(e=Dt(i)+1,r=i.d.length-1,n=r*lt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ge.squareRoot=ge.sqrt=function(){var t,e,n,r,i,s,a,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(dr+"NaN")}for(t=Dt(o),ht=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Lr(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Nl((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(s=r,r=s.plus(wi(o,s,a+2)).times(.5),Lr(s.d).slice(0,a)===(e=Lr(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(et(s,n+1,0),s.times(s).eq(o)){r=s;break}}else if(e!="9999")break;a+=4}return ht=!0,et(r,n)};ge.times=ge.mul=function(t){var e,n,r,i,s,a,o,l,c,f=this,h=f.constructor,p=f.d,m=(t=new h(t)).d;if(!f.s||!t.s)return new h(0);for(t.s*=f.s,n=f.e+t.e,l=p.length,c=m.length,l<c&&(s=p,p=m,m=s,a=l,l=c,c=a),s=[],a=l+c,r=a;r--;)s.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)o=s[i]+m[r]*p[i-r-1]+e,s[i--]=o%qt|0,e=o/qt|0;s[i]=(s[i]+e)%qt|0}for(;!s[--a];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,ht?et(t,h.precision):t};ge.toDecimalPlaces=ge.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Jr(t,0,Tl),e===void 0?e=r.rounding:Jr(e,0,8),et(n,t+Dt(n)+1,e))};ge.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Sa(r,!0):(Jr(t,0,Tl),e===void 0?e=i.rounding:Jr(e,0,8),r=et(new i(r),t+1,e),n=Sa(r,!0,t+1)),n};ge.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?Sa(i):(Jr(t,0,Tl),e===void 0?e=s.rounding:Jr(e,0,8),r=et(new s(i),t+Dt(i)+1,e),n=Sa(r.abs(),!1,t+Dt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ge.toInteger=ge.toint=function(){var t=this,e=t.constructor;return et(new e(t),Dt(t)+1,e.rounding)};ge.toNumber=function(){return+this};ge.toPower=ge.pow=function(t){var e,n,r,i,s,a,o=this,l=o.constructor,c=12,f=+(t=new l(t));if(!t.s)return new l(Un);if(o=new l(o),!o.s){if(t.s<1)throw Error(dr+"Infinity");return o}if(o.eq(Un))return o;if(r=l.precision,t.eq(Un))return et(o,r);if(e=t.e,n=t.d.length-1,a=e>=n,s=o.s,a){if((n=f<0?-f:f)<=SR){for(i=new l(Un),e=Math.ceil(r/lt+4),ht=!1;n%2&&(i=i.times(o),lN(i.d,e)),n=Nl(n/2),n!==0;)o=o.times(o),lN(o.d,e);return ht=!0,t.s<0?new l(Un).div(i):et(i,r)}}else if(s<0)throw Error(dr+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,ht=!1,i=t.times(Ec(o,r+c)),ht=!0,i=AR(i),i.s=s,i};ge.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=Dt(i),r=Sa(i,n<=s.toExpNeg||n>=s.toExpPos)):(Jr(t,1,Tl),e===void 0?e=s.rounding:Jr(e,0,8),i=et(new s(i),t,e),n=Dt(i),r=Sa(i,t<=n||n<=s.toExpNeg,t)),r};ge.toSignificantDigits=ge.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Jr(t,1,Tl),e===void 0?e=r.rounding:Jr(e,0,8)),et(new r(n),t,e)};ge.toString=ge.valueOf=ge.val=ge.toJSON=ge[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Dt(t),n=t.constructor;return Sa(t,e<=n.toExpNeg||e>=n.toExpPos)};function ER(t,e){var n,r,i,s,a,o,l,c,f=t.constructor,h=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),ht?et(e,h):e;if(l=t.d,c=e.d,a=t.e,i=e.e,l=l.slice(),s=a-i,s){for(s<0?(r=l,s=-s,o=c.length):(r=c,i=a,o=l.length),a=Math.ceil(h/lt),o=a>o?a+1:o+1,s>o&&(s=o,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(o=l.length,s=c.length,o-s<0&&(s=o,r=c,c=l,l=r),n=0;s;)n=(l[--s]=l[s]+c[s]+n)/qt|0,l[s]%=qt;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,ht?et(e,h):e}function Jr(t,e,n){if(t!==~~t||t<e||t>n)throw Error(ca+t)}function Lr(t){var e,n,r,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)r=t[e]+"",n=lt-r.length,n&&(s+=Ki(n)),s+=r;a=t[e],r=a+"",n=lt-r.length,n&&(s+=Ki(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var wi=function(){function t(r,i){var s,a=0,o=r.length;for(r=r.slice();o--;)s=r[o]*i+a,r[o]=s%qt|0,a=s/qt|0;return a&&r.unshift(a),r}function e(r,i,s,a){var o,l;if(s!=a)l=s>a?1:-1;else for(o=l=0;o<s;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,s){for(var a=0;s--;)r[s]-=a,a=r[s]<i[s]?1:0,r[s]=a*qt+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,a){var o,l,c,f,h,p,m,g,w,_,b,v,x,P,A,N,E,S,I=r.constructor,C=r.s==i.s?1:-1,k=r.d,j=i.d;if(!r.s)return new I(r);if(!i.s)throw Error(dr+"Division by zero");for(l=r.e-i.e,E=j.length,A=k.length,m=new I(C),g=m.d=[],c=0;j[c]==(k[c]||0);)++c;if(j[c]>(k[c]||0)&&--l,s==null?v=s=I.precision:a?v=s+(Dt(r)-Dt(i))+1:v=s,v<0)return new I(0);if(v=v/lt+2|0,c=0,E==1)for(f=0,j=j[0],v++;(c<A||f)&&v--;c++)x=f*qt+(k[c]||0),g[c]=x/j|0,f=x%j|0;else{for(f=qt/(j[0]+1)|0,f>1&&(j=t(j,f),k=t(k,f),E=j.length,A=k.length),P=E,w=k.slice(0,E),_=w.length;_<E;)w[_++]=0;S=j.slice(),S.unshift(0),N=j[0],j[1]>=qt/2&&++N;do f=0,o=e(j,w,E,_),o<0?(b=w[0],E!=_&&(b=b*qt+(w[1]||0)),f=b/N|0,f>1?(f>=qt&&(f=qt-1),h=t(j,f),p=h.length,_=w.length,o=e(h,w,p,_),o==1&&(f--,n(h,E<p?S:j,p))):(f==0&&(o=f=1),h=j.slice()),p=h.length,p<_&&h.unshift(0),n(w,h,_),o==-1&&(_=w.length,o=e(j,w,E,_),o<1&&(f++,n(w,E<_?S:j,_))),_=w.length):o===0&&(f++,w=[0]),g[c++]=f,o&&w[0]?w[_++]=k[P]||0:(w=[k[P]],_=1);while((P++<A||w[0]!==void 0)&&v--)}return g[0]||g.shift(),m.e=l,et(m,a?s+Dt(m)+1:s)}}();function AR(t,e){var n,r,i,s,a,o,l=0,c=0,f=t.constructor,h=f.precision;if(Dt(t)>16)throw Error(y_+Dt(t));if(!t.s)return new f(Un);for(e==null?(ht=!1,o=h):o=e,a=new f(.03125);t.abs().gte(.1);)t=t.times(a),c+=5;for(r=Math.log(Ks(2,c))/Math.LN10*2+5|0,o+=r,n=i=s=new f(Un),f.precision=o;;){if(i=et(i.times(t),o),n=n.times(++l),a=s.plus(wi(i,n,o)),Lr(a.d).slice(0,o)===Lr(s.d).slice(0,o)){for(;c--;)s=et(s.times(s),o);return f.precision=h,e==null?(ht=!0,et(s,h)):s}s=a}}function Dt(t){for(var e=t.e*lt,n=t.d[0];n>=10;n/=10)e++;return e}function Iy(t,e,n){if(e>t.LN10.sd())throw ht=!0,n&&(t.precision=n),Error(dr+"LN10 precision limit exceeded");return et(new t(t.LN10),e)}function Ki(t){for(var e="";t--;)e+="0";return e}function Ec(t,e){var n,r,i,s,a,o,l,c,f,h=1,p=10,m=t,g=m.d,w=m.constructor,_=w.precision;if(m.s<1)throw Error(dr+(m.s?"NaN":"-Infinity"));if(m.eq(Un))return new w(0);if(e==null?(ht=!1,c=_):c=e,m.eq(10))return e==null&&(ht=!0),Iy(w,c);if(c+=p,w.precision=c,n=Lr(g),r=n.charAt(0),s=Dt(m),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=Lr(m.d),r=n.charAt(0),h++;s=Dt(m),r>1?(m=new w("0."+n),s++):m=new w(r+"."+n.slice(1))}else return l=Iy(w,c+2,_).times(s+""),m=Ec(new w(r+"."+n.slice(1)),c-p).plus(l),w.precision=_,e==null?(ht=!0,et(m,_)):m;for(o=a=m=wi(m.minus(Un),m.plus(Un),c),f=et(m.times(m),c),i=3;;){if(a=et(a.times(f),c),l=o.plus(wi(a,new w(i),c)),Lr(l.d).slice(0,c)===Lr(o.d).slice(0,c))return o=o.times(2),s!==0&&(o=o.plus(Iy(w,c+2,_).times(s+""))),o=wi(o,new w(h),c),w.precision=_,e==null?(ht=!0,et(o,_)):o;o=l,i+=2}}function oN(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Nl(n/lt),t.d=[],r=(n+1)%lt,n<0&&(r+=lt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=lt;r<i;)t.d.push(+e.slice(r,r+=lt));e=e.slice(r),r=lt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),ht&&(t.e>ap||t.e<-ap))throw Error(y_+n)}else t.s=0,t.e=0,t.d=[0];return t}function et(t,e,n){var r,i,s,a,o,l,c,f,h=t.d;for(a=1,s=h[0];s>=10;s/=10)a++;if(r=e-a,r<0)r+=lt,i=e,c=h[f=0];else{if(f=Math.ceil((r+1)/lt),s=h.length,f>=s)return t;for(c=s=h[f],a=1;s>=10;s/=10)a++;r%=lt,i=r-lt+a}if(n!==void 0&&(s=Ks(10,a-i-1),o=c/s%10|0,l=e<0||h[f+1]!==void 0||c%s,l=n<4?(o||l)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?c/Ks(10,a-i):0:h[f-1])%10&1||n==(t.s<0?8:7))),e<1||!h[0])return l?(s=Dt(t),h.length=1,e=e-s-1,h[0]=Ks(10,(lt-e%lt)%lt),t.e=Nl(-e/lt)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(r==0?(h.length=f,s=1,f--):(h.length=f+1,s=Ks(10,lt-r),h[f]=i>0?(c/Ks(10,a-i)%Ks(10,i)|0)*s:0),l)for(;;)if(f==0){(h[0]+=s)==qt&&(h[0]=1,++t.e);break}else{if(h[f]+=s,h[f]!=qt)break;h[f--]=0,s=1}for(r=h.length;h[--r]===0;)h.pop();if(ht&&(t.e>ap||t.e<-ap))throw Error(y_+Dt(t));return t}function TR(t,e){var n,r,i,s,a,o,l,c,f,h,p=t.constructor,m=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),ht?et(e,m):e;if(l=t.d,h=e.d,r=e.e,c=t.e,l=l.slice(),a=c-r,a){for(f=a<0,f?(n=l,a=-a,o=h.length):(n=h,r=c,o=l.length),i=Math.max(Math.ceil(m/lt),o)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=h.length,f=i<o,f&&(o=i),i=0;i<o;i++)if(l[i]!=h[i]){f=l[i]<h[i];break}a=0}for(f&&(n=l,l=h,h=n,e.s=-e.s),o=l.length,i=h.length-o;i>0;--i)l[o++]=0;for(i=h.length;i>a;){if(l[--i]<h[i]){for(s=i;s&&l[--s]===0;)l[s]=qt-1;--l[s],l[i]+=qt}l[i]-=h[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,ht?et(e,m):e):new p(0)}function Sa(t,e,n){var r,i=Dt(t),s=Lr(t.d),a=s.length;return e?(n&&(r=n-a)>0?s=s.charAt(0)+"."+s.slice(1)+Ki(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Ki(-i-1)+s,n&&(r=n-a)>0&&(s+=Ki(r))):i>=a?(s+=Ki(i+1-a),n&&(r=n-i-1)>0&&(s=s+"."+Ki(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(s+="."),s+=Ki(r))),t.s<0?"-"+s:s}function lN(t,e){if(t.length>e)return t.length=e,!0}function NR(t){var e,n,r;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(ca+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return oN(a,s.toString())}else if(typeof s!="string")throw Error(ca+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,rre.test(s))oN(a,s);else throw Error(ca+s)}if(i.prototype=ge,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=NR,i.config=i.set=ire,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function ire(t){if(!t||typeof t!="object")throw Error(dr+"Object expected");var e,n,r,i=["precision",1,Tl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Nl(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(ca+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ca+n+": "+r);return this}var v_=NR(nre);Un=new v_(1);const Ye=v_;function sre(t){return ure(t)||lre(t)||ore(t)||are()}function are(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ore(t,e){if(t){if(typeof t=="string")return V0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V0(t,e)}}function lre(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function ure(t){if(Array.isArray(t))return V0(t)}function V0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var cre=function(e){return e},IR={"@@functional/placeholder":!0},PR=function(e){return e===IR},uN=function(e){return function n(){return arguments.length===0||arguments.length===1&&PR(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},dre=function t(e,n){return e===1?n:uN(function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var a=i.filter(function(o){return o!==IR}).length;return a>=e?n.apply(void 0,i):t(e-a,uN(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var f=i.map(function(h){return PR(h)?l.shift():h});return n.apply(void 0,sre(f).concat(l))}))})},Gm=function(e){return dre(e.length,e)},F0=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},fre=Gm(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),hre=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return cre;var i=n.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce(function(o,l){return l(o)},s.apply(void 0,arguments))}},U0=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},jR=function(e){var n=null,r=null;return function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n&&s.every(function(o,l){return o===n[l]})||(n=s,r=e.apply(void 0,s)),r}};function pre(t){var e;return t===0?e=1:e=Math.floor(new Ye(t).abs().log(10).toNumber())+1,e}function mre(t,e,n){for(var r=new Ye(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var gre=Gm(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),yre=Gm(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),vre=Gm(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Qm={rangeStep:mre,getDigitCount:pre,interpolateNumber:gre,uninterpolateNumber:yre,uninterpolateTruncation:vre};function B0(t){return wre(t)||bre(t)||OR(t)||xre()}function xre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bre(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function wre(t){if(Array.isArray(t))return z0(t)}function Ac(t,e){return Ere(t)||Sre(t,e)||OR(t,e)||_re()}function _re(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OR(t,e){if(t){if(typeof t=="string")return z0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z0(t,e)}}function z0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Sre(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,s=void 0;try{for(var a=t[Symbol.iterator](),o;!(r=(o=a.next()).done)&&(n.push(o.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,s=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw s}}return n}}function Ere(t){if(Array.isArray(t))return t}function CR(t){var e=Ac(t,2),n=e[0],r=e[1],i=n,s=r;return n>r&&(i=r,s=n),[i,s]}function kR(t,e,n){if(t.lte(0))return new Ye(0);var r=Qm.getDigitCount(t.toNumber()),i=new Ye(10).pow(r),s=t.div(i),a=r!==1?.05:.1,o=new Ye(Math.ceil(s.div(a).toNumber())).add(n).mul(a),l=o.mul(i);return e?l:new Ye(Math.ceil(l))}function Are(t,e,n){var r=1,i=new Ye(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new Ye(10).pow(Qm.getDigitCount(t)-1),i=new Ye(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Ye(Math.floor(t)))}else t===0?i=new Ye(Math.floor((e-1)/2)):n||(i=new Ye(Math.floor(t)));var a=Math.floor((e-1)/2),o=hre(fre(function(l){return i.add(new Ye(l-a).mul(r)).toNumber()}),F0);return o(0,e)}function RR(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Ye(0),tickMin:new Ye(0),tickMax:new Ye(0)};var s=kR(new Ye(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new Ye(0):(a=new Ye(t).add(e).div(2),a=a.sub(new Ye(a).mod(s)));var o=Math.ceil(a.sub(t).div(s).toNumber()),l=Math.ceil(new Ye(e).sub(a).div(s).toNumber()),c=o+l+1;return c>n?RR(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,o=e>0?o:o+(n-c)),{step:s,tickMin:a.sub(new Ye(o).mul(s)),tickMax:a.add(new Ye(l).mul(s))})}function Tre(t){var e=Ac(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),o=CR([n,r]),l=Ac(o,2),c=l[0],f=l[1];if(c===-1/0||f===1/0){var h=f===1/0?[c].concat(B0(F0(0,i-1).map(function(){return 1/0}))):[].concat(B0(F0(0,i-1).map(function(){return-1/0})),[f]);return n>r?U0(h):h}if(c===f)return Are(c,i,s);var p=RR(c,f,a,s),m=p.step,g=p.tickMin,w=p.tickMax,_=Qm.rangeStep(g,w.add(new Ye(.1).mul(m)),m);return n>r?U0(_):_}function Nre(t,e){var n=Ac(t,2),r=n[0],i=n[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=CR([r,i]),o=Ac(a,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var f=Math.max(e,2),h=kR(new Ye(c).sub(l).div(f-1),s,0),p=[].concat(B0(Qm.rangeStep(new Ye(l),new Ye(c).sub(new Ye(.99).mul(h)),h)),[c]);return r>i?U0(p):p}var Ire=jR(Tre),Pre=jR(Nre),jre="Invariant failed";function Xo(t,e){throw new Error(jre)}var Ore=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Yo(t){"@babel/helpers - typeof";return Yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yo(t)}function op(){return op=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},op.apply(this,arguments)}function Cre(t,e){return Mre(t)||Dre(t,e)||Rre(t,e)||kre()}function kre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rre(t,e){if(t){if(typeof t=="string")return cN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cN(t,e)}}function cN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Dre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function Mre(t){if(Array.isArray(t))return t}function $re(t,e){if(t==null)return{};var n=Lre(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Lre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Vre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fre(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$R(r.key),r)}}function Ure(t,e,n){return e&&Fre(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bre(t,e,n){return e=lp(e),zre(t,DR()?Reflect.construct(e,n||[],lp(t).constructor):e.apply(t,n))}function zre(t,e){if(e&&(Yo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qre(t)}function qre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DR=function(){return!!t})()}function lp(t){return lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lp(t)}function Wre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q0(t,e)}function q0(t,e){return q0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},q0(t,e)}function MR(t,e,n){return e=$R(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $R(t){var e=Hre(t,"string");return Yo(e)=="symbol"?e:e+""}function Hre(t,e){if(Yo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Yo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var x_=function(t){function e(){return Vre(this,e),Bre(this,e,arguments)}return Wre(e,t),Ure(e,[{key:"render",value:function(){var r=this.props,i=r.offset,s=r.layout,a=r.width,o=r.dataKey,l=r.data,c=r.dataPointFormatter,f=r.xAxis,h=r.yAxis,p=$re(r,Ore),m=Re(p,!1);this.props.direction==="x"&&f.type!=="number"&&Xo();var g=l.map(function(w){var _=c(w,o),b=_.x,v=_.y,x=_.value,P=_.errorVal;if(!P)return null;var A=[],N,E;if(Array.isArray(P)){var S=Cre(P,2);N=S[0],E=S[1]}else N=E=P;if(s==="vertical"){var I=f.scale,C=v+i,k=C+a,j=C-a,O=I(x-N),D=I(x+E);A.push({x1:D,y1:k,x2:D,y2:j}),A.push({x1:O,y1:C,x2:D,y2:C}),A.push({x1:O,y1:k,x2:O,y2:j})}else if(s==="horizontal"){var F=h.scale,K=b+i,B=K-a,M=K+a,U=F(x-N),V=F(x+E);A.push({x1:B,y1:V,x2:M,y2:V}),A.push({x1:K,y1:U,x2:K,y2:V}),A.push({x1:B,y1:U,x2:M,y2:U})}return W.createElement(At,op({className:"recharts-errorBar",key:"bar-".concat(A.map(function(X){return"".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))},m),A.map(function(X){return W.createElement("line",op({},X,{key:"line-".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))}))});return W.createElement(At,{className:"recharts-errorBars"},g)}}])}(W.Component);MR(x_,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});MR(x_,"displayName","ErrorBar");function Tc(t){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tc(t)}function dN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dN(Object(n),!0).forEach(function(r){Kre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kre(t,e,n){return e=Gre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gre(t){var e=Qre(t,"string");return Tc(e)=="symbol"?e:e+""}function Qre(t,e){if(Tc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Tc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LR=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,a=er(n,oa);if(!a)return null;var o=oa.defaultProps,l=o!==void 0?Vs(Vs({},o),a.props):{},c;return a.props&&a.props.payload?c=a.props&&a.props.payload:s==="children"?c=(r||[]).reduce(function(f,h){var p=h.item,m=h.props,g=m.sectors||m.data||[];return f.concat(g.map(function(w){return{type:a.props.iconType||p.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):c=(r||[]).map(function(f){var h=f.item,p=h.type.defaultProps,m=p!==void 0?Vs(Vs({},p),h.props):{},g=m.dataKey,w=m.name,_=m.legendType,b=m.hide;return{inactive:b,dataKey:g,type:l.iconType||_||"square",color:b_(h),value:w||g,payload:m}}),Vs(Vs(Vs({},l),oa.getWithHeight(a,i)),{},{payload:c,item:a})};function Nc(t){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nc(t)}function fN(t){return Zre(t)||Jre(t)||Yre(t)||Xre()}function Xre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yre(t,e){if(t){if(typeof t=="string")return W0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W0(t,e)}}function Jre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zre(t){if(Array.isArray(t))return W0(t)}function W0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function St(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hN(Object(n),!0).forEach(function(r){Ao(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ao(t,e,n){return e=eie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eie(t){var e=tie(t,"string");return Nc(e)=="symbol"?e:e+""}function tie(t,e){if(Nc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bn(t,e,n){return Fe(t)||Fe(e)?n:Vt(e)?Tr(t,e,n):De(e)?e(t):n}function Du(t,e,n,r){var i=Jne(t,function(o){return Bn(o,e)});if(n==="number"){var s=i.filter(function(o){return he(o)||parseFloat(o)});return s.length?[Km(s),Hm(s)]:[1/0,-1/0]}var a=r?i.filter(function(o){return!Fe(o)}):i;return a.map(function(o){return Vt(o)||o instanceof Date?o:""})}var nie=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,a=-1,o=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(o<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var l=s.range,c=0;c<o;c++){var f=c>0?i[c-1].coordinate:i[o-1].coordinate,h=i[c].coordinate,p=c>=o-1?i[0].coordinate:i[c+1].coordinate,m=void 0;if(sr(h-f)!==sr(p-h)){var g=[];if(sr(p-h)===sr(l[1]-l[0])){m=p;var w=h+l[1]-l[0];g[0]=Math.min(w,(w+f)/2),g[1]=Math.max(w,(w+f)/2)}else{m=f;var _=p+l[1]-l[0];g[0]=Math.min(h,(_+h)/2),g[1]=Math.max(h,(_+h)/2)}var b=[Math.min(h,(m+h)/2),Math.max(h,(m+h)/2)];if(e>b[0]&&e<=b[1]||e>=g[0]&&e<=g[1]){a=i[c].index;break}}else{var v=Math.min(f,p),x=Math.max(f,p);if(e>(v+h)/2&&e<=(x+h)/2){a=i[c].index;break}}}else for(var P=0;P<o;P++)if(P===0&&e<=(r[P].coordinate+r[P+1].coordinate)/2||P>0&&P<o-1&&e>(r[P].coordinate+r[P-1].coordinate)/2&&e<=(r[P].coordinate+r[P+1].coordinate)/2||P===o-1&&e>(r[P].coordinate+r[P-1].coordinate)/2){a=r[P].index;break}return a},b_=function(e){var n,r=e,i=r.type.displayName,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?St(St({},e.type.defaultProps),e.props):e.props,a=s.stroke,o=s.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:o;break;default:l=o;break}return l},rie=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var a={},o=Object.keys(s),l=0,c=o.length;l<c;l++)for(var f=s[o[l]].stackGroups,h=Object.keys(f),p=0,m=h.length;p<m;p++){var g=f[h[p]],w=g.items,_=g.cateAxisId,b=w.filter(function(E){return xi(E.type).indexOf("Bar")>=0});if(b&&b.length){var v=b[0].type.defaultProps,x=v!==void 0?St(St({},v),b[0].props):b[0].props,P=x.barSize,A=x[_];a[A]||(a[A]=[]);var N=Fe(P)?n:P;a[A].push({item:b[0],stackList:b.slice(1),barSize:Fe(N)?void 0:On(N,r,0)})}}return a},iie=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,s=e.sizeList,a=s===void 0?[]:s,o=e.maxBarSize,l=a.length;if(l<1)return null;var c=On(n,i,0,!0),f,h=[];if(a[0].barSize===+a[0].barSize){var p=!1,m=i/l,g=a.reduce(function(P,A){return P+A.barSize||0},0);g+=(l-1)*c,g>=i&&(g-=(l-1)*c,c=0),g>=i&&m>0&&(p=!0,m*=.9,g=l*m);var w=(i-g)/2>>0,_={offset:w-c,size:0};f=a.reduce(function(P,A){var N={item:A.item,position:{offset:_.offset+_.size+c,size:p?m:A.barSize}},E=[].concat(fN(P),[N]);return _=E[E.length-1].position,A.stackList&&A.stackList.length&&A.stackList.forEach(function(S){E.push({item:S,position:_})}),E},h)}else{var b=On(r,i,0,!0);i-2*b-(l-1)*c<=0&&(c=0);var v=(i-2*b-(l-1)*c)/l;v>1&&(v>>=0);var x=o===+o?Math.min(v,o):v;f=a.reduce(function(P,A,N){var E=[].concat(fN(P),[{item:A.item,position:{offset:b+(v+c)*N+(v-x)/2,size:x}}]);return A.stackList&&A.stackList.length&&A.stackList.forEach(function(S){E.push({item:S,position:E[E.length-1].position})}),E},h)}return f},sie=function(e,n,r,i){var s=r.children,a=r.width,o=r.margin,l=a-(o.left||0)-(o.right||0),c=LR({children:s,legendWidth:l});if(c){var f=i||{},h=f.width,p=f.height,m=c.align,g=c.verticalAlign,w=c.layout;if((w==="vertical"||w==="horizontal"&&g==="middle")&&m!=="center"&&he(e[m]))return St(St({},e),{},Ao({},m,e[m]+(h||0)));if((w==="horizontal"||w==="vertical"&&m==="center")&&g!=="middle"&&he(e[g]))return St(St({},e),{},Ao({},g,e[g]+(p||0)))}return e},aie=function(e,n,r){return Fe(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},VR=function(e,n,r,i,s){var a=n.props.children,o=Hr(a,x_).filter(function(c){return aie(i,s,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return e.reduce(function(c,f){var h=Bn(f,r);if(Fe(h))return c;var p=Array.isArray(h)?[Km(h),Hm(h)]:[h,h],m=l.reduce(function(g,w){var _=Bn(f,w,0),b=p[0]-Math.abs(Array.isArray(_)?_[0]:_),v=p[1]+Math.abs(Array.isArray(_)?_[1]:_);return[Math.min(b,g[0]),Math.max(v,g[1])]},[1/0,-1/0]);return[Math.min(m[0],c[0]),Math.max(m[1],c[1])]},[1/0,-1/0])}return null},oie=function(e,n,r,i,s){var a=n.map(function(o){return VR(e,o,r,s,i)}).filter(function(o){return!Fe(o)});return a&&a.length?a.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},FR=function(e,n,r,i,s){var a=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&VR(e,l,c,i)||Du(e,c,r,s)});if(r==="number")return a.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return a.reduce(function(l,c){for(var f=0,h=c.length;f<h;f++)o[c[f]]||(o[c[f]]=!0,l.push(c[f]));return l},[])},UR=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},yu=function(e,n,r){if(!e)return null;var i=e.scale,s=e.duplicateDomain,a=e.type,o=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?sr(o[0]-o[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var f=(e.ticks||e.niceTicks).map(function(h){var p=s?s.indexOf(h):h;return{coordinate:i(p)+c,value:h,offset:c}});return f.filter(function(h){return!dd(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,p){return{coordinate:i(h)+c,value:h,index:p,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(h){return{coordinate:i(h)+c,value:h,offset:c}}):i.domain().map(function(h,p){return{coordinate:i(h)+c,value:s?s[h]:h,index:p,offset:c}})},Py=new WeakMap,ff=function(e,n){if(typeof n!="function")return e;Py.has(e)||Py.set(e,new WeakMap);var r=Py.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},lie=function(e,n,r){var i=e.scale,s=e.type,a=e.layout,o=e.axisType;if(i==="auto")return a==="radial"&&o==="radiusAxis"?{scale:xc(),realScaleType:"band"}:a==="radial"&&o==="angleAxis"?{scale:np(),realScaleType:"linear"}:s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Ru(),realScaleType:"point"}:s==="category"?{scale:xc(),realScaleType:"band"}:{scale:np(),realScaleType:"linear"};if(cd(i)){var l="scale".concat(Cm(i));return{scale:(aN[l]||Ru)(),realScaleType:aN[l]?l:"point"}}return De(i)?{scale:i}:{scale:Ru(),realScaleType:"point"}},pN=1e-4,uie=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),s=Math.min(i[0],i[1])-pN,a=Math.max(i[0],i[1])+pN,o=e(n[0]),l=e(n[r-1]);(o<s||o>a||l<s||l>a)&&e.domain([n[0],n[r-1]])}},cie=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,a=0,o=0;o<n;++o){var l=dd(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1]):(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1])}},die=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,a=0;a<n;++a){var o=dd(e[a][r][1])?e[a][r][0]:e[a][r][1];o>=0?(e[a][r][0]=s,e[a][r][1]=s+o,s=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},fie={sign:cie,expand:Pq,none:Uo,silhouette:jq,wiggle:Oq,positive:die},hie=function(e,n,r){var i=n.map(function(o){return o.props.dataKey}),s=fie[r],a=Iq().keys(i).value(function(o,l){return+Bn(o,l,0)}).order(g0).offset(s);return a(e)},pie=function(e,n,r,i,s,a){if(!e)return null;var o=a?n.reverse():n,l={},c=o.reduce(function(h,p){var m,g=(m=p.type)!==null&&m!==void 0&&m.defaultProps?St(St({},p.type.defaultProps),p.props):p.props,w=g.stackId,_=g.hide;if(_)return h;var b=g[r],v=h[b]||{hasStack:!1,stackGroups:{}};if(Vt(w)){var x=v.stackGroups[w]||{numericAxisId:r,cateAxisId:i,items:[]};x.items.push(p),v.hasStack=!0,v.stackGroups[w]=x}else v.stackGroups[jm("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[p]};return St(St({},h),{},Ao({},b,v))},l),f={};return Object.keys(c).reduce(function(h,p){var m=c[p];if(m.hasStack){var g={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(w,_){var b=m.stackGroups[_];return St(St({},w),{},Ao({},_,{numericAxisId:r,cateAxisId:i,items:b.items,stackedData:hie(e,b.items,s)}))},g)}return St(St({},h),{},Ao({},p,m))},f)},mie=function(e,n){var r=n.realScaleType,i=n.type,s=n.tickCount,a=n.originalDomain,o=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(s&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var c=e.domain();if(!c.length)return null;var f=Ire(c,s,o);return e.domain([Km(f),Hm(f)]),{niceTicks:f}}if(s&&i==="number"){var h=e.domain(),p=Pre(h,s,o);return{niceTicks:p}}return null},gie=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?St(St({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(Vt(s)){var a=n[s];if(a){var o=a.items.indexOf(e);return o>=0?a.stackedData[o]:null}}return null},yie=function(e){return e.reduce(function(n,r){return[Km(r.concat([n[0]]).filter(he)),Hm(r.concat([n[1]]).filter(he))]},[1/0,-1/0])},BR=function(e,n,r){return Object.keys(e).reduce(function(i,s){var a=e[s],o=a.stackedData,l=o.reduce(function(c,f){var h=yie(f.slice(n,r+1));return[Math.min(c[0],h[0]),Math.max(c[1],h[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},mN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,gN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,H0=function(e,n,r){if(De(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(he(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(mN.test(e[0])){var s=+mN.exec(e[0])[1];i[0]=n[0]-s}else De(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(he(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(gN.test(e[1])){var a=+gN.exec(e[1])[1];i[1]=n[1]+a}else De(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},K0=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var s=Ww(n,function(h){return h.coordinate}),a=1/0,o=1,l=s.length;o<l;o++){var c=s[o],f=s[o-1];a=Math.min((c.coordinate||0)-(f.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},yN=function(e,n,r){return!e||!e.length||g_(e,Tr(r,"type.defaultProps.domain"))?n:e},vie=function(e,n){var r=e.type.defaultProps?St(St({},e.type.defaultProps),e.props):e.props,i=r.dataKey,s=r.name,a=r.unit,o=r.formatter,l=r.tooltipType,c=r.chartType,f=r.hide;return St(St({},Re(e,!1)),{},{dataKey:i,unit:a,formatter:o,name:s||i,color:b_(e),value:Bn(n,i),type:l,payload:n,chartType:c,hide:f})};function Ic(t){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ic(t)}function vN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ai(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vN(Object(n),!0).forEach(function(r){zR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zR(t,e,n){return e=xie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xie(t){var e=bie(t,"string");return Ic(e)=="symbol"?e:e+""}function bie(t,e){if(Ic(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ic(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wie(t,e){return Aie(t)||Eie(t,e)||Sie(t,e)||_ie()}function _ie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sie(t,e){if(t){if(typeof t=="string")return xN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xN(t,e)}}function xN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Eie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function Aie(t){if(Array.isArray(t))return t}var up=Math.PI/180,Tie=function(e){return e*180/Math.PI},it=function(e,n,r,i){return{x:e+Math.cos(-up*i)*r,y:n+Math.sin(-up*i)*r}},qR=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Nie=function(e,n,r,i,s){var a=e.width,o=e.height,l=e.startAngle,c=e.endAngle,f=On(e.cx,a,a/2),h=On(e.cy,o,o/2),p=qR(a,o,r),m=On(e.innerRadius,p,0),g=On(e.outerRadius,p,p*.8),w=Object.keys(n);return w.reduce(function(_,b){var v=n[b],x=v.domain,P=v.reversed,A;if(Fe(v.range))i==="angleAxis"?A=[l,c]:i==="radiusAxis"&&(A=[m,g]),P&&(A=[A[1],A[0]]);else{A=v.range;var N=A,E=wie(N,2);l=E[0],c=E[1]}var S=lie(v,s),I=S.realScaleType,C=S.scale;C.domain(x).range(A),uie(C);var k=mie(C,ai(ai({},v),{},{realScaleType:I})),j=ai(ai(ai({},v),k),{},{range:A,radius:g,realScaleType:I,scale:C,cx:f,cy:h,innerRadius:m,outerRadius:g,startAngle:l,endAngle:c});return ai(ai({},_),{},zR({},b,j))},{})},Iie=function(e,n){var r=e.x,i=e.y,s=n.x,a=n.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(i-a,2))},Pie=function(e,n){var r=e.x,i=e.y,s=n.cx,a=n.cy,o=Iie({x:r,y:i},{x:s,y:a});if(o<=0)return{radius:o};var l=(r-s)/o,c=Math.acos(l);return i>a&&(c=2*Math.PI-c),{radius:o,angle:Tie(c),angleInRadian:c}},jie=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),s=Math.floor(r/360),a=Math.min(i,s);return{startAngle:n-a*360,endAngle:r-a*360}},Oie=function(e,n){var r=n.startAngle,i=n.endAngle,s=Math.floor(r/360),a=Math.floor(i/360),o=Math.min(s,a);return e+o*360},bN=function(e,n){var r=e.x,i=e.y,s=Pie({x:r,y:i},n),a=s.radius,o=s.angle,l=n.innerRadius,c=n.outerRadius;if(a<l||a>c)return!1;if(a===0)return!0;var f=jie(n),h=f.startAngle,p=f.endAngle,m=o,g;if(h<=p){for(;m>p;)m-=360;for(;m<h;)m+=360;g=m>=h&&m<=p}else{for(;m>h;)m-=360;for(;m<p;)m+=360;g=m>=p&&m<=h}return g?ai(ai({},n),{},{radius:a,angle:Oie(m,n)}):null},WR=function(e){return!L.isValidElement(e)&&!De(e)&&typeof e!="boolean"?e.className:""};function Pc(t){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pc(t)}var Cie=["offset"];function kie(t){return $ie(t)||Mie(t)||Die(t)||Rie()}function Rie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Die(t,e){if(t){if(typeof t=="string")return G0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G0(t,e)}}function Mie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $ie(t){if(Array.isArray(t))return G0(t)}function G0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lie(t,e){if(t==null)return{};var n=Vie(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Vie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wN(Object(n),!0).forEach(function(r){Fie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fie(t,e,n){return e=Uie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uie(t){var e=Bie(t,"string");return Pc(e)=="symbol"?e:e+""}function Bie(t,e){if(Pc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jc(){return jc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jc.apply(this,arguments)}var zie=function(e){var n=e.value,r=e.formatter,i=Fe(e.children)?n:e.children;return De(r)?r(i):i},qie=function(e,n){var r=sr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Wie=function(e,n,r){var i=e.position,s=e.viewBox,a=e.offset,o=e.className,l=s,c=l.cx,f=l.cy,h=l.innerRadius,p=l.outerRadius,m=l.startAngle,g=l.endAngle,w=l.clockWise,_=(h+p)/2,b=qie(m,g),v=b>=0?1:-1,x,P;i==="insideStart"?(x=m+v*a,P=w):i==="insideEnd"?(x=g-v*a,P=!w):i==="end"&&(x=g+v*a,P=w),P=b<=0?P:!P;var A=it(c,f,_,x),N=it(c,f,_,x+(P?1:-1)*359),E="M".concat(A.x,",").concat(A.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(P?0:1,`,
    `).concat(N.x,",").concat(N.y),S=Fe(e.id)?jm("recharts-radial-line-"):e.id;return W.createElement("text",jc({},r,{dominantBaseline:"central",className:We("recharts-radial-bar-label",o)}),W.createElement("defs",null,W.createElement("path",{id:S,d:E})),W.createElement("textPath",{xlinkHref:"#".concat(S)},n))},Hie=function(e){var n=e.viewBox,r=e.offset,i=e.position,s=n,a=s.cx,o=s.cy,l=s.innerRadius,c=s.outerRadius,f=s.startAngle,h=s.endAngle,p=(f+h)/2;if(i==="outside"){var m=it(a,o,c+r,p),g=m.x,w=m.y;return{x:g,y:w,textAnchor:g>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"end"};var _=(l+c)/2,b=it(a,o,_,p),v=b.x,x=b.y;return{x:v,y:x,textAnchor:"middle",verticalAnchor:"middle"}},Kie=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,s=e.position,a=n,o=a.x,l=a.y,c=a.width,f=a.height,h=f>=0?1:-1,p=h*i,m=h>0?"end":"start",g=h>0?"start":"end",w=c>=0?1:-1,_=w*i,b=w>0?"end":"start",v=w>0?"start":"end";if(s==="top"){var x={x:o+c/2,y:l-h*i,textAnchor:"middle",verticalAnchor:m};return Mt(Mt({},x),r?{height:Math.max(l-r.y,0),width:c}:{})}if(s==="bottom"){var P={x:o+c/2,y:l+f+p,textAnchor:"middle",verticalAnchor:g};return Mt(Mt({},P),r?{height:Math.max(r.y+r.height-(l+f),0),width:c}:{})}if(s==="left"){var A={x:o-_,y:l+f/2,textAnchor:b,verticalAnchor:"middle"};return Mt(Mt({},A),r?{width:Math.max(A.x-r.x,0),height:f}:{})}if(s==="right"){var N={x:o+c+_,y:l+f/2,textAnchor:v,verticalAnchor:"middle"};return Mt(Mt({},N),r?{width:Math.max(r.x+r.width-N.x,0),height:f}:{})}var E=r?{width:c,height:f}:{};return s==="insideLeft"?Mt({x:o+_,y:l+f/2,textAnchor:v,verticalAnchor:"middle"},E):s==="insideRight"?Mt({x:o+c-_,y:l+f/2,textAnchor:b,verticalAnchor:"middle"},E):s==="insideTop"?Mt({x:o+c/2,y:l+p,textAnchor:"middle",verticalAnchor:g},E):s==="insideBottom"?Mt({x:o+c/2,y:l+f-p,textAnchor:"middle",verticalAnchor:m},E):s==="insideTopLeft"?Mt({x:o+_,y:l+p,textAnchor:v,verticalAnchor:g},E):s==="insideTopRight"?Mt({x:o+c-_,y:l+p,textAnchor:b,verticalAnchor:g},E):s==="insideBottomLeft"?Mt({x:o+_,y:l+f-p,textAnchor:v,verticalAnchor:m},E):s==="insideBottomRight"?Mt({x:o+c-_,y:l+f-p,textAnchor:b,verticalAnchor:m},E):vl(s)&&(he(s.x)||ea(s.x))&&(he(s.y)||ea(s.y))?Mt({x:o+On(s.x,c),y:l+On(s.y,f),textAnchor:"end",verticalAnchor:"end"},E):Mt({x:o+c/2,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},E)},Gie=function(e){return"cx"in e&&he(e.cx)};function Zt(t){var e=t.offset,n=e===void 0?5:e,r=Lie(t,Cie),i=Mt({offset:n},r),s=i.viewBox,a=i.position,o=i.value,l=i.children,c=i.content,f=i.className,h=f===void 0?"":f,p=i.textBreakAll;if(!s||Fe(o)&&Fe(l)&&!L.isValidElement(c)&&!De(c))return null;if(L.isValidElement(c))return L.cloneElement(c,i);var m;if(De(c)){if(m=L.createElement(c,i),L.isValidElement(m))return m}else m=zie(i);var g=Gie(s),w=Re(i,!0);if(g&&(a==="insideStart"||a==="insideEnd"||a==="end"))return Wie(i,m,w);var _=g?Hie(i):Kie(i);return W.createElement(Ho,jc({className:We("recharts-label",h)},w,_,{breakAll:p}),m)}Zt.displayName="Label";var HR=function(e){var n=e.cx,r=e.cy,i=e.angle,s=e.startAngle,a=e.endAngle,o=e.r,l=e.radius,c=e.innerRadius,f=e.outerRadius,h=e.x,p=e.y,m=e.top,g=e.left,w=e.width,_=e.height,b=e.clockWise,v=e.labelViewBox;if(v)return v;if(he(w)&&he(_)){if(he(h)&&he(p))return{x:h,y:p,width:w,height:_};if(he(m)&&he(g))return{x:m,y:g,width:w,height:_}}return he(h)&&he(p)?{x:h,y:p,width:0,height:0}:he(n)&&he(r)?{cx:n,cy:r,startAngle:s||i||0,endAngle:a||i||0,innerRadius:c||0,outerRadius:f||l||o||0,clockWise:b}:e.viewBox?e.viewBox:{}},Qie=function(e,n){return e?e===!0?W.createElement(Zt,{key:"label-implicit",viewBox:n}):Vt(e)?W.createElement(Zt,{key:"label-implicit",viewBox:n,value:e}):L.isValidElement(e)?e.type===Zt?L.cloneElement(e,{key:"label-implicit",viewBox:n}):W.createElement(Zt,{key:"label-implicit",content:e,viewBox:n}):De(e)?W.createElement(Zt,{key:"label-implicit",content:e,viewBox:n}):vl(e)?W.createElement(Zt,jc({viewBox:n},e,{key:"label-implicit"})):null:null},Xie=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,s=HR(e),a=Hr(i,Zt).map(function(l,c){return L.cloneElement(l,{viewBox:n||s,key:"label-".concat(c)})});if(!r)return a;var o=Qie(e.label,n||s);return[o].concat(kie(a))};Zt.parseViewBox=HR;Zt.renderCallByParent=Xie;function Yie(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Jie=Yie;const Zie=Je(Jie);function Oc(t){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oc(t)}var ese=["valueAccessor"],tse=["data","dataKey","clockWise","id","textBreakAll"];function nse(t){return ase(t)||sse(t)||ise(t)||rse()}function rse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ise(t,e){if(t){if(typeof t=="string")return Q0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q0(t,e)}}function sse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ase(t){if(Array.isArray(t))return Q0(t)}function Q0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cp(){return cp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cp.apply(this,arguments)}function _N(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_N(Object(n),!0).forEach(function(r){ose(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_N(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ose(t,e,n){return e=lse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lse(t){var e=use(t,"string");return Oc(e)=="symbol"?e:e+""}function use(t,e){if(Oc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Oc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EN(t,e){if(t==null)return{};var n=cse(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var dse=function(e){return Array.isArray(e.value)?Zie(e.value):e.value};function da(t){var e=t.valueAccessor,n=e===void 0?dse:e,r=EN(t,ese),i=r.data,s=r.dataKey,a=r.clockWise,o=r.id,l=r.textBreakAll,c=EN(r,tse);return!i||!i.length?null:W.createElement(At,{className:"recharts-label-list"},i.map(function(f,h){var p=Fe(s)?n(f,h):Bn(f&&f.payload,s),m=Fe(o)?{}:{id:"".concat(o,"-").concat(h)};return W.createElement(Zt,cp({},Re(f,!0),c,m,{parentViewBox:f.parentViewBox,value:p,textBreakAll:l,viewBox:Zt.parseViewBox(Fe(a)?f:SN(SN({},f),{},{clockWise:a})),key:"label-".concat(h),index:h}))}))}da.displayName="LabelList";function fse(t,e){return t?t===!0?W.createElement(da,{key:"labelList-implicit",data:e}):W.isValidElement(t)||De(t)?W.createElement(da,{key:"labelList-implicit",data:e,content:t}):vl(t)?W.createElement(da,cp({data:e},t,{key:"labelList-implicit"})):null:null}function hse(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Hr(r,da).map(function(a,o){return L.cloneElement(a,{data:e,key:"labelList-".concat(o)})});if(!n)return i;var s=fse(t.label,e);return[s].concat(nse(i))}da.renderCallByParent=hse;function Cc(t){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cc(t)}function X0(){return X0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X0.apply(this,arguments)}function AN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AN(Object(n),!0).forEach(function(r){pse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pse(t,e,n){return e=mse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mse(t){var e=gse(t,"string");return Cc(e)=="symbol"?e:e+""}function gse(t,e){if(Cc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Cc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yse=function(e,n){var r=sr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},hf=function(e){var n=e.cx,r=e.cy,i=e.radius,s=e.angle,a=e.sign,o=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,f=l*(o?1:-1)+i,h=Math.asin(l/f)/up,p=c?s:s+a*h,m=it(n,r,f,p),g=it(n,r,i,p),w=c?s-a*h:s,_=it(n,r,f*Math.cos(h*up),w);return{center:m,circleTangency:g,lineTangency:_,theta:h}},KR=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.startAngle,o=e.endAngle,l=yse(a,o),c=a+l,f=it(n,r,s,a),h=it(n,r,s,c),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>c),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var m=it(n,r,i,a),g=it(n,r,i,c);p+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=c),`,
            `).concat(m.x,",").concat(m.y," Z")}else p+="L ".concat(n,",").concat(r," Z");return p},vse=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,f=e.endAngle,h=sr(f-c),p=hf({cx:n,cy:r,radius:s,angle:c,sign:h,cornerRadius:a,cornerIsExternal:l}),m=p.circleTangency,g=p.lineTangency,w=p.theta,_=hf({cx:n,cy:r,radius:s,angle:f,sign:-h,cornerRadius:a,cornerIsExternal:l}),b=_.circleTangency,v=_.lineTangency,x=_.theta,P=l?Math.abs(c-f):Math.abs(c-f)-w-x;if(P<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):KR({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:c,endAngle:f});var A="M ".concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(P>180),",").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(v.x,",").concat(v.y,`
  `);if(i>0){var N=hf({cx:n,cy:r,radius:i,angle:c,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),E=N.circleTangency,S=N.lineTangency,I=N.theta,C=hf({cx:n,cy:r,radius:i,angle:f,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),k=C.circleTangency,j=C.lineTangency,O=C.theta,D=l?Math.abs(c-f):Math.abs(c-f)-I-O;if(D<0&&a===0)return"".concat(A,"L").concat(n,",").concat(r,"Z");A+="L".concat(j.x,",").concat(j.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(D>180),",").concat(+(h>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(S.x,",").concat(S.y,"Z")}else A+="L".concat(n,",").concat(r,"Z");return A},xse={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},GR=function(e){var n=TN(TN({},xse),e),r=n.cx,i=n.cy,s=n.innerRadius,a=n.outerRadius,o=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,f=n.startAngle,h=n.endAngle,p=n.className;if(a<s||f===h)return null;var m=We("recharts-sector",p),g=a-s,w=On(o,g,0,!0),_;return w>0&&Math.abs(f-h)<360?_=vse({cx:r,cy:i,innerRadius:s,outerRadius:a,cornerRadius:Math.min(w,g/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:f,endAngle:h}):_=KR({cx:r,cy:i,innerRadius:s,outerRadius:a,startAngle:f,endAngle:h}),W.createElement("path",X0({},Re(n,!0),{className:m,d:_,role:"img"}))};function kc(t){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kc(t)}function Y0(){return Y0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y0.apply(this,arguments)}function NN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NN(Object(n),!0).forEach(function(r){bse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bse(t,e,n){return e=wse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wse(t){var e=_se(t,"string");return kc(e)=="symbol"?e:e+""}function _se(t,e){if(kc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(kc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var PN={curveBasisClosed:yq,curveBasisOpen:vq,curveBasis:gq,curveBumpX:nq,curveBumpY:rq,curveLinearClosed:xq,curveLinear:Rm,curveMonotoneX:bq,curveMonotoneY:wq,curveNatural:_q,curveStep:Sq,curveStepAfter:Aq,curveStepBefore:Eq},pf=function(e){return e.x===+e.x&&e.y===+e.y},ru=function(e){return e.x},iu=function(e){return e.y},Sse=function(e,n){if(De(e))return e;var r="curve".concat(Cm(e));return(r==="curveMonotone"||r==="curveBump")&&n?PN["".concat(r).concat(n==="vertical"?"Y":"X")]:PN[r]||Rm},Ese=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,s=i===void 0?[]:i,a=e.baseLine,o=e.layout,l=e.connectNulls,c=l===void 0?!1:l,f=Sse(r,o),h=c?s.filter(function(w){return pf(w)}):s,p;if(Array.isArray(a)){var m=c?a.filter(function(w){return pf(w)}):a,g=h.map(function(w,_){return IN(IN({},w),{},{base:m[_]})});return o==="vertical"?p=rf().y(iu).x1(ru).x0(function(w){return w.base.x}):p=rf().x(ru).y1(iu).y0(function(w){return w.base.y}),p.defined(pf).curve(f),p(g)}return o==="vertical"&&he(a)?p=rf().y(iu).x1(ru).x0(a):he(a)?p=rf().x(ru).y1(iu).y0(a):p=GC().x(ru).y(iu),p.defined(pf).curve(f),p(h)},J0=function(e){var n=e.className,r=e.points,i=e.path,s=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?Ese(e):i;return W.createElement("path",Y0({},Re(e,!1),Mh(e),{className:We("recharts-curve",n),d:a,ref:s}))},QR={exports:{}},Ase="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Tse=Ase,Nse=Tse;function XR(){}function YR(){}YR.resetWarningCache=XR;var Ise=function(){function t(r,i,s,a,o,l){if(l!==Nse){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:YR,resetWarningCache:XR};return n.PropTypes=n,n};QR.exports=Ise();var Pse=QR.exports;const Ke=Je(Pse);var jse=Object.getOwnPropertyNames,Ose=Object.getOwnPropertySymbols,Cse=Object.prototype.hasOwnProperty;function jN(t,e){return function(r,i,s){return t(r,i,s)&&e(r,i,s)}}function mf(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var s=i.cache,a=s.get(n),o=s.get(r);if(a&&o)return a===r&&o===n;s.set(n,r),s.set(r,n);var l=t(n,r,i);return s.delete(n),s.delete(r),l}}function ON(t){return jse(t).concat(Ose(t))}var kse=Object.hasOwn||function(t,e){return Cse.call(t,e)};function ka(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Rse="__v",Dse="__o",Mse="_owner",CN=Object.getOwnPropertyDescriptor,kN=Object.keys;function $se(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Lse(t,e){return ka(t.getTime(),e.getTime())}function Vse(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Fse(t,e){return t===e}function RN(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.entries(),a,o,l=0;(a=s.next())&&!a.done;){for(var c=e.entries(),f=!1,h=0;(o=c.next())&&!o.done;){if(i[h]){h++;continue}var p=a.value,m=o.value;if(n.equals(p[0],m[0],l,h,t,e,n)&&n.equals(p[1],m[1],p[0],m[0],t,e,n)){f=i[h]=!0;break}h++}if(!f)return!1;l++}return!0}var Use=ka;function Bse(t,e,n){var r=kN(t),i=r.length;if(kN(e).length!==i)return!1;for(;i-- >0;)if(!JR(t,e,n,r[i]))return!1;return!0}function su(t,e,n){var r=ON(t),i=r.length;if(ON(e).length!==i)return!1;for(var s,a,o;i-- >0;)if(s=r[i],!JR(t,e,n,s)||(a=CN(t,s),o=CN(e,s),(a||o)&&(!a||!o||a.configurable!==o.configurable||a.enumerable!==o.enumerable||a.writable!==o.writable)))return!1;return!0}function zse(t,e){return ka(t.valueOf(),e.valueOf())}function qse(t,e){return t.source===e.source&&t.flags===e.flags}function DN(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.values(),a,o;(a=s.next())&&!a.done;){for(var l=e.values(),c=!1,f=0;(o=l.next())&&!o.done;){if(!i[f]&&n.equals(a.value,o.value,a.value,o.value,t,e,n)){c=i[f]=!0;break}f++}if(!c)return!1}return!0}function Wse(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Hse(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function JR(t,e,n,r){return(r===Mse||r===Dse||r===Rse)&&(t.$$typeof||e.$$typeof)?!0:kse(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var Kse="[object Arguments]",Gse="[object Boolean]",Qse="[object Date]",Xse="[object Error]",Yse="[object Map]",Jse="[object Number]",Zse="[object Object]",eae="[object RegExp]",tae="[object Set]",nae="[object String]",rae="[object URL]",iae=Array.isArray,MN=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,$N=Object.assign,sae=Object.prototype.toString.call.bind(Object.prototype.toString);function aae(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,a=t.areNumbersEqual,o=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,c=t.areRegExpsEqual,f=t.areSetsEqual,h=t.areTypedArraysEqual,p=t.areUrlsEqual;return function(g,w,_){if(g===w)return!0;if(g==null||w==null)return!1;var b=typeof g;if(b!==typeof w)return!1;if(b!=="object")return b==="number"?a(g,w,_):b==="function"?i(g,w,_):!1;var v=g.constructor;if(v!==w.constructor)return!1;if(v===Object)return o(g,w,_);if(iae(g))return e(g,w,_);if(MN!=null&&MN(g))return h(g,w,_);if(v===Date)return n(g,w,_);if(v===RegExp)return c(g,w,_);if(v===Map)return s(g,w,_);if(v===Set)return f(g,w,_);var x=sae(g);return x===Qse?n(g,w,_):x===eae?c(g,w,_):x===Yse?s(g,w,_):x===tae?f(g,w,_):x===Zse?typeof g.then!="function"&&typeof w.then!="function"&&o(g,w,_):x===rae?p(g,w,_):x===Xse?r(g,w,_):x===Kse?o(g,w,_):x===Gse||x===Jse||x===nae?l(g,w,_):!1}}function oae(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?su:$se,areDatesEqual:Lse,areErrorsEqual:Vse,areFunctionsEqual:Fse,areMapsEqual:r?jN(RN,su):RN,areNumbersEqual:Use,areObjectsEqual:r?su:Bse,arePrimitiveWrappersEqual:zse,areRegExpsEqual:qse,areSetsEqual:r?jN(DN,su):DN,areTypedArraysEqual:r?su:Wse,areUrlsEqual:Hse};if(n&&(i=$N({},i,n(i))),e){var s=mf(i.areArraysEqual),a=mf(i.areMapsEqual),o=mf(i.areObjectsEqual),l=mf(i.areSetsEqual);i=$N({},i,{areArraysEqual:s,areMapsEqual:a,areObjectsEqual:o,areSetsEqual:l})}return i}function lae(t){return function(e,n,r,i,s,a,o){return t(e,n,o)}}function uae(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,s=t.strict;if(r)return function(l,c){var f=r(),h=f.cache,p=h===void 0?e?new WeakMap:void 0:h,m=f.meta;return n(l,c,{cache:p,equals:i,meta:m,strict:s})};if(e)return function(l,c){return n(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var a={cache:void 0,equals:i,meta:void 0,strict:s};return function(l,c){return n(l,c,a)}}var cae=Rs();Rs({strict:!0});Rs({circular:!0});Rs({circular:!0,strict:!0});Rs({createInternalComparator:function(){return ka}});Rs({strict:!0,createInternalComparator:function(){return ka}});Rs({circular:!0,createInternalComparator:function(){return ka}});Rs({circular:!0,createInternalComparator:function(){return ka},strict:!0});function Rs(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,s=t.strict,a=s===void 0?!1:s,o=oae(t),l=aae(o),c=r?r(l):lae(l);return uae({circular:n,comparator:l,createState:i,equals:c,strict:a})}function dae(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function LN(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(s){n<0&&(n=s),s-n>e?(t(s),n=-1):dae(i)};requestAnimationFrame(r)}function Z0(t){"@babel/helpers - typeof";return Z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z0(t)}function fae(t){return gae(t)||mae(t)||pae(t)||hae()}function hae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pae(t,e){if(t){if(typeof t=="string")return VN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VN(t,e)}}function VN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gae(t){if(Array.isArray(t))return t}function yae(){var t={},e=function(){return null},n=!1,r=function i(s){if(!n){if(Array.isArray(s)){if(!s.length)return;var a=s,o=fae(a),l=o[0],c=o.slice(1);if(typeof l=="number"){LN(i.bind(null,c),l);return}i(l),LN(i.bind(null,c));return}Z0(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){n=!0},start:function(s){n=!1,r(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function Rc(t){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rc(t)}function FN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FN(Object(n),!0).forEach(function(r){ZR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZR(t,e,n){return e=vae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vae(t){var e=xae(t,"string");return Rc(e)==="symbol"?e:String(e)}function xae(t,e){if(Rc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Rc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bae=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(s){return i.includes(s)})})},wae=function(e){return e},_ae=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Mu=function(e,n){return Object.keys(n).reduce(function(r,i){return UN(UN({},r),{},ZR({},i,e(i,n[i])))},{})},BN=function(e,n,r){return e.map(function(i){return"".concat(_ae(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Sae(t,e){return Tae(t)||Aae(t,e)||eD(t,e)||Eae()}function Eae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function Tae(t){if(Array.isArray(t))return t}function Nae(t){return jae(t)||Pae(t)||eD(t)||Iae()}function Iae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eD(t,e){if(t){if(typeof t=="string")return ex(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ex(t,e)}}function Pae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jae(t){if(Array.isArray(t))return ex(t)}function ex(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var dp=1e-4,tD=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},nD=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},zN=function(e,n){return function(r){var i=tD(e,n);return nD(i,r)}},Oae=function(e,n){return function(r){var i=tD(e,n),s=[].concat(Nae(i.map(function(a,o){return a*o}).slice(1)),[0]);return nD(s,r)}},qN=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],s=n[1],a=n[2],o=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,s=0,a=1,o=1;break;case"ease":i=.25,s=.1,a=.25,o=1;break;case"ease-in":i=.42,s=0,a=1,o=1;break;case"ease-out":i=.42,s=0,a=.58,o=1;break;case"ease-in-out":i=0,s=0,a=.58,o=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(_){return parseFloat(_)}),f=Sae(c,4);i=f[0],s=f[1],a=f[2],o=f[3]}}}var h=zN(i,a),p=zN(s,o),m=Oae(i,a),g=function(b){return b>1?1:b<0?0:b},w=function(b){for(var v=b>1?1:b,x=v,P=0;P<8;++P){var A=h(x)-v,N=m(x);if(Math.abs(A-v)<dp||N<dp)return p(x);x=g(x-A/N)}return p(x)};return w.isStepper=!1,w},Cae=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,s=i===void 0?8:i,a=e.dt,o=a===void 0?17:a,l=function(f,h,p){var m=-(f-h)*r,g=p*s,w=p+(m-g)*o/1e3,_=p*o/1e3+f;return Math.abs(_-h)<dp&&Math.abs(w)<dp?[h,0]:[_,w]};return l.isStepper=!0,l.dt=o,l},kae=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return qN(i);case"spring":return Cae();default:if(i.split("(")[0]==="cubic-bezier")return qN(i)}return typeof i=="function"?i:null};function Dc(t){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dc(t)}function WN(t){return Mae(t)||Dae(t)||rD(t)||Rae()}function Rae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mae(t){if(Array.isArray(t))return nx(t)}function HN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HN(Object(n),!0).forEach(function(r){tx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tx(t,e,n){return e=$ae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ae(t){var e=Lae(t,"string");return Dc(e)==="symbol"?e:String(e)}function Lae(t,e){if(Dc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Dc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vae(t,e){return Bae(t)||Uae(t,e)||rD(t,e)||Fae()}function Fae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rD(t,e){if(t){if(typeof t=="string")return nx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nx(t,e)}}function nx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Uae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function Bae(t){if(Array.isArray(t))return t}var fp=function(e,n,r){return e+(n-e)*r},rx=function(e){var n=e.from,r=e.to;return n!==r},zae=function t(e,n,r){var i=Mu(function(s,a){if(rx(a)){var o=e(a.from,a.to,a.velocity),l=Vae(o,2),c=l[0],f=l[1];return Qt(Qt({},a),{},{from:c,velocity:f})}return a},n);return r<1?Mu(function(s,a){return rx(a)?Qt(Qt({},a),{},{velocity:fp(a.velocity,i[s].velocity,r),from:fp(a.from,i[s].from,r)}):a},n):t(e,i,r-1)};const qae=function(t,e,n,r,i){var s=bae(t,e),a=s.reduce(function(_,b){return Qt(Qt({},_),{},tx({},b,[t[b],e[b]]))},{}),o=s.reduce(function(_,b){return Qt(Qt({},_),{},tx({},b,{from:t[b],velocity:0,to:e[b]}))},{}),l=-1,c,f,h=function(){return null},p=function(){return Mu(function(b,v){return v.from},o)},m=function(){return!Object.values(o).filter(rx).length},g=function(b){c||(c=b);var v=b-c,x=v/n.dt;o=zae(n,o,x),i(Qt(Qt(Qt({},t),e),p())),c=b,m()||(l=requestAnimationFrame(h))},w=function(b){f||(f=b);var v=(b-f)/r,x=Mu(function(A,N){return fp.apply(void 0,WN(N).concat([n(v)]))},a);if(i(Qt(Qt(Qt({},t),e),x)),v<1)l=requestAnimationFrame(h);else{var P=Mu(function(A,N){return fp.apply(void 0,WN(N).concat([n(1)]))},a);i(Qt(Qt(Qt({},t),e),P))}};return h=n.isStepper?g:w,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(l)}}};function Jo(t){"@babel/helpers - typeof";return Jo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jo(t)}var Wae=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Hae(t,e){if(t==null)return{};var n=Kae(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Kae(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function jy(t){return Yae(t)||Xae(t)||Qae(t)||Gae()}function Gae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qae(t,e){if(t){if(typeof t=="string")return ix(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ix(t,e)}}function Xae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Yae(t){if(Array.isArray(t))return ix(t)}function ix(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function KN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KN(Object(n),!0).forEach(function(r){vu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vu(t,e,n){return e=iD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iD(r.key),r)}}function eoe(t,e,n){return e&&Zae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function iD(t){var e=toe(t,"string");return Jo(e)==="symbol"?e:String(e)}function toe(t,e){if(Jo(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Jo(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function noe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sx(t,e)}function sx(t,e){return sx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sx(t,e)}function roe(t){var e=ioe();return function(){var r=hp(t),i;if(e){var s=hp(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return ax(this,i)}}function ax(t,e){if(e&&(Jo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ox(t)}function ox(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ioe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function hp(t){return hp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hp(t)}var Ss=function(t){noe(n,t);var e=roe(n);function n(r,i){var s;Jae(this,n),s=e.call(this,r,i);var a=s.props,o=a.isActive,l=a.attributeName,c=a.from,f=a.to,h=a.steps,p=a.children,m=a.duration;if(s.handleStyleChange=s.handleStyleChange.bind(ox(s)),s.changeStyle=s.changeStyle.bind(ox(s)),!o||m<=0)return s.state={style:{}},typeof p=="function"&&(s.state={style:f}),ax(s);if(h&&h.length)s.state={style:h[0].style};else if(c){if(typeof p=="function")return s.state={style:c},ax(s);s.state={style:l?vu({},l,c):c}}else s.state={style:{}};return s}return eoe(n,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,a=i.canBegin;this.mounted=!0,!(!s||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,a=s.isActive,o=s.canBegin,l=s.attributeName,c=s.shouldReAnimate,f=s.to,h=s.from,p=this.state.style;if(o){if(!a){var m={style:l?vu({},l,f):f};this.state&&p&&(l&&p[l]!==f||!l&&p!==f)&&this.setState(m);return}if(!(cae(i.to,f)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=g||c?h:i.to;if(this.state&&p){var _={style:l?vu({},l,w):w};(l&&p[l]!==w||!l&&p!==w)&&this.setState(_)}this.runAnimation(vr(vr({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,a=i.from,o=i.to,l=i.duration,c=i.easing,f=i.begin,h=i.onAnimationEnd,p=i.onAnimationStart,m=qae(a,o,kae(c),l,this.changeStyle),g=function(){s.stopJSAnimation=m()};this.manager.start([p,f,g,l,h])}},{key:"runStepAnimation",value:function(i){var s=this,a=i.steps,o=i.begin,l=i.onAnimationStart,c=a[0],f=c.style,h=c.duration,p=h===void 0?0:h,m=function(w,_,b){if(b===0)return w;var v=_.duration,x=_.easing,P=x===void 0?"ease":x,A=_.style,N=_.properties,E=_.onAnimationEnd,S=b>0?a[b-1]:_,I=N||Object.keys(A);if(typeof P=="function"||P==="spring")return[].concat(jy(w),[s.runJSAnimation.bind(s,{from:S.style,to:A,duration:v,easing:P}),v]);var C=BN(I,v,P),k=vr(vr(vr({},S.style),A),{},{transition:C});return[].concat(jy(w),[k,v,E]).filter(wae)};return this.manager.start([l].concat(jy(a.reduce(m,[f,Math.max(p,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=yae());var s=i.begin,a=i.duration,o=i.attributeName,l=i.to,c=i.easing,f=i.onAnimationStart,h=i.onAnimationEnd,p=i.steps,m=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof c=="function"||typeof m=="function"||c==="spring"){this.runJSAnimation(i);return}if(p.length>1){this.runStepAnimation(i);return}var w=o?vu({},o,l):l,_=BN(Object.keys(w),a,c);g.start([f,s,vr(vr({},w),{},{transition:_}),a,h])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Hae(i,Wae),c=L.Children.count(s),f=this.state.style;if(typeof s=="function")return s(f);if(!o||c===0||a<=0)return s;var h=function(m){var g=m.props,w=g.style,_=w===void 0?{}:w,b=g.className,v=L.cloneElement(m,vr(vr({},l),{},{style:vr(vr({},_),f),className:b}));return v};return c===1?h(L.Children.only(s)):W.createElement("div",null,L.Children.map(s,function(p){return h(p)}))}}]),n}(L.PureComponent);Ss.displayName="Animate";Ss.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ss.propTypes={from:Ke.oneOfType([Ke.object,Ke.string]),to:Ke.oneOfType([Ke.object,Ke.string]),attributeName:Ke.string,duration:Ke.number,begin:Ke.number,easing:Ke.oneOfType([Ke.string,Ke.func]),steps:Ke.arrayOf(Ke.shape({duration:Ke.number.isRequired,style:Ke.object.isRequired,easing:Ke.oneOfType([Ke.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ke.func]),properties:Ke.arrayOf("string"),onAnimationEnd:Ke.func})),children:Ke.oneOfType([Ke.node,Ke.func]),isActive:Ke.bool,canBegin:Ke.bool,onAnimationEnd:Ke.func,shouldReAnimate:Ke.bool,onAnimationStart:Ke.func,onAnimationReStart:Ke.func};function Mc(t){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mc(t)}function pp(){return pp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pp.apply(this,arguments)}function soe(t,e){return uoe(t)||loe(t,e)||ooe(t,e)||aoe()}function aoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ooe(t,e){if(t){if(typeof t=="string")return GN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GN(t,e)}}function GN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function loe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function uoe(t){if(Array.isArray(t))return t}function QN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QN(Object(n),!0).forEach(function(r){coe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function coe(t,e,n){return e=doe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function doe(t){var e=foe(t,"string");return Mc(e)=="symbol"?e:e+""}function foe(t,e){if(Mc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Mc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YN=function(e,n,r,i,s){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),o=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,f;if(a>0&&s instanceof Array){for(var h=[0,0,0,0],p=0,m=4;p<m;p++)h[p]=s[p]>a?a:s[p];f="M".concat(e,",").concat(n+o*h[0]),h[0]>0&&(f+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(c,",").concat(e+l*h[0],",").concat(n)),f+="L ".concat(e+r-l*h[1],",").concat(n),h[1]>0&&(f+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+o*h[1])),f+="L ".concat(e+r,",").concat(n+i-o*h[2]),h[2]>0&&(f+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(c,`,
        `).concat(e+r-l*h[2],",").concat(n+i)),f+="L ".concat(e+l*h[3],",").concat(n+i),h[3]>0&&(f+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-o*h[3])),f+="Z"}else if(a>0&&s===+s&&s>0){var g=Math.min(a,s);f="M ".concat(e,",").concat(n+o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+l*g,",").concat(n,`
            L `).concat(e+r-l*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+r,",").concat(n+o*g,`
            L `).concat(e+r,",").concat(n+i-o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+r-l*g,",").concat(n+i,`
            L `).concat(e+l*g,",").concat(n+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e,",").concat(n+i-o*g," Z")}else f="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return f},hoe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,s=n.x,a=n.y,o=n.width,l=n.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(s,s+o),f=Math.max(s,s+o),h=Math.min(a,a+l),p=Math.max(a,a+l);return r>=c&&r<=f&&i>=h&&i<=p}return!1},poe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},w_=function(e){var n=XN(XN({},poe),e),r=L.useRef(),i=L.useState(-1),s=soe(i,2),a=s[0],o=s[1];L.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var P=r.current.getTotalLength();P&&o(P)}catch{}},[]);var l=n.x,c=n.y,f=n.width,h=n.height,p=n.radius,m=n.className,g=n.animationEasing,w=n.animationDuration,_=n.animationBegin,b=n.isAnimationActive,v=n.isUpdateAnimationActive;if(l!==+l||c!==+c||f!==+f||h!==+h||f===0||h===0)return null;var x=We("recharts-rectangle",m);return v?W.createElement(Ss,{canBegin:a>0,from:{width:f,height:h,x:l,y:c},to:{width:f,height:h,x:l,y:c},duration:w,animationEasing:g,isActive:v},function(P){var A=P.width,N=P.height,E=P.x,S=P.y;return W.createElement(Ss,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:w,isActive:b,easing:g},W.createElement("path",pp({},Re(n,!0),{className:x,d:YN(E,S,A,N,p),ref:r})))}):W.createElement("path",pp({},Re(n,!0),{className:x,d:YN(l,c,f,h,p)}))},moe=["points","className","baseLinePoints","connectNulls"];function uo(){return uo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uo.apply(this,arguments)}function goe(t,e){if(t==null)return{};var n=yoe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yoe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function JN(t){return woe(t)||boe(t)||xoe(t)||voe()}function voe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xoe(t,e){if(t){if(typeof t=="string")return lx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lx(t,e)}}function boe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function woe(t){if(Array.isArray(t))return lx(t)}function lx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ZN=function(e){return e&&e.x===+e.x&&e.y===+e.y},_oe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){ZN(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),ZN(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},$u=function(e,n){var r=_oe(e);n&&(r=[r.reduce(function(s,a){return[].concat(JN(s),JN(a))},[])]);var i=r.map(function(s){return s.reduce(function(a,o,l){return"".concat(a).concat(l===0?"M":"L").concat(o.x,",").concat(o.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},Soe=function(e,n,r){var i=$u(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat($u(n.reverse(),r).slice(1))},Eoe=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,s=e.connectNulls,a=goe(e,moe);if(!n||!n.length)return null;var o=We("recharts-polygon",r);if(i&&i.length){var l=a.stroke&&a.stroke!=="none",c=Soe(n,i,s);return W.createElement("g",{className:o},W.createElement("path",uo({},Re(a,!0),{fill:c.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:c})),l?W.createElement("path",uo({},Re(a,!0),{fill:"none",d:$u(n,s)})):null,l?W.createElement("path",uo({},Re(a,!0),{fill:"none",d:$u(i,s)})):null)}var f=$u(n,s);return W.createElement("path",uo({},Re(a,!0),{fill:f.slice(-1)==="Z"?a.fill:"none",className:o,d:f}))};function ux(){return ux=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ux.apply(this,arguments)}var __=function(e){var n=e.cx,r=e.cy,i=e.r,s=e.className,a=We("recharts-dot",s);return n===+n&&r===+r&&i===+i?W.createElement("circle",ux({},Re(e,!1),Mh(e),{className:a,cx:n,cy:r,r:i})):null};function $c(t){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$c(t)}var Aoe=["x","y","top","left","width","height","className"];function cx(){return cx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cx.apply(this,arguments)}function eI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Toe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eI(Object(n),!0).forEach(function(r){Noe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Noe(t,e,n){return e=Ioe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ioe(t){var e=Poe(t,"string");return $c(e)=="symbol"?e:e+""}function Poe(t,e){if($c(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if($c(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function joe(t,e){if(t==null)return{};var n=Ooe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ooe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Coe=function(e,n,r,i,s,a){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},koe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,a=e.top,o=a===void 0?0:a,l=e.left,c=l===void 0?0:l,f=e.width,h=f===void 0?0:f,p=e.height,m=p===void 0?0:p,g=e.className,w=joe(e,Aoe),_=Toe({x:r,y:s,top:o,left:c,width:h,height:m},w);return!he(r)||!he(s)||!he(h)||!he(m)||!he(o)||!he(c)?null:W.createElement("path",cx({},Re(_,!0),{className:We("recharts-cross",g),d:Coe(r,s,h,m,o,c)}))},Roe=Wm,Doe=wR,Moe=Os;function $oe(t,e){return t&&t.length?Roe(t,Moe(e),Doe):void 0}var Loe=$oe;const Voe=Je(Loe);var Foe=Wm,Uoe=Os,Boe=_R;function zoe(t,e){return t&&t.length?Foe(t,Uoe(e),Boe):void 0}var qoe=zoe;const Woe=Je(qoe);var Hoe=["cx","cy","angle","ticks","axisLine"],Koe=["ticks","tick","angle","tickFormatter","stroke"];function Zo(t){"@babel/helpers - typeof";return Zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zo(t)}function Lu(){return Lu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lu.apply(this,arguments)}function tI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tI(Object(n),!0).forEach(function(r){Xm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nI(t,e){if(t==null)return{};var n=Goe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Goe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Qoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aD(r.key),r)}}function Xoe(t,e,n){return e&&rI(t.prototype,e),n&&rI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yoe(t,e,n){return e=mp(e),Joe(t,sD()?Reflect.construct(e,n||[],mp(t).constructor):e.apply(t,n))}function Joe(t,e){if(e&&(Zo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zoe(t)}function Zoe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sD=function(){return!!t})()}function mp(t){return mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mp(t)}function ele(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dx(t,e)}function dx(t,e){return dx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dx(t,e)}function Xm(t,e,n){return e=aD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aD(t){var e=tle(t,"string");return Zo(e)=="symbol"?e:e+""}function tle(t,e){if(Zo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Zo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ym=function(t){function e(){return Qoe(this,e),Yoe(this,e,arguments)}return ele(e,t),Xoe(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,s=this.props,a=s.angle,o=s.cx,l=s.cy;return it(o,l,i,a)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,s=r.cy,a=r.angle,o=r.ticks,l=Voe(o,function(f){return f.coordinate||0}),c=Woe(o,function(f){return f.coordinate||0});return{cx:i,cy:s,startAngle:a,endAngle:a,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,a=r.angle,o=r.ticks,l=r.axisLine,c=nI(r,Hoe),f=o.reduce(function(g,w){return[Math.min(g[0],w.coordinate),Math.max(g[1],w.coordinate)]},[1/0,-1/0]),h=it(i,s,f[0],a),p=it(i,s,f[1],a),m=Fs(Fs(Fs({},Re(c,!1)),{},{fill:"none"},Re(l,!1)),{},{x1:h.x,y1:h.y,x2:p.x,y2:p.y});return W.createElement("line",Lu({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,a=i.tick,o=i.angle,l=i.tickFormatter,c=i.stroke,f=nI(i,Koe),h=this.getTickTextAnchor(),p=Re(f,!1),m=Re(a,!1),g=s.map(function(w,_){var b=r.getTickValueCoord(w),v=Fs(Fs(Fs(Fs({textAnchor:h,transform:"rotate(".concat(90-o,", ").concat(b.x,", ").concat(b.y,")")},p),{},{stroke:"none",fill:c},m),{},{index:_},b),{},{payload:w});return W.createElement(At,Lu({className:We("recharts-polar-radius-axis-tick",WR(a)),key:"tick-".concat(w.coordinate)},Om(r.props,w,_)),e.renderTickItem(a,v,l?l(w.value,_):w.value))});return W.createElement(At,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.axisLine,a=r.tick;return!i||!i.length?null:W.createElement(At,{className:We("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),a&&this.renderTicks(),Zt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,s){var a;return W.isValidElement(r)?a=W.cloneElement(r,i):De(r)?a=r(i):a=W.createElement(Ho,Lu({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),a}}])}(L.PureComponent);Xm(Ym,"displayName","PolarRadiusAxis");Xm(Ym,"axisType","radiusAxis");Xm(Ym,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function el(t){"@babel/helpers - typeof";return el=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},el(t)}function Qs(){return Qs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qs.apply(this,arguments)}function iI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Us(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iI(Object(n),!0).forEach(function(r){Jm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lD(r.key),r)}}function rle(t,e,n){return e&&sI(t.prototype,e),n&&sI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ile(t,e,n){return e=gp(e),sle(t,oD()?Reflect.construct(e,n||[],gp(t).constructor):e.apply(t,n))}function sle(t,e){if(e&&(el(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ale(t)}function ale(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oD=function(){return!!t})()}function gp(t){return gp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gp(t)}function ole(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fx(t,e)}function fx(t,e){return fx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fx(t,e)}function Jm(t,e,n){return e=lD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lD(t){var e=lle(t,"string");return el(e)=="symbol"?e:e+""}function lle(t,e){if(el(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(el(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ule=Math.PI/180,aI=1e-5,Zm=function(t){function e(){return nle(this,e),ile(this,e,arguments)}return ole(e,t),rle(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.cx,a=i.cy,o=i.radius,l=i.orientation,c=i.tickSize,f=c||8,h=it(s,a,o,r.coordinate),p=it(s,a,o+(l==="inner"?-1:1)*f,r.coordinate);return{x1:h.x,y1:h.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,s=Math.cos(-r.coordinate*ule),a;return s>aI?a=i==="outer"?"start":"end":s<-aI?a=i==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,a=r.radius,o=r.axisLine,l=r.axisLineType,c=Us(Us({},Re(this.props,!1)),{},{fill:"none"},Re(o,!1));if(l==="circle")return W.createElement(__,Qs({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:s,r:a}));var f=this.props.ticks,h=f.map(function(p){return it(i,s,a,p.coordinate)});return W.createElement(Eoe,Qs({className:"recharts-polar-angle-axis-line"},c,{points:h}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,a=i.tick,o=i.tickLine,l=i.tickFormatter,c=i.stroke,f=Re(this.props,!1),h=Re(a,!1),p=Us(Us({},f),{},{fill:"none"},Re(o,!1)),m=s.map(function(g,w){var _=r.getTickLineCoord(g),b=r.getTickTextAnchor(g),v=Us(Us(Us({textAnchor:b},f),{},{stroke:"none",fill:c},h),{},{index:w,payload:g,x:_.x2,y:_.y2});return W.createElement(At,Qs({className:We("recharts-polar-angle-axis-tick",WR(a)),key:"tick-".concat(g.coordinate)},Om(r.props,g,w)),o&&W.createElement("line",Qs({className:"recharts-polar-angle-axis-tick-line"},p,_)),a&&e.renderTickItem(a,v,l?l(g.value,w):g.value))});return W.createElement(At,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.radius,a=r.axisLine;return s<=0||!i||!i.length?null:W.createElement(At,{className:We("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,s){var a;return W.isValidElement(r)?a=W.cloneElement(r,i):De(r)?a=r(i):a=W.createElement(Ho,Qs({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),a}}])}(L.PureComponent);Jm(Zm,"displayName","PolarAngleAxis");Jm(Zm,"axisType","angleAxis");Jm(Zm,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var cle=vk,dle=cle(Object.getPrototypeOf,Object),fle=dle,hle=Mi,ple=fle,mle=$i,gle="[object Object]",yle=Function.prototype,vle=Object.prototype,uD=yle.toString,xle=vle.hasOwnProperty,ble=uD.call(Object);function wle(t){if(!mle(t)||hle(t)!=gle)return!1;var e=ple(t);if(e===null)return!0;var n=xle.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&uD.call(n)==ble}var _le=wle;const Sle=Je(_le);var Ele=Mi,Ale=$i,Tle="[object Boolean]";function Nle(t){return t===!0||t===!1||Ale(t)&&Ele(t)==Tle}var Ile=Nle;const Ple=Je(Ile);function Lc(t){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lc(t)}function yp(){return yp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yp.apply(this,arguments)}function jle(t,e){return Rle(t)||kle(t,e)||Cle(t,e)||Ole()}function Ole(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cle(t,e){if(t){if(typeof t=="string")return oI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oI(t,e)}}function oI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kle(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function Rle(t){if(Array.isArray(t))return t}function lI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lI(Object(n),!0).forEach(function(r){Dle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dle(t,e,n){return e=Mle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mle(t){var e=$le(t,"string");return Lc(e)=="symbol"?e:e+""}function $le(t,e){if(Lc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Lc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cI=function(e,n,r,i,s){var a=r-i,o;return o="M ".concat(e,",").concat(n),o+="L ".concat(e+r,",").concat(n),o+="L ".concat(e+r-a/2,",").concat(n+s),o+="L ".concat(e+r-a/2-i,",").concat(n+s),o+="L ".concat(e,",").concat(n," Z"),o},Lle={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Vle=function(e){var n=uI(uI({},Lle),e),r=L.useRef(),i=L.useState(-1),s=jle(i,2),a=s[0],o=s[1];L.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var x=r.current.getTotalLength();x&&o(x)}catch{}},[]);var l=n.x,c=n.y,f=n.upperWidth,h=n.lowerWidth,p=n.height,m=n.className,g=n.animationEasing,w=n.animationDuration,_=n.animationBegin,b=n.isUpdateAnimationActive;if(l!==+l||c!==+c||f!==+f||h!==+h||p!==+p||f===0&&h===0||p===0)return null;var v=We("recharts-trapezoid",m);return b?W.createElement(Ss,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:p,x:l,y:c},to:{upperWidth:f,lowerWidth:h,height:p,x:l,y:c},duration:w,animationEasing:g,isActive:b},function(x){var P=x.upperWidth,A=x.lowerWidth,N=x.height,E=x.x,S=x.y;return W.createElement(Ss,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:w,easing:g},W.createElement("path",yp({},Re(n,!0),{className:v,d:cI(E,S,P,A,N),ref:r})))}):W.createElement("g",null,W.createElement("path",yp({},Re(n,!0),{className:v,d:cI(l,c,f,h,p)})))},Fle=["option","shapeType","propTransformer","activeClassName","isActive"];function Vc(t){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vc(t)}function Ule(t,e){if(t==null)return{};var n=Ble(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ble(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function dI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dI(Object(n),!0).forEach(function(r){zle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zle(t,e,n){return e=qle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qle(t){var e=Wle(t,"string");return Vc(e)=="symbol"?e:e+""}function Wle(t,e){if(Vc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Vc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hle(t,e){return vp(vp({},e),t)}function Kle(t,e){return t==="symbols"}function fI(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return W.createElement(w_,n);case"trapezoid":return W.createElement(Vle,n);case"sector":return W.createElement(GR,n);case"symbols":if(Kle(e))return W.createElement(Mw,n);break;default:return null}}function Gle(t){return L.isValidElement(t)?t.props:t}function Qle(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Hle:r,s=t.activeClassName,a=s===void 0?"recharts-active-shape":s,o=t.isActive,l=Ule(t,Fle),c;if(L.isValidElement(e))c=L.cloneElement(e,vp(vp({},l),Gle(e)));else if(De(e))c=e(l);else if(Sle(e)&&!Ple(e)){var f=i(e,l);c=W.createElement(fI,{shapeType:n,elementProps:f})}else{var h=l;c=W.createElement(fI,{shapeType:n,elementProps:h})}return o?W.createElement(At,{className:a},c):c}function eg(t,e){return e!=null&&"trapezoids"in t.props}function tg(t,e){return e!=null&&"sectors"in t.props}function Fc(t,e){return e!=null&&"points"in t.props}function Xle(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,s=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&s}function Yle(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Jle(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Zle(t,e){var n;return eg(t,e)?n=Xle:tg(t,e)?n=Yle:Fc(t,e)&&(n=Jle),n}function eue(t,e){var n;return eg(t,e)?n="trapezoids":tg(t,e)?n="sectors":Fc(t,e)&&(n="points"),n}function tue(t,e){if(eg(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(tg(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Fc(t,e)?e.payload:{}}function nue(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=eue(n,e),s=tue(n,e),a=r.filter(function(l,c){var f=g_(s,l),h=n.props[i].filter(function(g){var w=Zle(n,e);return w(g,e)}),p=n.props[i].indexOf(h[h.length-1]),m=c===p;return f&&m}),o=r.indexOf(a[a.length-1]);return o}var zf;function tl(t){"@babel/helpers - typeof";return tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tl(t)}function co(){return co=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},co.apply(this,arguments)}function hI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hI(Object(n),!0).forEach(function(r){rr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dD(r.key),r)}}function iue(t,e,n){return e&&pI(t.prototype,e),n&&pI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function sue(t,e,n){return e=xp(e),aue(t,cD()?Reflect.construct(e,n||[],xp(t).constructor):e.apply(t,n))}function aue(t,e){if(e&&(tl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oue(t)}function oue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cD=function(){return!!t})()}function xp(t){return xp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xp(t)}function lue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hx(t,e)}function hx(t,e){return hx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hx(t,e)}function rr(t,e,n){return e=dD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dD(t){var e=uue(t,"string");return tl(e)=="symbol"?e:e+""}function uue(t,e){if(tl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(tl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vi=function(t){function e(n){var r;return rue(this,e),r=sue(this,e,[n]),rr(r,"pieRef",null),rr(r,"sectorRefs",[]),rr(r,"id",jm("recharts-pie-")),rr(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),De(i)&&i()}),rr(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),De(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return lue(e,t),iue(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.label,o=s.labelLine,l=s.dataKey,c=s.valueKey,f=Re(this.props,!1),h=Re(a,!1),p=Re(o,!1),m=a&&a.offsetRadius||20,g=r.map(function(w,_){var b=(w.startAngle+w.endAngle)/2,v=it(w.cx,w.cy,w.outerRadius+m,b),x=tt(tt(tt(tt({},f),w),{},{stroke:"none"},h),{},{index:_,textAnchor:e.getTextAnchor(v.x,w.cx)},v),P=tt(tt(tt(tt({},f),w),{},{fill:"none",stroke:w.fill},p),{},{index:_,points:[it(w.cx,w.cy,w.outerRadius,b),v]}),A=l;return Fe(l)&&Fe(c)?A="value":Fe(l)&&(A=c),W.createElement(At,{key:"label-".concat(w.startAngle,"-").concat(w.endAngle,"-").concat(w.midAngle,"-").concat(_)},o&&e.renderLabelLineItem(o,P,"line"),e.renderLabelItem(a,x,Bn(w,A)))});return W.createElement(At,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(r){var i=this,s=this.props,a=s.activeShape,o=s.blendStroke,l=s.inactiveShape;return r.map(function(c,f){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&r.length!==1)return null;var h=i.isActiveIndex(f),p=l&&i.hasActiveIndex()?l:null,m=h?a:p,g=tt(tt({},c),{},{stroke:o?c.fill:c.stroke,tabIndex:-1});return W.createElement(At,co({ref:function(_){_&&!i.sectorRefs.includes(_)&&i.sectorRefs.push(_)},tabIndex:-1,className:"recharts-pie-sector"},Om(i.props,c,f),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(f)}),W.createElement(Qle,co({option:m,isActive:h,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,s=i.sectors,a=i.isAnimationActive,o=i.animationBegin,l=i.animationDuration,c=i.animationEasing,f=i.animationId,h=this.state,p=h.prevSectors,m=h.prevIsAnimationActive;return W.createElement(Ss,{begin:o,duration:l,isActive:a,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var w=g.t,_=[],b=s&&s[0],v=b.startAngle;return s.forEach(function(x,P){var A=p&&p[P],N=P>0?Tr(x,"paddingAngle",0):0;if(A){var E=aA(A.endAngle-A.startAngle,x.endAngle-x.startAngle),S=tt(tt({},x),{},{startAngle:v+N,endAngle:v+E(w)+N});_.push(S),v=S.endAngle}else{var I=x.endAngle,C=x.startAngle,k=aA(0,I-C),j=k(w),O=tt(tt({},x),{},{startAngle:v+N,endAngle:v+j+N});_.push(O),v=O.endAngle}}),W.createElement(At,null,r.renderSectorsStatically(_))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var a=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"ArrowRight":{var o=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,s=r.isAnimationActive,a=this.state.prevSectors;return s&&i&&i.length&&(!a||!g_(a,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,s=i.hide,a=i.sectors,o=i.className,l=i.label,c=i.cx,f=i.cy,h=i.innerRadius,p=i.outerRadius,m=i.isAnimationActive,g=this.state.isAnimationFinished;if(s||!a||!a.length||!he(c)||!he(f)||!he(h)||!he(p))return null;var w=We("recharts-pie",o);return W.createElement(At,{tabIndex:this.props.rootTabIndex,className:w,ref:function(b){r.pieRef=b}},this.renderSectors(),l&&this.renderLabels(a),Zt.renderCallByParent(this.props,null,!1),(!m||g)&&da.renderCallByParent(this.props,a,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,s){if(W.isValidElement(r))return W.cloneElement(r,i);if(De(r))return r(i);var a=We("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return W.createElement(J0,co({},i,{key:s,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(r,i,s){if(W.isValidElement(r))return W.cloneElement(r,i);var a=s;if(De(r)&&(a=r(i),W.isValidElement(a)))return a;var o=We("recharts-pie-label-text",typeof r!="boolean"&&!De(r)?r.className:"");return W.createElement(Ho,co({},i,{alignmentBaseline:"middle",className:o}),a)}}])}(L.PureComponent);zf=Vi;rr(Vi,"displayName","Pie");rr(Vi,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!la.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});rr(Vi,"parseDeltaAngle",function(t,e){var n=sr(e-t),r=Math.min(Math.abs(e-t),360);return n*r});rr(Vi,"getRealPieData",function(t){var e=t.data,n=t.children,r=Re(t,!1),i=Hr(n,Kw);return e&&e.length?e.map(function(s,a){return tt(tt(tt({payload:s},r),s),i&&i[a]&&i[a].props)}):i&&i.length?i.map(function(s){return tt(tt({},r),s.props)}):[]});rr(Vi,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,s=e.height,a=qR(i,s),o=r+On(t.cx,i,i/2),l=n+On(t.cy,s,s/2),c=On(t.innerRadius,a,0),f=On(t.outerRadius,a,a*.8),h=t.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:o,cy:l,innerRadius:c,outerRadius:f,maxRadius:h}});rr(Vi,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?tt(tt({},e.type.defaultProps),e.props):e.props,i=zf.getRealPieData(r);if(!i||!i.length)return null;var s=r.cornerRadius,a=r.startAngle,o=r.endAngle,l=r.paddingAngle,c=r.dataKey,f=r.nameKey,h=r.valueKey,p=r.tooltipType,m=Math.abs(r.minAngle),g=zf.parseCoordinateOfPie(r,n),w=zf.parseDeltaAngle(a,o),_=Math.abs(w),b=c;Fe(c)&&Fe(h)?(bi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):Fe(c)&&(bi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=h);var v=i.filter(function(S){return Bn(S,b,0)!==0}).length,x=(_>=360?v:v-1)*l,P=_-v*m-x,A=i.reduce(function(S,I){var C=Bn(I,b,0);return S+(he(C)?C:0)},0),N;if(A>0){var E;N=i.map(function(S,I){var C=Bn(S,b,0),k=Bn(S,f,I),j=(he(C)?C:0)/A,O;I?O=E.endAngle+sr(w)*l*(C!==0?1:0):O=a;var D=O+sr(w)*((C!==0?m:0)+j*P),F=(O+D)/2,K=(g.innerRadius+g.outerRadius)/2,B=[{name:k,value:C,payload:S,dataKey:b,type:p}],M=it(g.cx,g.cy,K,F);return E=tt(tt(tt({percent:j,cornerRadius:s,name:k,tooltipPayload:B,midAngle:F,middleRadius:K,tooltipPosition:M},S),g),{},{value:Bn(S,b),startAngle:O,endAngle:D,payload:S,paddingAngle:sr(w)*l}),E})}return tt(tt({},g),{},{sectors:N,data:i})});var cue=Math.ceil,due=Math.max;function fue(t,e,n,r){for(var i=-1,s=due(cue((e-t)/(n||1)),0),a=Array(s);s--;)a[r?s:++i]=t,t+=n;return a}var hue=fue,pue=Mk,mI=1/0,mue=17976931348623157e292;function gue(t){if(!t)return t===0?t:0;if(t=pue(t),t===mI||t===-mI){var e=t<0?-1:1;return e*mue}return t===t?t:0}var yue=gue,vue=hue,xue=Lm,Oy=yue;function bue(t){return function(e,n,r){return r&&typeof r!="number"&&xue(e,n,r)&&(n=r=void 0),e=Oy(e),n===void 0?(n=e,e=0):n=Oy(n),r=r===void 0?e<n?1:-1:Oy(r),vue(e,n,r,t)}}var wue=bue,_ue=wue,Sue=_ue(),Eue=Sue;const bp=Je(Eue);function Uc(t){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uc(t)}function gI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gI(Object(n),!0).forEach(function(r){fD(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fD(t,e,n){return e=Aue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Aue(t){var e=Tue(t,"string");return Uc(e)=="symbol"?e:e+""}function Tue(t,e){if(Uc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Uc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nue=["Webkit","Moz","O","ms"],Iue=function(e,n){var r=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=Nue.reduce(function(s,a){return yI(yI({},s),{},fD({},a+r,n))},{});return i[e]=n,i};function nl(t){"@babel/helpers - typeof";return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nl(t)}function wp(){return wp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wp.apply(this,arguments)}function vI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vI(Object(n),!0).forEach(function(r){Vn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pD(r.key),r)}}function jue(t,e,n){return e&&xI(t.prototype,e),n&&xI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Oue(t,e,n){return e=_p(e),Cue(t,hD()?Reflect.construct(e,n||[],_p(t).constructor):e.apply(t,n))}function Cue(t,e){if(e&&(nl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kue(t)}function kue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hD=function(){return!!t})()}function _p(t){return _p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_p(t)}function Rue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&px(t,e)}function px(t,e){return px=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},px(t,e)}function Vn(t,e,n){return e=pD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pD(t){var e=Due(t,"string");return nl(e)=="symbol"?e:e+""}function Due(t,e){if(nl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(nl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mue=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,s=e.x,a=e.width,o=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=Ru().domain(bp(0,l)).range([s,s+a-o]),f=c.domain().map(function(h){return c(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:f}},bI=function(e){return e.changedTouches&&!!e.changedTouches.length},rl=function(t){function e(n){var r;return Pue(this,e),r=Oue(this,e,[n]),Vn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Vn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Vn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,s=i.endIndex,a=i.onDragEnd,o=i.startIndex;a==null||a({endIndex:s,startIndex:o})}),r.detachDragEndListener()}),Vn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Vn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Vn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Vn(r,"handleSlideDragStart",function(i){var s=bI(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Rue(e,t),jue(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,s=r.endX,a=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,f=c.length-1,h=Math.min(i,s),p=Math.max(i,s),m=e.getIndexInRange(a,h),g=e.getIndexInRange(a,p);return{startIndex:m-m%l,endIndex:g===f?f:g-g%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,s=i.data,a=i.tickFormatter,o=i.dataKey,l=Bn(s[r],o,r);return De(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,s=i.slideMoveStartX,a=i.startX,o=i.endX,l=this.props,c=l.x,f=l.width,h=l.travellerWidth,p=l.startIndex,m=l.endIndex,g=l.onChange,w=r.pageX-s;w>0?w=Math.min(w,c+f-h-o,c+f-h-a):w<0&&(w=Math.max(w,c-a,c-o));var _=this.getIndex({startX:a+w,endX:o+w});(_.startIndex!==p||_.endIndex!==m)&&g&&g(_),this.setState({startX:a+w,endX:o+w,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var s=bI(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,s=i.brushMoveStartX,a=i.movingTravellerId,o=i.endX,l=i.startX,c=this.state[a],f=this.props,h=f.x,p=f.width,m=f.travellerWidth,g=f.onChange,w=f.gap,_=f.data,b={startX:this.state.startX,endX:this.state.endX},v=r.pageX-s;v>0?v=Math.min(v,h+p-m-c):v<0&&(v=Math.max(v,h-c)),b[a]=c+v;var x=this.getIndex(b),P=x.startIndex,A=x.endIndex,N=function(){var S=_.length-1;return a==="startX"&&(o>l?P%w===0:A%w===0)||o<l&&A===S||a==="endX"&&(o>l?A%w===0:P%w===0)||o>l&&A===S};this.setState(Vn(Vn({},a,c+v),"brushMoveStartX",r.pageX),function(){g&&N()&&g(x)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var s=this,a=this.state,o=a.scaleValues,l=a.startX,c=a.endX,f=this.state[i],h=o.indexOf(f);if(h!==-1){var p=h+r;if(!(p===-1||p>=o.length)){var m=o[p];i==="startX"&&m>=c||i==="endX"&&m<=l||this.setState(Vn({},i,m),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,o=r.height,l=r.fill,c=r.stroke;return W.createElement("rect",{stroke:c,fill:l,x:i,y:s,width:a,height:o})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,o=r.height,l=r.data,c=r.children,f=r.padding,h=L.Children.only(c);return h?W.cloneElement(h,{x:i,y:s,width:a,height:o,margin:f,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var s,a,o=this,l=this.props,c=l.y,f=l.travellerWidth,h=l.height,p=l.traveller,m=l.ariaLabel,g=l.data,w=l.startIndex,_=l.endIndex,b=Math.max(r,this.props.x),v=Cy(Cy({},Re(this.props,!1)),{},{x:b,y:c,width:f,height:h}),x=m||"Min value: ".concat((s=g[w])===null||s===void 0?void 0:s.name,", Max value: ").concat((a=g[_])===null||a===void 0?void 0:a.name);return W.createElement(At,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(A){["ArrowLeft","ArrowRight"].includes(A.key)&&(A.preventDefault(),A.stopPropagation(),o.handleTravellerMoveKeyboard(A.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(p,v))}},{key:"renderSlide",value:function(r,i){var s=this.props,a=s.y,o=s.height,l=s.stroke,c=s.travellerWidth,f=Math.min(r,i)+c,h=Math.max(Math.abs(i-r)-c,0);return W.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:f,y:a,width:h,height:o})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,s=r.endIndex,a=r.y,o=r.height,l=r.travellerWidth,c=r.stroke,f=this.state,h=f.startX,p=f.endX,m=5,g={pointerEvents:"none",fill:c};return W.createElement(At,{className:"recharts-brush-texts"},W.createElement(Ho,wp({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,p)-m,y:a+o/2},g),this.getTextOfTick(i)),W.createElement(Ho,wp({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,p)+l+m,y:a+o/2},g),this.getTextOfTick(s)))}},{key:"render",value:function(){var r=this.props,i=r.data,s=r.className,a=r.children,o=r.x,l=r.y,c=r.width,f=r.height,h=r.alwaysShowText,p=this.state,m=p.startX,g=p.endX,w=p.isTextActive,_=p.isSlideMoving,b=p.isTravellerMoving,v=p.isTravellerFocused;if(!i||!i.length||!he(o)||!he(l)||!he(c)||!he(f)||c<=0||f<=0)return null;var x=We("recharts-brush",s),P=W.Children.count(a)===1,A=Iue("userSelect","none");return W.createElement(At,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:A},this.renderBackground(),P&&this.renderPanorama(),this.renderSlide(m,g),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(g,"endX"),(w||_||b||v||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,s=r.y,a=r.width,o=r.height,l=r.stroke,c=Math.floor(s+o/2)-1;return W.createElement(W.Fragment,null,W.createElement("rect",{x:i,y:s,width:a,height:o,fill:l,stroke:"none"}),W.createElement("line",{x1:i+1,y1:c,x2:i+a-1,y2:c,fill:"none",stroke:"#fff"}),W.createElement("line",{x1:i+1,y1:c+2,x2:i+a-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var s;return W.isValidElement(r)?s=W.cloneElement(r,i):De(r)?s=r(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(r,i){var s=r.data,a=r.width,o=r.x,l=r.travellerWidth,c=r.updateId,f=r.startIndex,h=r.endIndex;if(s!==i.prevData||c!==i.prevUpdateId)return Cy({prevData:s,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:a},s&&s.length?Mue({data:s,width:a,x:o,travellerWidth:l,startIndex:f,endIndex:h}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+a-l]);var p=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:s,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(r,i){for(var s=r.length,a=0,o=s-1;o-a>1;){var l=Math.floor((a+o)/2);r[l]>i?o=l:a=l}return i>=r[o]?o:a}}])}(L.PureComponent);Vn(rl,"displayName","Brush");Vn(rl,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var $ue=qw;function Lue(t,e){var n;return $ue(t,function(r,i,s){return n=e(r,i,s),!n}),!!n}var Vue=Lue,Fue=ck,Uue=Os,Bue=Vue,zue=$n,que=Lm;function Wue(t,e,n){var r=zue(t)?Fue:Bue;return n&&que(t,e,n)&&(e=void 0),r(t,Uue(e))}var Hue=Wue;const Kue=Je(Hue);var Gr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},wI=Ok;function Gue(t,e,n){e=="__proto__"&&wI?wI(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Que=Gue,Xue=Que,Yue=Pk,Jue=Os;function Zue(t,e){var n={};return e=Jue(e),Yue(t,function(r,i,s){Xue(n,i,e(r,i,s))}),n}var ece=Zue;const tce=Je(ece);function nce(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var rce=nce,ice=qw;function sce(t,e){var n=!0;return ice(t,function(r,i,s){return n=!!e(r,i,s),n}),n}var ace=sce,oce=rce,lce=ace,uce=Os,cce=$n,dce=Lm;function fce(t,e,n){var r=cce(t)?oce:lce;return n&&dce(t,e,n)&&(e=void 0),r(t,uce(e))}var hce=fce;const pce=Je(hce);function Bc(t){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bc(t)}function mce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _I(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mD(r.key),r)}}function gce(t,e,n){return e&&_I(t.prototype,e),n&&_I(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function SI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SI(Object(n),!0).forEach(function(r){S_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function S_(t,e,n){return e=mD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mD(t){var e=yce(t,"string");return Bc(e)=="symbol"?e:e+""}function yce(t,e){if(Bc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Bc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gD=function(e,n){var r=e.x,i=e.y,s=n.x,a=n.y;return{x:Math.min(r,s),y:Math.min(i,a),width:Math.abs(s-r),height:Math.abs(a-i)}},vce=function(e){var n=e.x1,r=e.y1,i=e.x2,s=e.y2;return gD({x:n,y:r},{x:i,y:s})},yD=function(){function t(e){mce(this,t),this.scale=e}return gce(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,s=r.position;if(n!==void 0){if(s)switch(s){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(n)+o}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],s=r[r.length-1];return i<=s?n>=i&&n<=s:n>=s&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();S_(yD,"EPS",1e-4);var E_=function(e){var n=Object.keys(e).reduce(function(r,i){return gf(gf({},r),{},S_({},i,yD.create(e[i])))},{});return gf(gf({},n),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,o=s.position;return tce(i,function(l,c){return n[c].apply(l,{bandAware:a,position:o})})},isInRange:function(i){return pce(i,function(s,a){return n[a].isInRange(s)})}})},xce=G8(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),vD=L.createContext(void 0),xD=L.createContext(void 0),bD=L.createContext(void 0),bce=L.createContext({}),wD=L.createContext(void 0),wce=L.createContext(0),_ce=L.createContext(0),EI=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,s=n.offset,a=e.clipPathId,o=e.children,l=e.width,c=e.height,f=xce(s);return W.createElement(vD.Provider,{value:r},W.createElement(xD.Provider,{value:i},W.createElement(bce.Provider,{value:s},W.createElement(bD.Provider,{value:f},W.createElement(wD.Provider,{value:a},W.createElement(wce.Provider,{value:c},W.createElement(_ce.Provider,{value:l},o)))))))},Sce=function(){return L.useContext(wD)},Ece=function(e){var n=L.useContext(vD);n==null&&Xo();var r=n[e];return r==null&&Xo(),r},Ace=function(e){var n=L.useContext(xD);n==null&&Xo();var r=n[e];return r==null&&Xo(),r},Tce=function(){var e=L.useContext(bD);return e};function il(t){"@babel/helpers - typeof";return il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},il(t)}function Nce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ice(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,SD(r.key),r)}}function Pce(t,e,n){return e&&Ice(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jce(t,e,n){return e=Sp(e),Oce(t,_D()?Reflect.construct(e,n||[],Sp(t).constructor):e.apply(t,n))}function Oce(t,e){if(e&&(il(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cce(t)}function Cce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _D(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_D=function(){return!!t})()}function Sp(t){return Sp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sp(t)}function kce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mx(t,e)}function mx(t,e){return mx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mx(t,e)}function AI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AI(Object(n),!0).forEach(function(r){A_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function A_(t,e,n){return e=SD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SD(t){var e=Rce(t,"string");return il(e)=="symbol"?e:e+""}function Rce(t,e){if(il(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(il(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dce(t,e){return Vce(t)||Lce(t,e)||$ce(t,e)||Mce()}function Mce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ce(t,e){if(t){if(typeof t=="string")return NI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NI(t,e)}}function NI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function Vce(t){if(Array.isArray(t))return t}function gx(){return gx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gx.apply(this,arguments)}var Fce=function(e,n){var r;return W.isValidElement(e)?r=W.cloneElement(e,n):De(e)?r=e(n):r=W.createElement("line",gx({},n,{className:"recharts-reference-line-line"})),r},Uce=function(e,n,r,i,s,a,o,l,c){var f=s.x,h=s.y,p=s.width,m=s.height;if(r){var g=c.y,w=e.y.apply(g,{position:a});if(Gr(c,"discard")&&!e.y.isInRange(w))return null;var _=[{x:f+p,y:w},{x:f,y:w}];return l==="left"?_.reverse():_}if(n){var b=c.x,v=e.x.apply(b,{position:a});if(Gr(c,"discard")&&!e.x.isInRange(v))return null;var x=[{x:v,y:h+m},{x:v,y:h}];return o==="top"?x.reverse():x}if(i){var P=c.segment,A=P.map(function(N){return e.apply(N,{position:a})});return Gr(c,"discard")&&Kue(A,function(N){return!e.isInRange(N)})?null:A}return null};function Bce(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,s=t.yAxisId,a=t.shape,o=t.className,l=t.alwaysShow,c=Sce(),f=Ece(i),h=Ace(s),p=Tce();if(!c||!p)return null;bi(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=E_({x:f.scale,y:h.scale}),g=Vt(e),w=Vt(n),_=r&&r.length===2,b=Uce(m,g,w,_,p,t.position,f.orientation,h.orientation,t);if(!b)return null;var v=Dce(b,2),x=v[0],P=x.x,A=x.y,N=v[1],E=N.x,S=N.y,I=Gr(t,"hidden")?"url(#".concat(c,")"):void 0,C=TI(TI({clipPath:I},Re(t,!0)),{},{x1:P,y1:A,x2:E,y2:S});return W.createElement(At,{className:We("recharts-reference-line",o)},Fce(a,C),Zt.renderCallByParent(t,vce({x1:P,y1:A,x2:E,y2:S})))}var T_=function(t){function e(){return Nce(this,e),jce(this,e,arguments)}return kce(e,t),Pce(e,[{key:"render",value:function(){return W.createElement(Bce,this.props)}}])}(W.Component);A_(T_,"displayName","ReferenceLine");A_(T_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function yx(){return yx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yx.apply(this,arguments)}function sl(t){"@babel/helpers - typeof";return sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sl(t)}function II(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?II(Object(n),!0).forEach(function(r){ng(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):II(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,AD(r.key),r)}}function Wce(t,e,n){return e&&qce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hce(t,e,n){return e=Ep(e),Kce(t,ED()?Reflect.construct(e,n||[],Ep(t).constructor):e.apply(t,n))}function Kce(t,e){if(e&&(sl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gce(t)}function Gce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ED(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ED=function(){return!!t})()}function Ep(t){return Ep=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ep(t)}function Qce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vx(t,e)}function vx(t,e){return vx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vx(t,e)}function ng(t,e,n){return e=AD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AD(t){var e=Xce(t,"string");return sl(e)=="symbol"?e:e+""}function Xce(t,e){if(sl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(sl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yce=function(e){var n=e.x,r=e.y,i=e.xAxis,s=e.yAxis,a=E_({x:i.scale,y:s.scale}),o=a.apply({x:n,y:r},{bandAware:!0});return Gr(e,"discard")&&!a.isInRange(o)?null:o},rg=function(t){function e(){return zce(this,e),Hce(this,e,arguments)}return Qce(e,t),Wce(e,[{key:"render",value:function(){var r=this.props,i=r.x,s=r.y,a=r.r,o=r.alwaysShow,l=r.clipPathId,c=Vt(i),f=Vt(s);if(bi(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!f)return null;var h=Yce(this.props);if(!h)return null;var p=h.x,m=h.y,g=this.props,w=g.shape,_=g.className,b=Gr(this.props,"hidden")?"url(#".concat(l,")"):void 0,v=PI(PI({clipPath:b},Re(this.props,!0)),{},{cx:p,cy:m});return W.createElement(At,{className:We("recharts-reference-dot",_)},e.renderDot(w,v),Zt.renderCallByParent(this.props,{x:p-a,y:m-a,width:2*a,height:2*a}))}}])}(W.Component);ng(rg,"displayName","ReferenceDot");ng(rg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});ng(rg,"renderDot",function(t,e){var n;return W.isValidElement(t)?n=W.cloneElement(t,e):De(t)?n=t(e):n=W.createElement(__,yx({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function xx(){return xx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xx.apply(this,arguments)}function al(t){"@babel/helpers - typeof";return al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},al(t)}function jI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jI(Object(n),!0).forEach(function(r){ig(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ND(r.key),r)}}function ede(t,e,n){return e&&Zce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tde(t,e,n){return e=Ap(e),nde(t,TD()?Reflect.construct(e,n||[],Ap(t).constructor):e.apply(t,n))}function nde(t,e){if(e&&(al(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rde(t)}function rde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TD=function(){return!!t})()}function Ap(t){return Ap=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ap(t)}function ide(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bx(t,e)}function bx(t,e){return bx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bx(t,e)}function ig(t,e,n){return e=ND(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ND(t){var e=sde(t,"string");return al(e)=="symbol"?e:e+""}function sde(t,e){if(al(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(al(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ade=function(e,n,r,i,s){var a=s.x1,o=s.x2,l=s.y1,c=s.y2,f=s.xAxis,h=s.yAxis;if(!f||!h)return null;var p=E_({x:f.scale,y:h.scale}),m={x:e?p.x.apply(a,{position:"start"}):p.x.rangeMin,y:r?p.y.apply(l,{position:"start"}):p.y.rangeMin},g={x:n?p.x.apply(o,{position:"end"}):p.x.rangeMax,y:i?p.y.apply(c,{position:"end"}):p.y.rangeMax};return Gr(s,"discard")&&(!p.isInRange(m)||!p.isInRange(g))?null:gD(m,g)},sg=function(t){function e(){return Jce(this,e),tde(this,e,arguments)}return ide(e,t),ede(e,[{key:"render",value:function(){var r=this.props,i=r.x1,s=r.x2,a=r.y1,o=r.y2,l=r.className,c=r.alwaysShow,f=r.clipPathId;bi(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=Vt(i),p=Vt(s),m=Vt(a),g=Vt(o),w=this.props.shape;if(!h&&!p&&!m&&!g&&!w)return null;var _=ade(h,p,m,g,this.props);if(!_&&!w)return null;var b=Gr(this.props,"hidden")?"url(#".concat(f,")"):void 0;return W.createElement(At,{className:We("recharts-reference-area",l)},e.renderRect(w,OI(OI({clipPath:b},Re(this.props,!0)),_)),Zt.renderCallByParent(this.props,_))}}])}(W.Component);ig(sg,"displayName","ReferenceArea");ig(sg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});ig(sg,"renderRect",function(t,e){var n;return W.isValidElement(t)?n=W.cloneElement(t,e):De(t)?n=t(e):n=W.createElement(w_,xx({},e,{className:"recharts-reference-area-rect"})),n});function CI(t){return cde(t)||ude(t)||lde(t)||ode()}function ode(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lde(t,e){if(t){if(typeof t=="string")return wx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wx(t,e)}}function ude(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cde(t){if(Array.isArray(t))return wx(t)}function wx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var _x=function(e,n,r,i,s){var a=Hr(e,T_),o=Hr(e,rg),l=[].concat(CI(a),CI(o)),c=Hr(e,sg),f="".concat(i,"Id"),h=i[0],p=n;if(l.length&&(p=l.reduce(function(w,_){if(_.props[f]===r&&Gr(_.props,"extendDomain")&&he(_.props[h])){var b=_.props[h];return[Math.min(w[0],b),Math.max(w[1],b)]}return w},p)),c.length){var m="".concat(h,"1"),g="".concat(h,"2");p=c.reduce(function(w,_){if(_.props[f]===r&&Gr(_.props,"extendDomain")&&he(_.props[m])&&he(_.props[g])){var b=_.props[m],v=_.props[g];return[Math.min(w[0],b,v),Math.max(w[1],b,v)]}return w},p)}return s&&s.length&&(p=s.reduce(function(w,_){return he(_)?[Math.min(w[0],_),Math.max(w[1],_)]:w},p)),p},ID={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,f){this.fn=l,this.context=c,this.once=f||!1}function s(l,c,f,h,p){if(typeof f!="function")throw new TypeError("The listener must be a function");var m=new i(f,h||l,p),g=n?n+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],m]:l._events[g].push(m):(l._events[g]=m,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],f,h;if(this._eventsCount===0)return c;for(h in f=this._events)e.call(f,h)&&c.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},o.prototype.listeners=function(c){var f=n?n+c:c,h=this._events[f];if(!h)return[];if(h.fn)return[h.fn];for(var p=0,m=h.length,g=new Array(m);p<m;p++)g[p]=h[p].fn;return g},o.prototype.listenerCount=function(c){var f=n?n+c:c,h=this._events[f];return h?h.fn?1:h.length:0},o.prototype.emit=function(c,f,h,p,m,g){var w=n?n+c:c;if(!this._events[w])return!1;var _=this._events[w],b=arguments.length,v,x;if(_.fn){switch(_.once&&this.removeListener(c,_.fn,void 0,!0),b){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,f),!0;case 3:return _.fn.call(_.context,f,h),!0;case 4:return _.fn.call(_.context,f,h,p),!0;case 5:return _.fn.call(_.context,f,h,p,m),!0;case 6:return _.fn.call(_.context,f,h,p,m,g),!0}for(x=1,v=new Array(b-1);x<b;x++)v[x-1]=arguments[x];_.fn.apply(_.context,v)}else{var P=_.length,A;for(x=0;x<P;x++)switch(_[x].once&&this.removeListener(c,_[x].fn,void 0,!0),b){case 1:_[x].fn.call(_[x].context);break;case 2:_[x].fn.call(_[x].context,f);break;case 3:_[x].fn.call(_[x].context,f,h);break;case 4:_[x].fn.call(_[x].context,f,h,p);break;default:if(!v)for(A=1,v=new Array(b-1);A<b;A++)v[A-1]=arguments[A];_[x].fn.apply(_[x].context,v)}}return!0},o.prototype.on=function(c,f,h){return s(this,c,f,h,!1)},o.prototype.once=function(c,f,h){return s(this,c,f,h,!0)},o.prototype.removeListener=function(c,f,h,p){var m=n?n+c:c;if(!this._events[m])return this;if(!f)return a(this,m),this;var g=this._events[m];if(g.fn)g.fn===f&&(!p||g.once)&&(!h||g.context===h)&&a(this,m);else{for(var w=0,_=[],b=g.length;w<b;w++)(g[w].fn!==f||p&&!g[w].once||h&&g[w].context!==h)&&_.push(g[w]);_.length?this._events[m]=_.length===1?_[0]:_:a(this,m)}return this},o.prototype.removeAllListeners=function(c){var f;return c?(f=n?n+c:c,this._events[f]&&a(this,f)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(ID);var dde=ID.exports;const fde=Je(dde);var ky=new fde,Ry="recharts.syncMouseEvents";function zc(t){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(t)}function hde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pde(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,PD(r.key),r)}}function mde(t,e,n){return e&&pde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dy(t,e,n){return e=PD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PD(t){var e=gde(t,"string");return zc(e)=="symbol"?e:e+""}function gde(t,e){if(zc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var yde=function(){function t(){hde(this,t),Dy(this,"activeIndex",0),Dy(this,"coordinateList",[]),Dy(this,"layout","horizontal")}return mde(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,s=i===void 0?null:i,a=n.container,o=a===void 0?null:a,l=n.layout,c=l===void 0?null:l,f=n.offset,h=f===void 0?null:f,p=n.mouseHandlerCallback,m=p===void 0?null:p;this.coordinateList=(r=s??this.coordinateList)!==null&&r!==void 0?r:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,a=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,f=((r=window)===null||r===void 0?void 0:r.scrollY)||0,h=s+l+c,p=a+this.offset.top+o/2+f;this.mouseHandlerCallback({pageX:h,pageY:p})}}}])}();function vde(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&he(r)&&he(i))return!0}return!1}function xde(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function jD(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,s=t.endAngle,a=it(e,n,r,i),o=it(e,n,r,s);return{points:[a,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function bde(t,e,n){var r,i,s,a;if(t==="horizontal")r=e.x,s=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,c=e.innerRadius,f=e.outerRadius,h=e.angle,p=it(o,l,c,h),m=it(o,l,f,h);r=p.x,i=p.y,s=m.x,a=m.y}else return jD(e);return[{x:r,y:i},{x:s,y:a}]}function qc(t){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qc(t)}function kI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kI(Object(n),!0).forEach(function(r){wde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wde(t,e,n){return e=_de(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _de(t){var e=Sde(t,"string");return qc(e)=="symbol"?e:e+""}function Sde(t,e){if(qc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ede(t){var e,n,r=t.element,i=t.tooltipEventType,s=t.isActive,a=t.activeCoordinate,o=t.activePayload,l=t.offset,c=t.activeTooltipIndex,f=t.tooltipAxisBandSize,h=t.layout,p=t.chartName,m=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!s||!a||p!=="ScatterChart"&&i!=="axis")return null;var g,w=J0;if(p==="ScatterChart")g=a,w=koe;else if(p==="BarChart")g=xde(h,a,l,f),w=w_;else if(h==="radial"){var _=jD(a),b=_.cx,v=_.cy,x=_.radius,P=_.startAngle,A=_.endAngle;g={cx:b,cy:v,startAngle:P,endAngle:A,innerRadius:x,outerRadius:x},w=GR}else g={points:bde(h,a,l)},w=J0;var N=yf(yf(yf(yf({stroke:"#ccc",pointerEvents:"none"},l),g),Re(m,!1)),{},{payload:o,payloadIndex:c,className:We("recharts-tooltip-cursor",m.className)});return L.isValidElement(m)?L.cloneElement(m,N):L.createElement(w,N)}var Ade=["item"],Tde=["children","className","width","height","style","compact","title","desc"];function ol(t){"@babel/helpers - typeof";return ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ol(t)}function fo(){return fo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fo.apply(this,arguments)}function RI(t,e){return Pde(t)||Ide(t,e)||CD(t,e)||Nde()}function Nde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ide(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function Pde(t){if(Array.isArray(t))return t}function DI(t,e){if(t==null)return{};var n=jde(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ode(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cde(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kD(r.key),r)}}function kde(t,e,n){return e&&Cde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rde(t,e,n){return e=Tp(e),Dde(t,OD()?Reflect.construct(e,n||[],Tp(t).constructor):e.apply(t,n))}function Dde(t,e){if(e&&(ol(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mde(t)}function Mde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OD=function(){return!!t})()}function Tp(t){return Tp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tp(t)}function $de(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sx(t,e)}function Sx(t,e){return Sx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Sx(t,e)}function ll(t){return Fde(t)||Vde(t)||CD(t)||Lde()}function Lde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CD(t,e){if(t){if(typeof t=="string")return Ex(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ex(t,e)}}function Vde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Fde(t){if(Array.isArray(t))return Ex(t)}function Ex(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function MI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Z(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MI(Object(n),!0).forEach(function(r){Ae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ae(t,e,n){return e=kD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kD(t){var e=Ude(t,"string");return ol(e)=="symbol"?e:e+""}function Ude(t,e){if(ol(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ol(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bde={xAxis:["bottom","top"],yAxis:["left","right"]},zde={width:"100%",height:"100%"},RD={x:0,y:0};function vf(t){return t}var qde=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Wde=function(e,n,r,i){var s=n.find(function(f){return f&&f.index===r});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var a=s.coordinate,o=i.radius;return Z(Z(Z({},i),it(i.cx,i.cy,o,a)),{},{angle:a,radius:o})}var l=s.coordinate,c=i.angle;return Z(Z(Z({},i),it(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return RD},ag=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,s=n.dataEndIndex,a=(r??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(ll(o),ll(c)):o},[]);return a.length>0?a:e&&e.length&&he(i)&&he(s)?e.slice(i,s+1):[]};function DD(t){return t==="number"?[0,"auto"]:void 0}var Ax=function(e,n,r,i){var s=e.graphicalItems,a=e.tooltipAxis,o=ag(n,e);return r<0||!s||!s.length||r>=o.length?null:s.reduce(function(l,c){var f,h=(f=c.props.data)!==null&&f!==void 0?f:n;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var p;if(a.dataKey&&!a.allowDuplicatedCategory){var m=h===void 0?o:h;p=i0(m,a.dataKey,i)}else p=h&&h[r]||o[r];return p?[].concat(ll(l),[vie(c,p)]):l},[])},$I=function(e,n,r,i){var s=i||{x:e.chartX,y:e.chartY},a=qde(s,r),o=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,f=nie(a,o,c,l);if(f>=0&&c){var h=c[f]&&c[f].value,p=Ax(e,n,f,h),m=Wde(r,o,f,s);return{activeTooltipIndex:f,activeLabel:h,activePayload:p,activeCoordinate:m}}return null},Hde=function(e,n){var r=n.axes,i=n.graphicalItems,s=n.axisType,a=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,f=e.layout,h=e.children,p=e.stackOffset,m=UR(f,s);return r.reduce(function(g,w){var _,b=w.type.defaultProps!==void 0?Z(Z({},w.type.defaultProps),w.props):w.props,v=b.type,x=b.dataKey,P=b.allowDataOverflow,A=b.allowDuplicatedCategory,N=b.scale,E=b.ticks,S=b.includeHidden,I=b[a];if(g[I])return g;var C=ag(e.data,{graphicalItems:i.filter(function($){var G,ee=a in $.props?$.props[a]:(G=$.type.defaultProps)===null||G===void 0?void 0:G[a];return ee===I}),dataStartIndex:l,dataEndIndex:c}),k=C.length,j,O,D;vde(b.domain,P,v)&&(j=H0(b.domain,null,P),m&&(v==="number"||N!=="auto")&&(D=Du(C,x,"category")));var F=DD(v);if(!j||j.length===0){var K,B=(K=b.domain)!==null&&K!==void 0?K:F;if(x){if(j=Du(C,x,v),v==="category"&&m){var M=Wz(j);A&&M?(O=j,j=bp(0,k)):A||(j=yN(B,j,w).reduce(function($,G){return $.indexOf(G)>=0?$:[].concat(ll($),[G])},[]))}else if(v==="category")A?j=j.filter(function($){return $!==""&&!Fe($)}):j=yN(B,j,w).reduce(function($,G){return $.indexOf(G)>=0||G===""||Fe(G)?$:[].concat(ll($),[G])},[]);else if(v==="number"){var U=oie(C,i.filter(function($){var G,ee,fe=a in $.props?$.props[a]:(G=$.type.defaultProps)===null||G===void 0?void 0:G[a],z="hide"in $.props?$.props.hide:(ee=$.type.defaultProps)===null||ee===void 0?void 0:ee.hide;return fe===I&&(S||!z)}),x,s,f);U&&(j=U)}m&&(v==="number"||N!=="auto")&&(D=Du(C,x,"category"))}else m?j=bp(0,k):o&&o[I]&&o[I].hasStack&&v==="number"?j=p==="expand"?[0,1]:BR(o[I].stackGroups,l,c):j=FR(C,i.filter(function($){var G=a in $.props?$.props[a]:$.type.defaultProps[a],ee="hide"in $.props?$.props.hide:$.type.defaultProps.hide;return G===I&&(S||!ee)}),v,f,!0);if(v==="number")j=_x(h,j,I,s,E),B&&(j=H0(B,j,P));else if(v==="category"&&B){var V=B,X=j.every(function($){return V.indexOf($)>=0});X&&(j=V)}}return Z(Z({},g),{},Ae({},I,Z(Z({},b),{},{axisType:s,domain:j,categoricalDomain:D,duplicateDomain:O,originalDomain:(_=b.domain)!==null&&_!==void 0?_:F,isCategorical:m,layout:f})))},{})},Kde=function(e,n){var r=n.graphicalItems,i=n.Axis,s=n.axisType,a=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,f=e.layout,h=e.children,p=ag(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),m=p.length,g=UR(f,s),w=-1;return r.reduce(function(_,b){var v=b.type.defaultProps!==void 0?Z(Z({},b.type.defaultProps),b.props):b.props,x=v[a],P=DD("number");if(!_[x]){w++;var A;return g?A=bp(0,m):o&&o[x]&&o[x].hasStack?(A=BR(o[x].stackGroups,l,c),A=_x(h,A,x,s)):(A=H0(P,FR(p,r.filter(function(N){var E,S,I=a in N.props?N.props[a]:(E=N.type.defaultProps)===null||E===void 0?void 0:E[a],C="hide"in N.props?N.props.hide:(S=N.type.defaultProps)===null||S===void 0?void 0:S.hide;return I===x&&!C}),"number",f),i.defaultProps.allowDataOverflow),A=_x(h,A,x,s)),Z(Z({},_),{},Ae({},x,Z(Z({axisType:s},i.defaultProps),{},{hide:!0,orientation:Tr(Bde,"".concat(s,".").concat(w%2),null),domain:A,originalDomain:P,isCategorical:g,layout:f})))}return _},{})},Gde=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,s=n.AxisComp,a=n.graphicalItems,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,f=e.children,h="".concat(i,"Id"),p=Hr(f,s),m={};return p&&p.length?m=Hde(e,{axes:p,graphicalItems:a,axisType:i,axisIdKey:h,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):a&&a.length&&(m=Kde(e,{Axis:s,graphicalItems:a,axisType:i,axisIdKey:h,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),m},Qde=function(e){var n=Ka(e),r=yu(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:Ww(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:K0(n,r)}},LI=function(e){var n=e.children,r=e.defaultShowTooltip,i=er(n,rl),s=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},Xde=function(e){return!e||!e.length?!1:e.some(function(n){var r=xi(n&&n.type);return r&&r.indexOf("Bar")>=0})},VI=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Yde=function(e,n){var r=e.props,i=e.graphicalItems,s=e.xAxisMap,a=s===void 0?{}:s,o=e.yAxisMap,l=o===void 0?{}:o,c=r.width,f=r.height,h=r.children,p=r.margin||{},m=er(h,rl),g=er(h,oa),w=Object.keys(l).reduce(function(A,N){var E=l[N],S=E.orientation;return!E.mirror&&!E.hide?Z(Z({},A),{},Ae({},S,A[S]+E.width)):A},{left:p.left||0,right:p.right||0}),_=Object.keys(a).reduce(function(A,N){var E=a[N],S=E.orientation;return!E.mirror&&!E.hide?Z(Z({},A),{},Ae({},S,Tr(A,"".concat(S))+E.height)):A},{top:p.top||0,bottom:p.bottom||0}),b=Z(Z({},_),w),v=b.bottom;m&&(b.bottom+=m.props.height||rl.defaultProps.height),g&&n&&(b=sie(b,i,r,n));var x=c-b.left-b.right,P=f-b.top-b.bottom;return Z(Z({brushBottom:v},b),{},{width:Math.max(x,0),height:Math.max(P,0)})},Jde=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},Zde=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,a=e.validateTooltipEventTypes,o=a===void 0?["axis"]:a,l=e.axisComponents,c=e.legendContent,f=e.formatAxisMap,h=e.defaultProps,p=function(b,v){var x=v.graphicalItems,P=v.stackGroups,A=v.offset,N=v.updateId,E=v.dataStartIndex,S=v.dataEndIndex,I=b.barSize,C=b.layout,k=b.barGap,j=b.barCategoryGap,O=b.maxBarSize,D=VI(C),F=D.numericAxisName,K=D.cateAxisName,B=Xde(x),M=[];return x.forEach(function(U,V){var X=ag(b.data,{graphicalItems:[U],dataStartIndex:E,dataEndIndex:S}),$=U.type.defaultProps!==void 0?Z(Z({},U.type.defaultProps),U.props):U.props,G=$.dataKey,ee=$.maxBarSize,fe=$["".concat(F,"Id")],z=$["".concat(K,"Id")],J={},se=l.reduce(function(Tt,mr){var Xn=v["".concat(mr.axisType,"Map")],ye=$["".concat(mr.axisType,"Id")];Xn&&Xn[ye]||mr.axisType==="zAxis"||Xo();var Ee=Xn[ye];return Z(Z({},Tt),{},Ae(Ae({},mr.axisType,Ee),"".concat(mr.axisType,"Ticks"),yu(Ee)))},J),q=se[K],ce=se["".concat(K,"Ticks")],te=P&&P[fe]&&P[fe].hasStack&&gie(U,P[fe].stackGroups),Q=xi(U.type).indexOf("Bar")>=0,de=K0(q,ce),oe=[],we=B&&rie({barSize:I,stackGroups:P,totalSize:Jde(se,K)});if(Q){var Me,pt,Ot=Fe(ee)?O:ee,dt=(Me=(pt=K0(q,ce,!0))!==null&&pt!==void 0?pt:Ot)!==null&&Me!==void 0?Me:0;oe=iie({barGap:k,barCategoryGap:j,bandSize:dt!==de?dt:de,sizeList:we[z],maxBarSize:Ot}),dt!==de&&(oe=oe.map(function(Tt){return Z(Z({},Tt),{},{position:Z(Z({},Tt.position),{},{offset:Tt.position.offset-dt/2})})}))}var xt=U&&U.type&&U.type.getComposedData;xt&&M.push({props:Z(Z({},xt(Z(Z({},se),{},{displayedData:X,props:b,dataKey:G,item:U,bandSize:de,barPosition:oe,offset:A,stackedData:te,layout:C,dataStartIndex:E,dataEndIndex:S}))),{},Ae(Ae(Ae({key:U.key||"item-".concat(V)},F,se[F]),K,se[K]),"animationId",N)),childIndex:n7(U,b.children),item:U})}),M},m=function(b,v){var x=b.props,P=b.dataStartIndex,A=b.dataEndIndex,N=b.updateId;if(!dA({props:x}))return null;var E=x.children,S=x.layout,I=x.stackOffset,C=x.data,k=x.reverseStackOrder,j=VI(S),O=j.numericAxisName,D=j.cateAxisName,F=Hr(E,r),K=pie(C,F,"".concat(O,"Id"),"".concat(D,"Id"),I,k),B=l.reduce(function($,G){var ee="".concat(G.axisType,"Map");return Z(Z({},$),{},Ae({},ee,Gde(x,Z(Z({},G),{},{graphicalItems:F,stackGroups:G.axisType===O&&K,dataStartIndex:P,dataEndIndex:A}))))},{}),M=Yde(Z(Z({},B),{},{props:x,graphicalItems:F}),v==null?void 0:v.legendBBox);Object.keys(B).forEach(function($){B[$]=f(x,B[$],M,$.replace("Map",""),n)});var U=B["".concat(D,"Map")],V=Qde(U),X=p(x,Z(Z({},B),{},{dataStartIndex:P,dataEndIndex:A,updateId:N,graphicalItems:F,stackGroups:K,offset:M}));return Z(Z({formattedGraphicalItems:X,graphicalItems:F,offset:M,stackGroups:K},V),B)},g=function(_){function b(v){var x,P,A;return Ode(this,b),A=Rde(this,b,[v]),Ae(A,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ae(A,"accessibilityManager",new yde),Ae(A,"handleLegendBBoxUpdate",function(N){if(N){var E=A.state,S=E.dataStartIndex,I=E.dataEndIndex,C=E.updateId;A.setState(Z({legendBBox:N},m({props:A.props,dataStartIndex:S,dataEndIndex:I,updateId:C},Z(Z({},A.state),{},{legendBBox:N}))))}}),Ae(A,"handleReceiveSyncEvent",function(N,E,S){if(A.props.syncId===N){if(S===A.eventEmitterSymbol&&typeof A.props.syncMethod!="function")return;A.applySyncEvent(E)}}),Ae(A,"handleBrushChange",function(N){var E=N.startIndex,S=N.endIndex;if(E!==A.state.dataStartIndex||S!==A.state.dataEndIndex){var I=A.state.updateId;A.setState(function(){return Z({dataStartIndex:E,dataEndIndex:S},m({props:A.props,dataStartIndex:E,dataEndIndex:S,updateId:I},A.state))}),A.triggerSyncEvent({dataStartIndex:E,dataEndIndex:S})}}),Ae(A,"handleMouseEnter",function(N){var E=A.getMouseInfo(N);if(E){var S=Z(Z({},E),{},{isTooltipActive:!0});A.setState(S),A.triggerSyncEvent(S);var I=A.props.onMouseEnter;De(I)&&I(S,N)}}),Ae(A,"triggeredAfterMouseMove",function(N){var E=A.getMouseInfo(N),S=E?Z(Z({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};A.setState(S),A.triggerSyncEvent(S);var I=A.props.onMouseMove;De(I)&&I(S,N)}),Ae(A,"handleItemMouseEnter",function(N){A.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),Ae(A,"handleItemMouseLeave",function(){A.setState(function(){return{isTooltipActive:!1}})}),Ae(A,"handleMouseMove",function(N){N.persist(),A.throttleTriggeredAfterMouseMove(N)}),Ae(A,"handleMouseLeave",function(N){A.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};A.setState(E),A.triggerSyncEvent(E);var S=A.props.onMouseLeave;De(S)&&S(E,N)}),Ae(A,"handleOuterEvent",function(N){var E=t7(N),S=Tr(A.props,"".concat(E));if(E&&De(S)){var I,C;/.*touch.*/i.test(E)?C=A.getMouseInfo(N.changedTouches[0]):C=A.getMouseInfo(N),S((I=C)!==null&&I!==void 0?I:{},N)}}),Ae(A,"handleClick",function(N){var E=A.getMouseInfo(N);if(E){var S=Z(Z({},E),{},{isTooltipActive:!0});A.setState(S),A.triggerSyncEvent(S);var I=A.props.onClick;De(I)&&I(S,N)}}),Ae(A,"handleMouseDown",function(N){var E=A.props.onMouseDown;if(De(E)){var S=A.getMouseInfo(N);E(S,N)}}),Ae(A,"handleMouseUp",function(N){var E=A.props.onMouseUp;if(De(E)){var S=A.getMouseInfo(N);E(S,N)}}),Ae(A,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&A.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),Ae(A,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&A.handleMouseDown(N.changedTouches[0])}),Ae(A,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&A.handleMouseUp(N.changedTouches[0])}),Ae(A,"handleDoubleClick",function(N){var E=A.props.onDoubleClick;if(De(E)){var S=A.getMouseInfo(N);E(S,N)}}),Ae(A,"handleContextMenu",function(N){var E=A.props.onContextMenu;if(De(E)){var S=A.getMouseInfo(N);E(S,N)}}),Ae(A,"triggerSyncEvent",function(N){A.props.syncId!==void 0&&ky.emit(Ry,A.props.syncId,N,A.eventEmitterSymbol)}),Ae(A,"applySyncEvent",function(N){var E=A.props,S=E.layout,I=E.syncMethod,C=A.state.updateId,k=N.dataStartIndex,j=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)A.setState(Z({dataStartIndex:k,dataEndIndex:j},m({props:A.props,dataStartIndex:k,dataEndIndex:j,updateId:C},A.state)));else if(N.activeTooltipIndex!==void 0){var O=N.chartX,D=N.chartY,F=N.activeTooltipIndex,K=A.state,B=K.offset,M=K.tooltipTicks;if(!B)return;if(typeof I=="function")F=I(M,N);else if(I==="value"){F=-1;for(var U=0;U<M.length;U++)if(M[U].value===N.activeLabel){F=U;break}}var V=Z(Z({},B),{},{x:B.left,y:B.top}),X=Math.min(O,V.x+V.width),$=Math.min(D,V.y+V.height),G=M[F]&&M[F].value,ee=Ax(A.state,A.props.data,F),fe=M[F]?{x:S==="horizontal"?M[F].coordinate:X,y:S==="horizontal"?$:M[F].coordinate}:RD;A.setState(Z(Z({},N),{},{activeLabel:G,activeCoordinate:fe,activePayload:ee,activeTooltipIndex:F}))}else A.setState(N)}),Ae(A,"renderCursor",function(N){var E,S=A.state,I=S.isTooltipActive,C=S.activeCoordinate,k=S.activePayload,j=S.offset,O=S.activeTooltipIndex,D=S.tooltipAxisBandSize,F=A.getTooltipEventType(),K=(E=N.props.active)!==null&&E!==void 0?E:I,B=A.props.layout,M=N.key||"_recharts-cursor";return W.createElement(Ede,{key:M,activeCoordinate:C,activePayload:k,activeTooltipIndex:O,chartName:n,element:N,isActive:K,layout:B,offset:j,tooltipAxisBandSize:D,tooltipEventType:F})}),Ae(A,"renderPolarAxis",function(N,E,S){var I=Tr(N,"type.axisType"),C=Tr(A.state,"".concat(I,"Map")),k=N.type.defaultProps,j=k!==void 0?Z(Z({},k),N.props):N.props,O=C&&C[j["".concat(I,"Id")]];return L.cloneElement(N,Z(Z({},O),{},{className:We(I,O.className),key:N.key||"".concat(E,"-").concat(S),ticks:yu(O,!0)}))}),Ae(A,"renderPolarGrid",function(N){var E=N.props,S=E.radialLines,I=E.polarAngles,C=E.polarRadius,k=A.state,j=k.radiusAxisMap,O=k.angleAxisMap,D=Ka(j),F=Ka(O),K=F.cx,B=F.cy,M=F.innerRadius,U=F.outerRadius;return L.cloneElement(N,{polarAngles:Array.isArray(I)?I:yu(F,!0).map(function(V){return V.coordinate}),polarRadius:Array.isArray(C)?C:yu(D,!0).map(function(V){return V.coordinate}),cx:K,cy:B,innerRadius:M,outerRadius:U,key:N.key||"polar-grid",radialLines:S})}),Ae(A,"renderLegend",function(){var N=A.state.formattedGraphicalItems,E=A.props,S=E.children,I=E.width,C=E.height,k=A.props.margin||{},j=I-(k.left||0)-(k.right||0),O=LR({children:S,formattedGraphicalItems:N,legendWidth:j,legendContent:c});if(!O)return null;var D=O.item,F=DI(O,Ade);return L.cloneElement(D,Z(Z({},F),{},{chartWidth:I,chartHeight:C,margin:k,onBBoxUpdate:A.handleLegendBBoxUpdate}))}),Ae(A,"renderTooltip",function(){var N,E=A.props,S=E.children,I=E.accessibilityLayer,C=er(S,Rr);if(!C)return null;var k=A.state,j=k.isTooltipActive,O=k.activeCoordinate,D=k.activePayload,F=k.activeLabel,K=k.offset,B=(N=C.props.active)!==null&&N!==void 0?N:j;return L.cloneElement(C,{viewBox:Z(Z({},K),{},{x:K.left,y:K.top}),active:B,label:F,payload:B?D:[],coordinate:O,accessibilityLayer:I})}),Ae(A,"renderBrush",function(N){var E=A.props,S=E.margin,I=E.data,C=A.state,k=C.offset,j=C.dataStartIndex,O=C.dataEndIndex,D=C.updateId;return L.cloneElement(N,{key:N.key||"_recharts-brush",onChange:ff(A.handleBrushChange,N.props.onChange),data:I,x:he(N.props.x)?N.props.x:k.left,y:he(N.props.y)?N.props.y:k.top+k.height+k.brushBottom-(S.bottom||0),width:he(N.props.width)?N.props.width:k.width,startIndex:j,endIndex:O,updateId:"brush-".concat(D)})}),Ae(A,"renderReferenceElement",function(N,E,S){if(!N)return null;var I=A,C=I.clipPathId,k=A.state,j=k.xAxisMap,O=k.yAxisMap,D=k.offset,F=N.type.defaultProps||{},K=N.props,B=K.xAxisId,M=B===void 0?F.xAxisId:B,U=K.yAxisId,V=U===void 0?F.yAxisId:U;return L.cloneElement(N,{key:N.key||"".concat(E,"-").concat(S),xAxis:j[M],yAxis:O[V],viewBox:{x:D.left,y:D.top,width:D.width,height:D.height},clipPathId:C})}),Ae(A,"renderActivePoints",function(N){var E=N.item,S=N.activePoint,I=N.basePoint,C=N.childIndex,k=N.isRange,j=[],O=E.props.key,D=E.item.type.defaultProps!==void 0?Z(Z({},E.item.type.defaultProps),E.item.props):E.item.props,F=D.activeDot,K=D.dataKey,B=Z(Z({index:C,dataKey:K,cx:S.x,cy:S.y,r:4,fill:b_(E.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value},Re(F,!1)),Mh(F));return j.push(b.renderActiveDot(F,B,"".concat(O,"-activePoint-").concat(C))),I?j.push(b.renderActiveDot(F,Z(Z({},B),{},{cx:I.x,cy:I.y}),"".concat(O,"-basePoint-").concat(C))):k&&j.push(null),j}),Ae(A,"renderGraphicChild",function(N,E,S){var I=A.filterFormatItem(N,E,S);if(!I)return null;var C=A.getTooltipEventType(),k=A.state,j=k.isTooltipActive,O=k.tooltipAxis,D=k.activeTooltipIndex,F=k.activeLabel,K=A.props.children,B=er(K,Rr),M=I.props,U=M.points,V=M.isRange,X=M.baseLine,$=I.item.type.defaultProps!==void 0?Z(Z({},I.item.type.defaultProps),I.item.props):I.item.props,G=$.activeDot,ee=$.hide,fe=$.activeBar,z=$.activeShape,J=!!(!ee&&j&&B&&(G||fe||z)),se={};C!=="axis"&&B&&B.props.trigger==="click"?se={onClick:ff(A.handleItemMouseEnter,N.props.onClick)}:C!=="axis"&&(se={onMouseLeave:ff(A.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:ff(A.handleItemMouseEnter,N.props.onMouseEnter)});var q=L.cloneElement(N,Z(Z({},I.props),se));function ce(mr){return typeof O.dataKey=="function"?O.dataKey(mr.payload):null}if(J)if(D>=0){var te,Q;if(O.dataKey&&!O.allowDuplicatedCategory){var de=typeof O.dataKey=="function"?ce:"payload.".concat(O.dataKey.toString());te=i0(U,de,F),Q=V&&X&&i0(X,de,F)}else te=U==null?void 0:U[D],Q=V&&X&&X[D];if(z||fe){var oe=N.props.activeIndex!==void 0?N.props.activeIndex:D;return[L.cloneElement(N,Z(Z(Z({},I.props),se),{},{activeIndex:oe})),null,null]}if(!Fe(te))return[q].concat(ll(A.renderActivePoints({item:I,activePoint:te,basePoint:Q,childIndex:D,isRange:V})))}else{var we,Me=(we=A.getItemByXY(A.state.activeCoordinate))!==null&&we!==void 0?we:{graphicalItem:q},pt=Me.graphicalItem,Ot=pt.item,dt=Ot===void 0?N:Ot,xt=pt.childIndex,Tt=Z(Z(Z({},I.props),se),{},{activeIndex:xt});return[L.cloneElement(dt,Tt),null,null]}return V?[q,null,null]:[q,null]}),Ae(A,"renderCustomized",function(N,E,S){return L.cloneElement(N,Z(Z({key:"recharts-customized-".concat(S)},A.props),A.state))}),Ae(A,"renderMap",{CartesianGrid:{handler:vf,once:!0},ReferenceArea:{handler:A.renderReferenceElement},ReferenceLine:{handler:vf},ReferenceDot:{handler:A.renderReferenceElement},XAxis:{handler:vf},YAxis:{handler:vf},Brush:{handler:A.renderBrush,once:!0},Bar:{handler:A.renderGraphicChild},Line:{handler:A.renderGraphicChild},Area:{handler:A.renderGraphicChild},Radar:{handler:A.renderGraphicChild},RadialBar:{handler:A.renderGraphicChild},Scatter:{handler:A.renderGraphicChild},Pie:{handler:A.renderGraphicChild},Funnel:{handler:A.renderGraphicChild},Tooltip:{handler:A.renderCursor,once:!0},PolarGrid:{handler:A.renderPolarGrid,once:!0},PolarAngleAxis:{handler:A.renderPolarAxis},PolarRadiusAxis:{handler:A.renderPolarAxis},Customized:{handler:A.renderCustomized}}),A.clipPathId="".concat((x=v.id)!==null&&x!==void 0?x:jm("recharts"),"-clip"),A.throttleTriggeredAfterMouseMove=$k(A.triggeredAfterMouseMove,(P=v.throttleDelay)!==null&&P!==void 0?P:1e3/60),A.state={},A}return $de(b,_),kde(b,[{key:"componentDidMount",value:function(){var x,P;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,P=x.children,A=x.data,N=x.height,E=x.layout,S=er(P,Rr);if(S){var I=S.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var C=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,k=Ax(this.state,A,I,C),j=this.state.tooltipTicks[I].coordinate,O=(this.state.offset.top+N)/2,D=E==="horizontal",F=D?{x:j,y:O}:{y:j,x:O},K=this.state.formattedGraphicalItems.find(function(M){var U=M.item;return U.type.name==="Scatter"});K&&(F=Z(Z({},F),K.props.points[I].tooltipPosition),k=K.props.points[I].tooltipPayload);var B={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:C,activePayload:k,activeCoordinate:F};this.setState(B),this.renderCursor(S),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,P){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==P.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var A,N;this.accessibilityManager.setDetails({offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(x){o0([er(x.children,Rr)],[er(this.props.children,Rr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=er(this.props.children,Rr);if(x&&typeof x.props.shared=="boolean"){var P=x.props.shared?"axis":"item";return o.indexOf(P)>=0?P:s}return s}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var P=this.container,A=P.getBoundingClientRect(),N=jZ(A),E={chartX:Math.round(x.pageX-N.left),chartY:Math.round(x.pageY-N.top)},S=A.width/P.offsetWidth||1,I=this.inRange(E.chartX,E.chartY,S);if(!I)return null;var C=this.state,k=C.xAxisMap,j=C.yAxisMap,O=this.getTooltipEventType(),D=$I(this.state,this.props.data,this.props.layout,I);if(O!=="axis"&&k&&j){var F=Ka(k).scale,K=Ka(j).scale,B=F&&F.invert?F.invert(E.chartX):null,M=K&&K.invert?K.invert(E.chartY):null;return Z(Z({},E),{},{xValue:B,yValue:M},D)}return D?Z(Z({},E),D):null}},{key:"inRange",value:function(x,P){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,E=x/A,S=P/A;if(N==="horizontal"||N==="vertical"){var I=this.state.offset,C=E>=I.left&&E<=I.left+I.width&&S>=I.top&&S<=I.top+I.height;return C?{x:E,y:S}:null}var k=this.state,j=k.angleAxisMap,O=k.radiusAxisMap;if(j&&O){var D=Ka(j);return bN({x:E,y:S},D)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,P=this.getTooltipEventType(),A=er(x,Rr),N={};A&&P==="axis"&&(A.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=Mh(this.props,this.handleOuterEvent);return Z(Z({},E),N)}},{key:"addListener",value:function(){ky.on(Ry,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){ky.removeListener(Ry,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,P,A){for(var N=this.state.formattedGraphicalItems,E=0,S=N.length;E<S;E++){var I=N[E];if(I.item===x||I.props.key===x.key||P===xi(I.item.type)&&A===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,P=this.state.offset,A=P.left,N=P.top,E=P.height,S=P.width;return W.createElement("defs",null,W.createElement("clipPath",{id:x},W.createElement("rect",{x:A,y:N,height:E,width:S})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(P,A){var N=RI(A,2),E=N[0],S=N[1];return Z(Z({},P),{},Ae({},E,S.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(P,A){var N=RI(A,2),E=N[0],S=N[1];return Z(Z({},P),{},Ae({},E,S.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var P;return(P=this.state.xAxisMap)===null||P===void 0||(P=P[x])===null||P===void 0?void 0:P.scale}},{key:"getYScaleByAxisId",value:function(x){var P;return(P=this.state.yAxisMap)===null||P===void 0||(P=P[x])===null||P===void 0?void 0:P.scale}},{key:"getItemByXY",value:function(x){var P=this.state,A=P.formattedGraphicalItems,N=P.activeItem;if(A&&A.length)for(var E=0,S=A.length;E<S;E++){var I=A[E],C=I.props,k=I.item,j=k.type.defaultProps!==void 0?Z(Z({},k.type.defaultProps),k.props):k.props,O=xi(k.type);if(O==="Bar"){var D=(C.data||[]).find(function(M){return hoe(x,M)});if(D)return{graphicalItem:I,payload:D}}else if(O==="RadialBar"){var F=(C.data||[]).find(function(M){return bN(x,M)});if(F)return{graphicalItem:I,payload:F}}else if(eg(I,N)||tg(I,N)||Fc(I,N)){var K=nue({graphicalItem:I,activeTooltipItem:N,itemData:j.data}),B=j.activeIndex===void 0?K:j.activeIndex;return{graphicalItem:Z(Z({},I),{},{childIndex:B}),payload:Fc(I,N)?j.data[K]:I.props.data[K]}}}return null}},{key:"render",value:function(){var x=this;if(!dA(this))return null;var P=this.props,A=P.children,N=P.className,E=P.width,S=P.height,I=P.style,C=P.compact,k=P.title,j=P.desc,O=DI(P,Tde),D=Re(O,!1);if(C)return W.createElement(EI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},W.createElement(u0,fo({},D,{width:E,height:S,title:k,desc:j}),this.renderClipPath(),hA(A,this.renderMap)));if(this.props.accessibilityLayer){var F,K;D.tabIndex=(F=this.props.tabIndex)!==null&&F!==void 0?F:0,D.role=(K=this.props.role)!==null&&K!==void 0?K:"application",D.onKeyDown=function(M){x.accessibilityManager.keyboardEvent(M)},D.onFocus=function(){x.accessibilityManager.focus()}}var B=this.parseEventsOfWrapper();return W.createElement(EI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},W.createElement("div",fo({className:We("recharts-wrapper",N),style:Z({position:"relative",cursor:"default",width:E,height:S},I)},B,{ref:function(U){x.container=U}}),W.createElement(u0,fo({},D,{width:E,height:S,title:k,desc:j,style:zde}),this.renderClipPath(),hA(A,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(L.Component);Ae(g,"displayName",n),Ae(g,"defaultProps",Z({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Ae(g,"getDerivedStateFromProps",function(_,b){var v=_.dataKey,x=_.data,P=_.children,A=_.width,N=_.height,E=_.layout,S=_.stackOffset,I=_.margin,C=b.dataStartIndex,k=b.dataEndIndex;if(b.updateId===void 0){var j=LI(_);return Z(Z(Z({},j),{},{updateId:0},m(Z(Z({props:_},j),{},{updateId:0}),b)),{},{prevDataKey:v,prevData:x,prevWidth:A,prevHeight:N,prevLayout:E,prevStackOffset:S,prevMargin:I,prevChildren:P})}if(v!==b.prevDataKey||x!==b.prevData||A!==b.prevWidth||N!==b.prevHeight||E!==b.prevLayout||S!==b.prevStackOffset||!s0(I,b.prevMargin)){var O=LI(_),D={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},F=Z(Z({},$I(b,x,E)),{},{updateId:b.updateId+1}),K=Z(Z(Z({},O),D),F);return Z(Z(Z({},K),m(Z({props:_},K),b)),{},{prevDataKey:v,prevData:x,prevWidth:A,prevHeight:N,prevLayout:E,prevStackOffset:S,prevMargin:I,prevChildren:P})}if(!o0(P,b.prevChildren)){var B,M,U,V,X=er(P,rl),$=X&&(B=(M=X.props)===null||M===void 0?void 0:M.startIndex)!==null&&B!==void 0?B:C,G=X&&(U=(V=X.props)===null||V===void 0?void 0:V.endIndex)!==null&&U!==void 0?U:k,ee=$!==C||G!==k,fe=!Fe(x),z=fe&&!ee?b.updateId:b.updateId+1;return Z(Z({updateId:z},m(Z(Z({props:_},b),{},{updateId:z,dataStartIndex:$,dataEndIndex:G}),b)),{},{prevChildren:P,dataStartIndex:$,dataEndIndex:G})}return null}),Ae(g,"renderActiveDot",function(_,b,v){var x;return L.isValidElement(_)?x=L.cloneElement(_,b):De(_)?x=_(b):x=W.createElement(__,b),W.createElement(At,{className:"recharts-active-dot",key:v},x)});var w=L.forwardRef(function(b,v){return W.createElement(g,fo({},b,{ref:v}))});return w.displayName=g.displayName,w},efe=Zde({chartName:"PieChart",GraphicalChild:Vi,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Zm},{axisType:"radiusAxis",AxisComp:Ym}],formatAxisMap:Nie,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const Ba=()=>{const{userProfile:t}=fr(),[e,n]=L.useState({totalStudents:0,totalExperiments:0,completedSubmissions:0,vivaAttempts:0,sectionWiseStudents:[],experimentProgress:[],vivaProgress:[],submissionStats:[]}),r=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#84CC16","#F97316"];L.useEffect(()=>{t&&i()},[t]);const i=()=>{t&&(t.role==="faculty"?s():a())},s=()=>{const h=t.primaryFacultyId||t.uid,p=_e(le(re,"students"),xe("facultyId","==",h)),m=Jt(p,()=>{o(h)}),g=_e(le(re,"experiments"),xe("facultyId","==",h)),w=Jt(g,()=>{o(h)}),_=Jt(le(re,"submissions"),()=>{o(h)}),b=Jt(le(re,"vivaAttempts"),()=>{o(h)});return o(h),()=>{m(),w(),_(),b()}},a=()=>{const h=_e(le(re,"experiments"),xe("facultyId","==",t.facultyId)),p=Jt(h,()=>{l()}),m=_e(le(re,"submissions"),xe("studentId","==",t.uid)),g=Jt(m,()=>{l()}),w=_e(le(re,"vivaAttempts"),xe("studentId","==",t.uid)),_=Jt(w,()=>{l()});return l(),()=>{p(),g(),_()}},o=async h=>{try{const p=_e(le(re,"students"),xe("facultyId","==",h)),g=(await be(p)).docs.map(U=>({id:U.id,...U.data()})),w=new Map;g.forEach(U=>{const V=U.section||"Unknown";w.set(V,(w.get(V)||0)+1)});const _=Array.from(w.entries()).map(([U,V],X)=>({name:U,value:V,color:r[X%r.length]})),b=_e(le(re,"experiments"),xe("facultyId","==",h)),x=(await be(b)).docs.map(U=>({id:U.id,...U.data()})),A=(await be(le(re,"submissions"))).docs.map(U=>({id:U.id,...U.data()})),N=x.map(U=>U.id),E=A.filter(U=>N.includes(U.experimentId)),S=E.filter(U=>U.status==="approved").length,I=E.filter(U=>U.status==="pending").length,C=E.filter(U=>U.status==="rejected").length,O=(await be(le(re,"vivaAttempts"))).docs.map(U=>({id:U.id,...U.data()})).filter(U=>N.includes(U.experimentId)),D=g.length*x.length,F=[{name:"Submitted",value:E.length,color:"#10B981"},{name:"Not Submitted",value:Math.max(0,D-E.length),color:"#E5E7EB"}],K=g.length*x.length,B=[{name:"Attempted",value:O.length,color:"#3B82F6"},{name:"Not Attempted",value:Math.max(0,K-O.length),color:"#E5E7EB"}],M=[{name:"Approved",value:S,color:"#10B981"},{name:"Pending",value:I,color:"#F59E0B"},{name:"Rejected",value:C,color:"#EF4444"}].filter(U=>U.value>0);n({totalStudents:g.length,totalExperiments:x.length,completedSubmissions:E.length,vivaAttempts:O.length,sectionWiseStudents:_,experimentProgress:F,vivaProgress:B,submissionStats:M}),console.log("Real-time update: Faculty stats updated")}catch(p){console.error("Error fetching faculty stats:",p)}},l=async()=>{try{const h=_e(le(re,"experiments"),xe("facultyId","==",t.facultyId)),m=(await be(h)).docs.length,g=_e(le(re,"submissions"),xe("studentId","==",t.uid)),_=(await be(g)).docs.map(C=>({id:C.id,...C.data()})),b=_.filter(C=>C.status==="approved").length,v=_.filter(C=>C.status==="pending").length,x=_.filter(C=>C.status==="rejected").length,P=_e(le(re,"vivaAttempts"),xe("studentId","==",t.uid)),N=(await be(P)).docs.length,E=[{name:"Submitted",value:_.length,color:"#10B981"},{name:"Not Submitted",value:Math.max(0,m-_.length),color:"#E5E7EB"}],S=[{name:"Attempted",value:N,color:"#3B82F6"},{name:"Not Attempted",value:Math.max(0,m-N),color:"#E5E7EB"}],I=[{name:"Approved",value:b,color:"#10B981"},{name:"Pending",value:v,color:"#F59E0B"},{name:"Rejected",value:x,color:"#EF4444"}].filter(C=>C.value>0);n({totalStudents:0,totalExperiments:m,completedSubmissions:_.length,vivaAttempts:N,sectionWiseStudents:[],experimentProgress:E,vivaProgress:S,submissionStats:I}),console.log("Real-time update: Student stats updated")}catch(h){console.error("Error fetching student stats:",h)}};if(!t)return null;const c=({title:h,value:p,icon:m,color:g})=>u.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-6 hover:shadow-md transition-shadow",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-600",children:h}),u.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:p})]}),u.jsx("div",{className:`p-3 rounded-full ${g}`,children:m})]})}),f=({title:h,data:p})=>u.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:h}),u.jsx("div",{className:"h-64",children:p.length>0?u.jsx(SZ,{width:"100%",height:"100%",children:u.jsxs(efe,{children:[u.jsx(Vi,{data:p,cx:"50%",cy:"50%",innerRadius:40,outerRadius:80,paddingAngle:5,dataKey:"value",children:p.map((m,g)=>u.jsx(Kw,{fill:m.color},`cell-${g}`))}),u.jsx(Rr,{}),u.jsx(oa,{})]})}):u.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:u.jsx("p",{children:"No data available"})})})]});return u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:t.role==="faculty"?"Faculty Dashboard":"Student Dashboard"}),u.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[u.jsx(XE,{className:"h-4 w-4"}),u.jsx("span",{children:"Real-time Analytics"})]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.role==="faculty"?u.jsxs(u.Fragment,{children:[u.jsx(c,{title:"Total Students",value:e.totalStudents,icon:u.jsx(Dh,{className:"h-6 w-6 text-white"}),color:"bg-blue-500"}),u.jsx(c,{title:"Total Experiments",value:e.totalExperiments,icon:u.jsx(wn,{className:"h-6 w-6 text-white"}),color:"bg-green-500"}),u.jsx(c,{title:"Total Submissions",value:e.completedSubmissions,icon:u.jsx(hi,{className:"h-6 w-6 text-white"}),color:"bg-yellow-500"}),u.jsx(c,{title:"Viva Attempts",value:e.vivaAttempts,icon:u.jsx(dc,{className:"h-6 w-6 text-white"}),color:"bg-purple-500"})]}):u.jsxs(u.Fragment,{children:[u.jsx(c,{title:"Total Experiments",value:e.totalExperiments,icon:u.jsx(wn,{className:"h-6 w-6 text-white"}),color:"bg-blue-500"}),u.jsx(c,{title:"Submissions Made",value:e.completedSubmissions,icon:u.jsx(hi,{className:"h-6 w-6 text-white"}),color:"bg-green-500"}),u.jsx(c,{title:"Viva Attempts",value:e.vivaAttempts,icon:u.jsx(dc,{className:"h-6 w-6 text-white"}),color:"bg-purple-500"}),u.jsx(c,{title:"Completion Rate",value:e.totalExperiments>0?Math.round(e.completedSubmissions/e.totalExperiments*100):0,icon:u.jsx(XE,{className:"h-6 w-6 text-white"}),color:"bg-yellow-500"})]})}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[t.role==="faculty"&&e.sectionWiseStudents.length>0&&u.jsx(f,{title:"Students by Section",data:e.sectionWiseStudents}),u.jsx(f,{title:"Experiment Submissions",data:e.experimentProgress}),u.jsx(f,{title:"Viva Test Progress",data:e.vivaProgress}),e.submissionStats.length>0&&u.jsx(f,{title:"Submission Status",data:e.submissionStats})]}),u.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Activity"}),u.jsx("div",{className:"space-y-4",children:t.role==="faculty"?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[u.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Student submissions received"}),u.jsx("p",{className:"text-xs text-gray-600",children:"Check submissions tab for review"})]})]}),u.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[u.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Viva tests completed"}),u.jsx("p",{className:"text-xs text-gray-600",children:"Students are taking viva tests"})]})]}),u.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[u.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-900",children:"System active"}),u.jsx("p",{className:"text-xs text-gray-600",children:"Lab evaluation system running smoothly"})]})]})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[u.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Check experiment submissions"}),u.jsx("p",{className:"text-xs text-gray-600",children:"Submit pending experiments"})]})]}),u.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[u.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Viva tests available"}),u.jsx("p",{className:"text-xs text-gray-600",children:"Take viva tests for approved experiments"})]})]}),u.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[u.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Keep up the good work!"}),u.jsx("p",{className:"text-xs text-gray-600",children:"Continue with your lab experiments"})]})]})]})})]})]})},tfe=_b({apiKey:"AIzaSyAKgcmV-CWzzCgsYRai1p_52FVvA5C2LhM",authDomain:"computer-network-f5a23.firebaseapp.com",projectId:"computer-network-f5a23",storageBucket:"computer-network-f5a23.firebasestorage.app",messagingSenderId:"778971951016",appId:"1:778971951016:web:6e89abf42da9c10cf4779d",measurementId:"G-ECJ6JL196X"},"secondary"),FI=Q2(tfe),nfe=()=>{const{userProfile:t}=fr(),[e,n]=L.useState([]),[r,i]=L.useState([]),[s,a]=L.useState("all"),[o,l]=L.useState([]),[c,f]=L.useState(!1),[h,p]=L.useState(null),[m,g]=L.useState(!1),[w,_]=L.useState(!1),[b,v]=L.useState({}),[x,P]=L.useState({name:"",rollNo:"",email:"",section:"",password:"cse@nbkr"}),A=B=>[...B].sort((M,U)=>{const V=M.rollNo||"",X=U.rollNo||"",$=V.match(/\d+/),G=X.match(/\d+/);if($&&G){const ee=parseInt($[0]),fe=parseInt(G[0]);if(ee!==fe)return ee-fe}return V.toLowerCase().localeCompare(X.toLowerCase())});L.useEffect(()=>{N()},[t]),L.useEffect(()=>{k()},[e,s]),L.useEffect(()=>{e.length>0&&E()},[e]);const N=()=>{if(!t)return;const B=t.primaryFacultyId||t.uid,M=_e(le(re,"students"),xe("facultyId","==",B)),U=Jt(M,V=>{const X=V.docs.map(ee=>({id:ee.id,...ee.data()})),$=A(X);n($);const G=Array.from(new Set(X.map(ee=>ee.section).filter(Boolean)));l(G),console.log("Real-time update: Students updated")});return()=>{U()}},E=()=>{const B=Jt(le(re,"submissions"),()=>{C()}),M=Jt(le(re,"vivaAttempts"),()=>{C()});return()=>{B(),M()}},S=async()=>{if(!t)return;const B=t.primaryFacultyId||t.uid;try{const M=_e(le(re,"students"),xe("facultyId","==",B)),V=(await be(M)).docs.map(G=>({id:G.id,...G.data()})),X=A(V);n(X);const $=Array.from(new Set(V.map(G=>G.section).filter(Boolean)));l($)}catch(M){console.error("Error fetching students:",M)}},I=async()=>{_(!0),await S(),setTimeout(()=>_(!1),1e3)},C=async()=>{try{const M=(await be(le(re,"users"))).docs.map(ee=>({id:ee.id,...ee.data()})),V=(await be(le(re,"submissions"))).docs.map(ee=>({id:ee.id,...ee.data()})),$=(await be(le(re,"vivaAttempts"))).docs.map(ee=>({id:ee.id,...ee.data()})),G={};e.forEach(ee=>{const fe=M.find(Q=>Q.email===ee.email||Q.rollNo===ee.rollNo||Q.uid===ee.id),z=(fe==null?void 0:fe.uid)||ee.id,J=V.filter(Q=>Q.studentId===z||Q.studentId===ee.id||Q.studentId===ee.uid),se=J.filter(Q=>Q.status==="approved"),q=$.filter(Q=>Q.studentId===z||Q.studentId===ee.id||Q.studentId===ee.uid),ce=q.reduce((Q,de)=>Q+(de.score||0),0),te=q.length>0?Math.round(ce/q.length*100)/100:0;G[ee.id]={submissions:J.length,approvedSubmissions:se.length,vivaAttempts:q.length,totalVivaScore:ce,averageVivaScore:te}}),v(G)}catch(B){console.error("Error fetching student stats:",B)}},k=()=>{let B;s==="all"?B=e:B=e.filter(U=>U.section===s);const M=A(B);i(M)},j=async B=>{B.preventDefault(),g(!0);const M=t.primaryFacultyId||t.uid;try{console.log("Creating student with email:",x.email,"and password:",x.password);const U=await Ob(FI,x.email,x.password);console.log("Created auth account for student:",x.email),console.log("Student UID:",U.user.uid);const V={name:x.name,rollNo:x.rollNo,email:x.email,section:x.section,facultyId:M,passwordChanged:!1,experimentsCompleted:[],vivaScores:{},addedBy:t.uid,addedByName:t.name,uid:U.user.uid},X=await Xr(le(re,"students"),V);console.log("Added student to students collection:",X.id);const $={uid:U.user.uid,email:x.email,name:x.name,role:"student",rollNo:x.rollNo,section:x.section,facultyId:M,passwordChanged:!1,addedBy:t.uid};await gu(Et(re,"users",U.user.uid),$),console.log("Created user profile for student"),await L2(FI),console.log("Signed out from secondary auth"),P({name:"",rollNo:"",email:"",section:"",password:"cse@nbkr"}),f(!1),S(),alert(`Student added successfully! 
      
Login Credentials:
Email: ${x.email}
Password: ${x.password}

The student will be required to change their password on first login.`)}catch(U){console.error("Error adding student:",U),alert(`Error adding student: ${U.message}
      
Please check:
1. Email format is correct
2. Email is not already in use
3. Password meets requirements (min 6 characters)`)}finally{g(!1)}},O=async B=>{if(B.preventDefault(),!!h){g(!0);try{await pn(Et(re,"students",h.id),{name:x.name,rollNo:x.rollNo,email:x.email,section:x.section});const M=_e(le(re,"users"),xe("email","==",h.email)),V=(await be(M)).docs.map(ee=>pn(ee.ref,{name:x.name,rollNo:x.rollNo,email:x.email,section:x.section}));if(await Promise.all(V),x.email!==h.email){const ee=_e(le(re,"users"),xe("rollNo","==",h.rollNo)),z=(await be(ee)).docs.map(J=>pn(J.ref,{name:x.name,rollNo:x.rollNo,email:x.email,section:x.section}));await Promise.all(z)}const X=_e(le(re,"users"),xe("facultyId","==",t.uid),xe("role","==","student")),G=(await be(X)).docs.filter(ee=>{const fe=ee.data();return fe.email===h.email||fe.rollNo===h.rollNo}).map(ee=>pn(ee.ref,{name:x.name,rollNo:x.rollNo,email:x.email,section:x.section}));await Promise.all(G),console.log("Updated student data in both collections"),p(null),P({name:"",rollNo:"",email:"",section:"",password:"cse@nbkr"}),S(),alert("Student updated successfully! Changes will be reflected when they next login.")}catch(M){console.error("Error updating student:",M),alert(`Error updating student: ${M.message}`)}finally{g(!1)}}},D=async B=>{if(confirm("Are you sure you want to delete this student? This will also remove their login access."))try{const M=e.find(fe=>fe.id===B);if(!M)return;await So(Et(re,"students",B));const U=_e(le(re,"users"),xe("email","==",M.email)),X=(await be(U)).docs.map(fe=>So(fe.ref));await Promise.all(X);const $=_e(le(re,"users"),xe("rollNo","==",M.rollNo)),ee=(await be($)).docs.map(fe=>So(fe.ref));await Promise.all(ee),S(),alert("Student deleted successfully! Their login access has been removed.")}catch(M){console.error("Error deleting student:",M),alert(`Error deleting student: ${M.message}`)}},F=B=>{p(B),P({name:B.name,rollNo:B.rollNo,email:B.email,section:B.section,password:"cse@nbkr"})},K=()=>{f(!1),p(null),P({name:"",rollNo:"",email:"",section:"",password:"cse@nbkr"})};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Students Management"}),u.jsxs("div",{className:"flex space-x-3",children:[u.jsxs("button",{onClick:I,disabled:w,className:"bg-gray-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:bg-gray-700 disabled:opacity-50 transition-colors",children:[u.jsx(iB,{className:`h-5 w-5 ${w?"animate-spin":""}`}),u.jsx("span",{children:"Refresh"})]}),u.jsxs("button",{onClick:()=>f(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:bg-blue-700 transition-colors",children:[u.jsx(hm,{className:"h-5 w-5"}),u.jsx("span",{children:"Add Student"})]})]})]}),u.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx(vw,{className:"h-5 w-5 text-gray-400"}),u.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filter by Section:"}),u.jsxs("select",{value:s,onChange:B=>a(B.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[u.jsx("option",{value:"all",children:"All Sections"}),o.map(B=>u.jsx("option",{value:B,children:B},B))]}),u.jsxs("span",{className:"text-sm text-gray-600",children:["Showing ",r.length," of ",e.length," students"]})]}),u.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500 bg-gray-50 px-3 py-2 rounded-lg",children:[u.jsx(GE,{className:"h-4 w-4"}),u.jsx("span",{children:"Sorted by Roll Number"})]})]})}),u.jsxs("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:[u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{children:"Student Details"}),u.jsx(GE,{className:"h-3 w-3 text-blue-500"})]})}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Section"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Submissions"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Viva Performance"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),u.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(B=>{const M=b[B.id]||{submissions:0,approvedSubmissions:0,vivaAttempts:0,totalVivaScore:0,averageVivaScore:0};return u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-medium text-gray-900",children:B.name}),u.jsxs("div",{className:"text-sm text-blue-600 font-medium",children:["Roll No: ",B.rollNo]}),u.jsx("div",{className:"text-sm text-gray-500",children:B.email})]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full",children:B.section})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"text-sm text-gray-900",children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[u.jsx("span",{className:"text-gray-600",children:"Total:"}),u.jsx("span",{className:"font-semibold text-blue-600",children:M.submissions})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:"text-gray-600",children:"Approved:"}),u.jsx("span",{className:"font-semibold text-green-600",children:M.approvedSubmissions})]})]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"text-sm text-gray-900",children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[u.jsx(bw,{className:"h-4 w-4 text-purple-500"}),u.jsx("span",{className:"text-gray-600",children:"Attempts:"}),u.jsx("span",{className:"font-semibold text-purple-600",children:M.vivaAttempts})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(hi,{className:"h-4 w-4 text-yellow-500"}),u.jsx("span",{className:"text-gray-600",children:"Avg Score:"}),u.jsx("span",{className:"font-semibold text-yellow-600",children:M.averageVivaScore>0?`${M.averageVivaScore}/10`:"N/A"})]}),M.totalVivaScore>0&&u.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Total: ",M.totalVivaScore," marks"]})]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${B.passwordChanged?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:B.passwordChanged?"Active":"Password Not Changed"})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:u.jsxs("div",{className:"flex justify-end space-x-2",children:[u.jsx("button",{onClick:()=>F(B),className:"text-blue-600 hover:text-blue-900 p-2 rounded-full hover:bg-blue-50",children:u.jsx(xw,{className:"h-4 w-4"})}),u.jsx("button",{onClick:()=>D(B.id),className:"text-red-600 hover:text-red-900 p-2 rounded-full hover:bg-red-50",children:u.jsx(pm,{className:"h-4 w-4"})})]})})]},B.id)})})]})}),r.length===0&&u.jsxs("div",{className:"text-center py-12",children:[u.jsx(lB,{className:"mx-auto h-12 w-12 text-gray-400"}),u.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No students found"}),u.jsx("p",{className:"mt-1 text-sm text-gray-500",children:s==="all"?"Get started by adding your first student.":`No students found in section ${s}.`})]})]}),(c||h)&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:h?"Edit Student":"Add New Student"}),u.jsx("button",{onClick:K,className:"text-gray-400 hover:text-gray-600",children:u.jsx(Hn,{className:"h-6 w-6"})})]}),u.jsxs("form",{onSubmit:h?O:j,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),u.jsx("input",{type:"text",required:!0,value:x.name,onChange:B=>P({...x,name:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter student's full name"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Roll Number"}),u.jsx("input",{type:"text",required:!0,value:x.rollNo,onChange:B=>P({...x,rollNo:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter roll number (e.g., 21A91A0501)"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Students will be automatically sorted by roll number"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),u.jsx("input",{type:"email",required:!0,value:x.email,onChange:B=>P({...x,email:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter college email address"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This will be used for student login"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Section"}),u.jsx("input",{type:"text",required:!0,value:x.section,onChange:B=>P({...x,section:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter section (e.g., CSE-A, CSE-B)"})]}),!h&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Default Password"}),u.jsx("input",{type:"text",value:x.password,onChange:B=>P({...x,password:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Default password for student"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Student will be required to change this password on first login"})]}),h&&u.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:u.jsxs("p",{className:"text-sm text-blue-800",children:[u.jsx("strong",{children:"Note:"})," Changes will be reflected when the student logs in next time. If you change the email, the student will need to use the new email to login."]})}),u.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[u.jsx("button",{type:"button",onClick:K,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Cancel"}),u.jsx("button",{type:"submit",disabled:m,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:m?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),u.jsx("span",{children:"Saving..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(jn,{className:"h-4 w-4"}),u.jsxs("span",{children:[h?"Update":"Add"," Student"]})]})})]})]})]})})]})},rfe=({experimentId:t,onComplete:e,onCancel:n,viewMode:r=!1,existingAttempt:i})=>{const{userProfile:s}=fr(),[a,o]=L.useState(null),[l,c]=L.useState([]),[f,h]=L.useState([]),[p,m]=L.useState(0),[g,w]=L.useState([]),[_,b]=L.useState(0),[v,x]=L.useState({tabSwitches:0,windowSwitches:0,aiToolDetections:0,devToolsAttempts:0}),[P,A]=L.useState(!1),[N,E]=L.useState(""),[S,I]=L.useState(!1),[C,k]=L.useState(r),[j,O]=L.useState(!1),[D,F]=L.useState(0),[K,B]=L.useState(0),[M,U]=L.useState(r),[V,X]=L.useState(30),[$,G]=L.useState(!0),[ee,fe]=L.useState([]),[z,J]=L.useState(!1),se=["chatgpt","claude","bard","copilot","gemini","perplexity","openai","anthropic","google.com/search","bing.com/search","stackoverflow","github.com","codepen","jsfiddle","replit","codesandbox","notion","obsidian","roam","whatsapp","telegram","discord","slack","teams","zoom","meet","skype","anydesk","teamviewer"];L.useEffect(()=>{te()},[t]),L.useEffect(()=>{r&&i&&f.length>0&&(w(i.answers),F(i.score),B(i.totalQuestions),O(!0))},[r,i,f]),L.useEffect(()=>{if(C&&_>0&&!M&&!r){const ye=setInterval(()=>{b(Ee=>Ee<=1?(pt("Time expired"),0):Ee-1)},1e3);return()=>clearInterval(ye)}},[C,_,M,r]),L.useEffect(()=>{if(j&&!r){const ye=setInterval(()=>{X(Ee=>Ee<=1?(e(),0):Ee-1)},1e3);return()=>clearInterval(ye)}},[j,r,e]),L.useEffect(()=>{if(!C||M||r)return;const ye=()=>{document.hidden?q("tab","Tab switching detected! Stay on the test page."):G(!0)},Ee=()=>{G(!1),q("window","Window switching detected! Focus must remain on test window.")},Ce=()=>{$||G(!0)},Oe=ke=>{if(ke.key==="F12"||ke.ctrlKey&&ke.shiftKey&&(ke.key==="I"||ke.key==="J"||ke.key==="C")||ke.ctrlKey&&(ke.key==="U"||ke.key==="I"||ke.key==="J")||ke.metaKey&&ke.altKey&&(ke.key==="I"||ke.key==="J"||ke.key==="C"))return ke.preventDefault(),q("devtools","Developer tools access attempt detected!"),!1;if(ke.altKey&&ke.key==="Tab")return ke.preventDefault(),q("window","Alt+Tab window switching detected!"),!1;if(ke.metaKey&&ke.key==="Tab")return ke.preventDefault(),q("window","Cmd+Tab window switching detected!"),!1;if(ke.ctrlKey&&(ke.key==="c"||ke.key==="v"||ke.key==="x"))return ke.preventDefault(),q("devtools","Copy/Paste operation blocked during test!"),!1;if(ke.key==="PrintScreen")return ke.preventDefault(),q("devtools","Screenshot attempt detected!"),!1},bt=ke=>(ke.preventDefault(),q("devtools","Right-click context menu blocked during test!"),!1),Bt=()=>{q("window","Mouse left test window area!")},Nt=()=>{try{const ke=window.location.href,Il=document.referrer;se.forEach(Tn=>{(Il.toLowerCase().includes(Tn)||ke.toLowerCase().includes(Tn))&&(ee.includes(Tn)||(fe(Ra=>[...Ra,Tn]),q("ai",`Suspicious tool detected: ${Tn}`)))});const og=document.title.toLowerCase(),lg=document.body.innerText.toLowerCase();["chatgpt","claude","bard","copilot","ai assistant"].forEach(Tn=>{(og.includes(Tn)||lg.includes(Tn))&&(ee.includes(Tn)||(fe(Ra=>[...Ra,Tn]),q("ai",`AI tool indicator detected: ${Tn}`)))})}catch{console.log("AI detection check completed")}},vn=()=>{try{if("memory"in performance&&performance.memory.usedJSHeapSize>100*1024*1024&&q("ai","High memory usage detected - possible AI tool running"),"connection"in navigator){const ke=navigator.connection;ke&&ke.downlink<1&&q("ai","Low bandwidth detected - possible multiple applications")}}catch{console.log("Performance monitoring check completed")}};document.addEventListener("visibilitychange",ye),window.addEventListener("blur",Ee),window.addEventListener("focus",Ce),document.addEventListener("keydown",Oe),document.addEventListener("contextmenu",bt),document.addEventListener("mouseleave",Bt);const Or=setInterval(Nt,5e3),gd=setInterval(vn,1e4);return Nt(),vn(),()=>{document.removeEventListener("visibilitychange",ye),window.removeEventListener("blur",Ee),window.removeEventListener("focus",Ce),document.removeEventListener("keydown",Oe),document.removeEventListener("contextmenu",bt),document.removeEventListener("mouseleave",Bt),clearInterval(Or),clearInterval(gd)}},[C,M,r,$,ee]);const q=(ye,Ee)=>{x(Ce=>{const Oe={...Ce};switch(ye){case"tab":Oe.tabSwitches+=1;break;case"window":Oe.windowSwitches+=1;break;case"ai":Oe.aiToolDetections+=1;break;case"devtools":Oe.devToolsAttempts+=1;break}const bt=Oe.tabSwitches+Oe.windowSwitches+Oe.aiToolDetections+Oe.devToolsAttempts;return bt===1?(E(` FINAL WARNING: ${Ee} - One more violation will auto-submit your test with 0 marks!`),A(!0),setTimeout(()=>A(!1),5e3)):bt>=2&&(J(!0),pt(`Multiple security violations detected: ${Ee}`)),Oe})},ce=(ye,Ee)=>{if(ye.length===0)return[];if(ye.length<=10)return ye;const Ce=Ee.split("").reduce((Nt,vn)=>Nt+vn.charCodeAt(0),0),Oe=Nt=>{const vn=Math.sin(Nt)*1e4;return vn-Math.floor(vn)},bt=Array.from({length:ye.length},(Nt,vn)=>vn);for(let Nt=bt.length-1;Nt>0;Nt--){const vn=Ce+Nt,Or=Math.floor(Oe(vn)*(Nt+1));[bt[Nt],bt[Or]]=[bt[Or],bt[Nt]]}return bt.slice(0,10).sort((Nt,vn)=>Nt-vn).map(Nt=>ye[Nt])},te=async()=>{var ye;try{console.log("Fetching experiment and questions for:",t);const Ee=await be(_e(le(re,"experiments"),xe("__name__","==",t)));if(!Ee.empty){const Bt={id:Ee.docs[0].id,...Ee.docs[0].data(),createdAt:((ye=Ee.docs[0].data().createdAt)==null?void 0:ye.toDate())||new Date};console.log("Found experiment:",Bt),o(Bt)}const Ce=_e(le(re,"vivaQuestions"),xe("experimentId","==",t)),bt=(await be(Ce)).docs.map(Bt=>({id:Bt.id,...Bt.data()}));if(console.log("Found questions:",bt.length),c(bt),bt.length>0&&s){const Bt=ce(bt,s.uid);console.log("Selected questions for student:",Bt.length),h(Bt),r||(w(new Array(Bt.length).fill(-1)),b(Bt.length*60)),B(Bt.length)}else console.log("No questions found for experiment:",t),h([]),B(0)}catch(Ee){console.error("Error fetching questions:",Ee),h([]),B(0)}},Q=()=>{k(!0),document.documentElement.requestFullscreen&&document.documentElement.requestFullscreen().catch(ye=>{console.log("Fullscreen request failed:",ye)})},de=ye=>{if(r)return;const Ee=[...g];Ee[p]=ye,w(Ee)},oe=()=>{p<f.length-1&&m(ye=>ye+1)},we=()=>{p>0&&m(ye=>ye-1)},Me=async()=>{if(!(S||M||r)){I(!0),U(!0);try{let ye=0;z?(ye=0,console.log("Test auto-submitted due to security violations - Score set to 0")):g.forEach((Ee,Ce)=>{Ee===f[Ce].correctAnswer&&ye++}),F(ye),await Xr(le(re,"vivaAttempts"),{studentId:s.uid,experimentId:t,score:ye,totalQuestions:f.length,completedAt:new Date,answers:g,selectedQuestionIds:f.map(Ee=>Ee.id),securityViolations:v,aiToolsDetected:ee,autoSubmittedDueToViolation:z,violationReason:z?"Security violations detected during test":null}),document.exitFullscreen&&document.exitFullscreen().catch(Ee=>{console.log("Exit fullscreen failed:",Ee)}),setTimeout(()=>{O(!0)},500)}catch(ye){console.error("Error submitting test:",ye),alert(`Error submitting test: ${ye.message}`),I(!1),U(!1)}}},pt=ye=>{!S&&!M&&!r&&(console.log(`Auto-submitting test: ${ye}`),J(!0),Me())},Ot=ye=>{const Ee=Math.floor(ye/60),Ce=ye%60;return`${Ee}:${Ce.toString().padStart(2,"0")}`},dt=()=>{const ye=D/K*100;return z?{grade:"F",label:"Test Terminated - Security Violations",color:"text-red-600"}:ye>=90?{grade:"A+",label:"Outstanding",color:"text-green-600"}:ye>=80?{grade:"A",label:"Exceptional Performance!",color:"text-green-600"}:ye>=70?{grade:"B+",label:"Great Job!",color:"text-blue-600"}:ye>=60?{grade:"B",label:"Good Work!",color:"text-yellow-600"}:ye>=50?{grade:"C",label:"Keep Improving!",color:"text-orange-600"}:{grade:"D",label:"Better Luck Next Time!",color:"text-red-600"}},xt=(ye,Ee)=>{const Ce=g[ye],Oe=f[ye].correctAnswer;return Ee===Oe?"correct":Ee===Ce&&Ce!==Oe?"wrong":"neutral"},Tt=f[p],mr=()=>{const ye=dt(),Ee=Math.round(D/K*100);return u.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:[u.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(12)].map((Ce,Oe)=>u.jsx("div",{className:"absolute w-1 h-1 bg-white/30 rounded-full animate-pulse",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*2}s`,animationDuration:`${2+Math.random()}s`}},`particle-${Oe}`))}),u.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4 overflow-hidden relative",children:[u.jsxs("div",{className:`px-6 py-4 text-center text-white ${z?"bg-gradient-to-r from-red-500 to-red-600":"bg-gradient-to-r from-emerald-500 to-teal-500"}`,children:[u.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-3 backdrop-blur-sm",children:z?u.jsx(Xl,{className:"h-6 w-6 text-white"}):u.jsx(Bf,{className:"h-6 w-6 text-white"})}),u.jsx("h2",{className:"text-xl font-bold mb-1",children:z?"Test Terminated":"Assessment Complete"}),u.jsx("p",{className:"text-emerald-100 text-sm truncate",children:a==null?void 0:a.title}),z&&u.jsx("p",{className:"text-red-100 text-xs mt-2 font-medium",children:"Due to Security Violations"})]}),u.jsxs("div",{className:"px-6 py-5",children:[z&&u.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-5",children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[u.jsx(Xl,{className:"h-5 w-5 text-red-600"}),u.jsx("span",{className:"font-semibold text-red-800",children:"Security Violation Detected"})]}),u.jsx("p",{className:"text-sm text-red-700 mb-2",children:"Your test was automatically submitted due to multiple security violations."}),u.jsxs("div",{className:"text-xs text-red-600 space-y-1",children:[u.jsxs("div",{children:[" Tab Switches: ",v.tabSwitches]}),u.jsxs("div",{children:[" Window Switches: ",v.windowSwitches]}),u.jsxs("div",{children:[" AI Tool Detections: ",v.aiToolDetections]}),u.jsxs("div",{children:[" DevTools Attempts: ",v.devToolsAttempts]}),ee.length>0&&u.jsxs("div",{children:[" AI Tools Detected: ",ee.join(", ")]})]}),u.jsxs("p",{className:"text-sm font-semibold text-red-800 mt-3",children:["Score: 0/",K," (Automatic penalty for violations)"]})]}),u.jsxs("div",{className:"text-center mb-5",children:[u.jsx("div",{className:`w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-3 shadow-lg ${z?"bg-gradient-to-br from-red-400 to-red-500":"bg-gradient-to-br from-emerald-400 to-teal-500"}`,children:u.jsxs("span",{className:"text-2xl font-bold text-white",children:[Ee,"%"]})}),u.jsx("div",{className:"mb-1",children:u.jsxs("span",{className:"text-xl font-bold text-gray-800",children:["Grade: ",ye.grade]})}),u.jsx("div",{className:"text-gray-600 text-sm",children:ye.label})]}),u.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 mb-5",children:[u.jsx("div",{className:"flex items-center justify-between mb-3",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Zv,{className:"h-4 w-4 text-gray-600"}),u.jsx("span",{className:"font-medium text-gray-800 text-sm",children:"Performance Breakdown"})]})}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-gray-600 text-sm",children:"Correct Answers"}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"w-16 h-1.5 bg-gray-200 rounded-full overflow-hidden",children:u.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ${z?"bg-red-500":"bg-emerald-500"}`,style:{width:`${D/K*100}%`}})}),u.jsxs("span",{className:`font-medium text-sm ${z?"text-red-600":"text-emerald-600"}`,children:[D,"/",K]})]})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-gray-600 text-sm",children:"Accuracy Rate"}),u.jsxs("span",{className:`font-medium text-sm ${z?"text-red-600":"text-blue-600"}`,children:[Ee,"%"]})]})]})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-5",children:[u.jsxs("div",{className:`text-center p-3 rounded-lg ${z?"bg-red-50":"bg-emerald-50"}`,children:[z?u.jsx(Hn,{className:"h-5 w-5 text-red-600 mx-auto mb-1"}):u.jsx(jn,{className:"h-5 w-5 text-emerald-600 mx-auto mb-1"}),u.jsx("div",{className:`text-lg font-bold ${z?"text-red-600":"text-emerald-600"}`,children:D}),u.jsx("div",{className:`text-xs ${z?"text-red-700":"text-emerald-700"}`,children:"Correct"})]}),u.jsxs("div",{className:"text-center p-3 bg-red-50 rounded-lg",children:[u.jsx(Hn,{className:"h-5 w-5 text-red-600 mx-auto mb-1"}),u.jsx("div",{className:"text-lg font-bold text-red-600",children:K-D}),u.jsx("div",{className:"text-xs text-red-700",children:"Incorrect"})]}),u.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[u.jsx(bw,{className:"h-5 w-5 text-blue-600 mx-auto mb-1"}),u.jsx("div",{className:"text-lg font-bold text-blue-600",children:K}),u.jsx("div",{className:"text-xs text-blue-700",children:"Total"})]})]}),u.jsx("div",{className:"text-center",children:r?u.jsxs("button",{onClick:n,className:"w-full px-6 py-2.5 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg font-medium hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 flex items-center justify-center space-x-2",children:[u.jsx(KE,{className:"h-4 w-4"}),u.jsx("span",{children:"Back to Experiments"})]}):u.jsxs("div",{className:"flex items-center justify-center space-x-2 text-gray-500 text-sm",children:[u.jsx(ps,{className:"h-4 w-4"}),u.jsxs("span",{children:["Redirecting in ",V," seconds..."]})]})})]})]})]})};if(j)return u.jsx(mr,{});if(!a||f.length===0)return u.jsx("div",{className:"fixed inset-0 bg-gray-900 flex items-center justify-center z-50",children:u.jsx("div",{className:"bg-white rounded-lg p-8 max-w-md w-full mx-4",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),u.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Loading Viva Test"}),u.jsx("p",{className:"text-gray-600",children:a?"Loading questions...":"Loading experiment details..."}),K===0&&a&&u.jsxs("div",{className:"mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[u.jsx("p",{className:"text-yellow-800 text-sm",children:"No viva questions found for this experiment. Please contact your faculty."}),u.jsx("button",{onClick:n,className:"mt-3 px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors",children:"Go Back"})]})]})})});if(!C&&!r)return Object.values(v).reduce((ye,Ee)=>ye+Ee,0),u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 overflow-y-auto",children:u.jsxs("div",{className:"bg-white rounded-lg max-w-3xl w-full p-8 my-8 max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"bg-blue-100 p-4 rounded-full w-20 h-20 mx-auto mb-4 flex items-center justify-center",children:u.jsx(aa,{className:"h-10 w-10 text-blue-600"})}),u.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:["Secure Viva Test: ",a==null?void 0:a.title]}),u.jsxs("p",{className:"text-gray-600",children:["You are about to start a monitored viva test with enhanced security. You will get exactly ",Math.min(l.length,10)," questions."]})]}),u.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 mb-6",children:u.jsxs("div",{className:"flex items-start space-x-3",children:[u.jsx(Xl,{className:"h-6 w-6 text-red-600 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-red-800 mb-2",children:" ENHANCED SECURITY MONITORING:"}),u.jsxs("ul",{className:"text-sm text-red-700 space-y-1",children:[u.jsxs("li",{children:[" ",u.jsx("strong",{children:"Tab Switching:"})," Switching tabs will be detected"]}),u.jsxs("li",{children:[" ",u.jsx("strong",{children:"Window Switching:"})," Alt+Tab, Cmd+Tab, and window focus changes monitored"]}),u.jsxs("li",{children:[" ",u.jsx("strong",{children:"AI Tool Detection:"})," ChatGPT, Claude, Bard, Copilot, and other AI tools detected"]}),u.jsxs("li",{children:[" ",u.jsx("strong",{children:"Developer Tools:"})," F12, Inspect Element, Console access blocked"]}),u.jsxs("li",{children:[" ",u.jsx("strong",{children:"Copy/Paste:"})," Clipboard operations disabled"]}),u.jsxs("li",{children:[" ",u.jsx("strong",{children:"Screenshots:"})," Print Screen and screen capture blocked"]}),u.jsxs("li",{children:[" ",u.jsx("strong",{children:"Right-Click:"})," Context menu disabled"]}),u.jsxs("li",{children:[" ",u.jsx("strong",{children:"Mouse Tracking:"})," Mouse leaving test area monitored"]})]})]})]})}),u.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 mb-6",children:u.jsxs("div",{className:"flex items-start space-x-3",children:[u.jsx(ps,{className:"h-6 w-6 text-yellow-600 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:" TEST INFORMATION:"}),u.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[u.jsxs("li",{children:[" Total Questions: ",Math.min(l.length,10)," (Maximum 10 questions)"]}),u.jsxs("li",{children:[" Time Limit: ",Math.min(l.length,10)," minutes (1 minute per question)"]}),u.jsx("li",{children:" Each correct answer carries 1 mark"}),l.length>10&&u.jsx("li",{children:" Questions are randomly selected from the question bank"}),u.jsx("li",{children:" Test will enter fullscreen mode for security"}),u.jsx("li",{children:" Once started, you cannot pause the test"})]})]})]})}),u.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-6 mb-6",children:u.jsxs("div",{className:"flex items-start space-x-3",children:[u.jsx(_s,{className:"h-6 w-6 text-orange-600 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-orange-800 mb-2",children:" VIOLATION POLICY:"}),u.jsxs("ul",{className:"text-sm text-orange-700 space-y-1",children:[u.jsxs("li",{children:[" ",u.jsx("strong",{children:"1st Violation:"})," Warning message displayed"]}),u.jsxs("li",{children:[" ",u.jsx("strong",{children:"2nd Violation:"})," Test automatically submitted with 0 marks"]}),u.jsx("li",{children:" All violations are logged and reported to faculty"}),u.jsx("li",{children:" AI tool usage will result in immediate test termination"}),u.jsxs("li",{children:[" ",u.jsx("strong",{children:"Zero tolerance:"})," Any cheating attempt results in 0 marks"]})]})]})]})}),u.jsxs("div",{className:"flex justify-center space-x-4",children:[u.jsx("button",{onClick:n,className:"px-6 py-3 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),u.jsxs("button",{onClick:Q,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[u.jsx(aa,{className:"h-5 w-5"}),u.jsx("span",{children:"I Understand - Start Secure Test"})]})]})]})});if(!Tt)return u.jsx("div",{className:"fixed inset-0 bg-gray-900 flex items-center justify-center z-50",children:u.jsx("div",{className:"bg-white rounded-lg p-8 max-w-md w-full mx-4",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Test Error"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"There was an error loading the test questions."}),u.jsx("button",{onClick:n,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Go Back"})]})})});const Xn=Object.values(v).reduce((ye,Ee)=>ye+Ee,0);return u.jsxs("div",{className:"fixed inset-0 bg-gray-900 flex flex-col z-50",children:[P&&!r&&u.jsx("div",{className:"bg-red-600 text-white p-4 text-center font-semibold animate-pulse border-b-4 border-red-800",children:u.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[u.jsx(Xl,{className:"h-6 w-6"}),u.jsx("span",{className:"text-lg",children:N}),u.jsx(Xl,{className:"h-6 w-6"})]})}),u.jsx("div",{className:"bg-white border-b p-4",children:u.jsxs("div",{className:"max-w-4xl mx-auto flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsxs("h1",{className:"text-xl font-bold text-gray-900",children:[r?"Viva Test Results":"Secure Viva Test",": ",a==null?void 0:a.title]}),u.jsxs("p",{className:"text-sm text-gray-600",children:["Question ",p+1," of ",f.length,r&&u.jsxs("span",{className:"ml-4 text-green-600 font-semibold",children:["Score: ",D,"/",K," (",Math.round(D/K*100),"%)"]})]})]}),u.jsx("div",{className:"flex items-center space-x-4",children:r?u.jsxs("button",{onClick:n,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[u.jsx(KE,{className:"h-4 w-4"}),u.jsx("span",{children:"Back"})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center space-x-4 bg-gray-50 rounded-lg px-4 py-2 border",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(aa,{className:`h-4 w-4 ${Xn===0?"text-green-500":Xn<3?"text-yellow-500":"text-red-500"}`}),u.jsx("span",{className:"text-sm font-medium",children:"Security Status"})]}),u.jsxs("div",{className:"text-xs space-y-1",children:[u.jsxs("div",{className:"flex space-x-3",children:[u.jsxs("span",{className:`${v.tabSwitches>0?"text-red-600":"text-green-600"}`,children:["Tabs: ",v.tabSwitches]}),u.jsxs("span",{className:`${v.windowSwitches>0?"text-red-600":"text-green-600"}`,children:["Windows: ",v.windowSwitches]}),u.jsxs("span",{className:`${v.aiToolDetections>0?"text-red-600":"text-green-600"}`,children:["AI: ",v.aiToolDetections]}),u.jsxs("span",{className:`${v.devToolsAttempts>0?"text-red-600":"text-green-600"}`,children:["DevTools: ",v.devToolsAttempts]})]}),u.jsx("div",{className:"text-center",children:u.jsxs("span",{className:`font-bold ${Xn<3?"text-gray-600":"text-red-600"}`,children:["Total Violations: ",Xn,"/2"]})})]})]}),u.jsxs("div",{className:`flex items-center space-x-2 px-3 py-2 rounded-lg ${$?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[u.jsx("div",{className:`w-2 h-2 rounded-full ${$?"bg-green-500":"bg-red-500"}`}),u.jsx("span",{className:"text-sm font-medium",children:$?"Focused":"Not Focused"})]}),u.jsxs("div",{className:`flex items-center space-x-2 px-3 py-2 rounded-lg ${_<=300?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:[u.jsx(ps,{className:"h-4 w-4"}),u.jsx("span",{className:"font-mono font-bold",children:Ot(_)})]})]})})]})}),u.jsx("div",{className:"flex-1 bg-gray-50 p-4 overflow-y-auto",children:u.jsx("div",{className:"max-w-4xl mx-auto",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[u.jsxs("div",{className:"mb-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("span",{className:`text-sm font-medium px-3 py-1 rounded-full ${r?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:["Question ",p+1,r&&u.jsx("span",{className:"ml-2",children:g[p]===(Tt==null?void 0:Tt.correctAnswer)?"":""})]}),u.jsx("span",{className:"text-sm text-gray-500",children:"1 Mark"})]}),u.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:Tt==null?void 0:Tt.question})]}),u.jsx("div",{className:"space-y-3 mb-8",children:Tt==null?void 0:Tt.options.map((ye,Ee)=>{const Ce=r?xt(p,Ee):null,Oe=g[p]===Ee;return u.jsx("button",{onClick:()=>de(Ee),disabled:r,className:`w-full p-4 text-left rounded-lg border-2 transition-all ${r?Ce==="correct"?"border-green-500 bg-green-50":Ce==="wrong"?"border-red-500 bg-red-50":Oe?"border-gray-400 bg-gray-50":"border-gray-200 bg-white":Oe?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300 hover:bg-blue-25"} ${r?"cursor-default":"cursor-pointer"}`,children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${r?Ce==="correct"?"border-green-500 bg-green-500":Ce==="wrong"?"border-red-500 bg-red-500":Oe?"border-gray-400 bg-gray-400":"border-gray-300":Oe?"border-blue-500 bg-blue-500":"border-gray-300"}`,children:r?Ce==="correct"?u.jsx(jn,{className:"h-4 w-4 text-white"}):Ce==="wrong"?u.jsx(Hn,{className:"h-4 w-4 text-white"}):Oe?u.jsx("div",{className:"w-2 h-2 bg-white rounded-full"}):null:Oe&&u.jsx(jn,{className:"h-4 w-4 text-white"})}),u.jsxs("span",{className:"font-medium text-gray-700",children:[String.fromCharCode(65+Ee),"."]}),u.jsx("span",{className:"text-gray-900",children:ye}),r&&Ce==="correct"&&u.jsx("span",{className:"ml-auto text-green-600 font-semibold",children:"Correct Answer"}),r&&Ce==="wrong"&&u.jsx("span",{className:"ml-auto text-red-600 font-semibold",children:"Your Answer"})]})},Ee)})}),u.jsxs("div",{className:"mb-6",children:[u.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[u.jsx("span",{children:"Progress"}),u.jsx("span",{children:r?`${p+1}/${f.length} questions`:`${g.filter(ye=>ye!==-1).length}/${f.length} answered`})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:`h-2 rounded-full transition-all ${r?"bg-purple-600":"bg-blue-600"}`,style:{width:`${(p+1)/f.length*100}%`}})})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("button",{onClick:we,disabled:p===0,className:"px-4 py-2 text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),u.jsx("div",{className:"flex space-x-2",children:!r&&p===f.length-1?u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("button",{onClick:Me,disabled:S||M||g.includes(-1),className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:S?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),u.jsx("span",{children:"Submitting..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(jn,{className:"h-4 w-4"}),u.jsx("span",{children:"Submit Test"})]})}),g.includes(-1)&&u.jsx("p",{className:"text-xs text-red-600 mt-2",children:"Please answer all questions before submitting"})]}):u.jsx("button",{onClick:oe,disabled:p===f.length-1,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})})]})]})})})]})},ife=()=>{const{userProfile:t}=fr(),[e,n]=L.useState([]),[r,i]=L.useState([]),[s,a]=L.useState([]),[o,l]=L.useState([]),[c,f]=L.useState(!1),[h,p]=L.useState(null),[m,g]=L.useState(null),[w,_]=L.useState(null),[b,v]=L.useState(!1),[x,P]=L.useState({title:"",description:"",manualLink:""}),[A,N]=L.useState("");L.useEffect(()=>(S(),(t==null?void 0:t.role)==="student"&&E(),()=>{}),[t]);const E=()=>{if(!t||t.role!=="student")return;const z=_e(le(re,"submissions"),xe("studentId","==",t.uid)),J=Jt(z,Q=>{const de=Q.docs.map(oe=>{var we,Me;return{id:oe.id,...oe.data(),submittedAt:((we=oe.data().submittedAt)==null?void 0:we.toDate())||new Date,approvedAt:(Me=oe.data().approvedAt)==null?void 0:Me.toDate()}});i(de),console.log("Real-time update: Submissions updated")}),se=_e(le(re,"vivaAttempts"),xe("studentId","==",t.uid)),q=Jt(se,Q=>{const de=Q.docs.map(oe=>{var we;return{id:oe.id,...oe.data(),completedAt:((we=oe.data().completedAt)==null?void 0:we.toDate())||new Date}});a(de),console.log("Real-time update: Viva attempts updated")}),ce=_e(le(re,"studentRecords"),xe("studentId","==",t.uid)),te=Jt(ce,Q=>{const de=Q.docs.map(oe=>{var we,Me;return{id:oe.id,...oe.data(),observationCorrectedDate:(we=oe.data().observationCorrectedDate)==null?void 0:we.toDate(),recordSubmittedDate:(Me=oe.data().recordSubmittedDate)==null?void 0:Me.toDate()}});l(de),console.log("Real-time update: Student records updated")});return()=>{J(),q(),te()}},S=async()=>{if(!t)return;const z=t.primaryFacultyId||t.uid;try{let J;t.role==="faculty"?J=_e(le(re,"experiments"),xe("facultyId","==",z)):J=_e(le(re,"experiments"),xe("facultyId","==",t.facultyId));const q=(await be(J)).docs.map(ce=>{var te;return{id:ce.id,...ce.data(),createdAt:((te=ce.data().createdAt)==null?void 0:te.toDate())||new Date}});n(q)}catch(J){console.error("Error fetching experiments:",J)}},I=async()=>{if(!(!t||t.role!=="student"))try{const z=_e(le(re,"submissions"),xe("studentId","==",t.uid)),se=(await be(z)).docs.map(q=>{var ce,te;return{id:q.id,...q.data(),submittedAt:((ce=q.data().submittedAt)==null?void 0:ce.toDate())||new Date,approvedAt:(te=q.data().approvedAt)==null?void 0:te.toDate()}});i(se)}catch(z){console.error("Error fetching submissions:",z)}},C=async()=>{if(!(!t||t.role!=="student"))try{const z=_e(le(re,"vivaAttempts"),xe("studentId","==",t.uid)),se=(await be(z)).docs.map(q=>{var ce;return{id:q.id,...q.data(),completedAt:((ce=q.data().completedAt)==null?void 0:ce.toDate())||new Date}});a(se)}catch(z){console.error("Error fetching viva attempts:",z)}},k=async z=>{z.preventDefault(),v(!0);const J=t.primaryFacultyId||t.uid;try{await Xr(le(re,"experiments"),{title:x.title,description:x.description,manualLink:x.manualLink,facultyId:J,createdAt:new Date,createdBy:t.uid,createdByName:t.name}),P({title:"",description:"",manualLink:""}),f(!1),S(),alert("Experiment added successfully!")}catch(se){console.error("Error adding experiment:",se),alert(`Error adding experiment: ${se.message}`)}finally{v(!1)}},j=async z=>{if(z.preventDefault(),!!h){v(!0);try{await pn(Et(re,"experiments",h.id),{title:x.title,description:x.description,manualLink:x.manualLink}),p(null),P({title:"",description:"",manualLink:""}),S(),alert("Experiment updated successfully!")}catch(J){console.error("Error updating experiment:",J),alert(`Error updating experiment: ${J.message}`)}finally{v(!1)}}},O=async z=>{if(confirm("Are you sure you want to delete this experiment?"))try{await So(Et(re,"experiments",z)),S(),alert("Experiment deleted successfully!")}catch(J){console.error("Error deleting experiment:",J),alert(`Error deleting experiment: ${J.message}`)}},D=async z=>{if(z.preventDefault(),!(!m||!A.trim())){v(!0);try{await Xr(le(re,"submissions"),{studentId:t.uid,experimentId:m.id,submissionLink:A.trim(),status:"pending",submittedAt:new Date}),N(""),g(null),I(),alert("Submission sent successfully! Wait for faculty approval.")}catch(J){console.error("Error submitting experiment:",J),alert(`Error submitting experiment: ${J.message}`)}finally{v(!1)}}},F=z=>{p(z),P({title:z.title,description:z.description,manualLink:z.manualLink})},K=()=>{f(!1),p(null),g(null),P({title:"",description:"",manualLink:""}),N("")},B=z=>r.find(J=>J.experimentId===z),M=z=>s.find(J=>J.experimentId===z),U=z=>o.find(J=>J.experimentId===z),V=z=>{z&&window.open(z,"_blank","noopener,noreferrer")},X=()=>{_(null),I(),C()},$=z=>{M(z)||_(z)},G=(z,J)=>{const se=z/J*100;return se>=80?"text-green-600 bg-green-50 border-green-200":se>=60?"text-yellow-600 bg-yellow-50 border-yellow-200":"text-red-600 bg-red-50 border-red-200"},ee=(z,J)=>{const se=z/J*100;return se>=90?u.jsx(Bf,{className:"h-4 w-4"}):se>=80?u.jsx(hi,{className:"h-4 w-4"}):se>=70?u.jsx(oB,{className:"h-4 w-4"}):u.jsx(bw,{className:"h-4 w-4"})},fe=(z,J)=>{const se=z/J*100;return se>=90?"Excellent":se>=80?"Very Good":se>=70?"Good":se>=60?"Average":"Needs Improvement"};return w?u.jsx(rfe,{experimentId:w,onComplete:X,onCancel:()=>_(null)}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:(t==null?void 0:t.role)==="faculty"?"Experiments Management":"Experiments"}),(t==null?void 0:t.role)==="faculty"&&u.jsxs("button",{onClick:()=>f(!0),className:"bg-purple-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:bg-purple-700 transition-colors",children:[u.jsx(hm,{className:"h-5 w-5"}),u.jsx("span",{children:"Add Experiment"})]})]}),(t==null?void 0:t.role)==="student"&&e.length>0&&u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"bg-gradient-to-r from-green-50 via-emerald-50 to-teal-50 rounded-xl p-6 border border-emerald-200",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"bg-emerald-100 p-3 rounded-full",children:u.jsx(wn,{className:"h-6 w-6 text-emerald-600"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Course Syllabus"}),u.jsx("p",{className:"text-emerald-700",children:"Access the complete ARTIFICIAL INTELLIGENCE Lab syllabus"})]})]}),u.jsxs("button",{onClick:()=>window.open("https://drive.google.com/file/d/173qD-30lRbfReGWk06gbAfHsLy2Hsqls/view?usp=sharing","_blank","noopener,noreferrer"),className:"bg-emerald-600 text-white px-6 py-3 rounded-lg flex items-center space-x-2 hover:bg-emerald-700 transition-colors shadow-lg hover:shadow-xl transform hover:scale-105",children:[u.jsx(wn,{className:"h-5 w-5"}),u.jsx("span",{children:"View Syllabus"}),u.jsx(e0,{className:"h-4 w-4"})]})]})}),u.jsxs("div",{className:"bg-gradient-to-r from-blue-50 via-purple-50 to-pink-50 rounded-xl p-6 border border-purple-200",children:[u.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center space-x-2",children:[u.jsx(Bf,{className:"h-6 w-6 text-purple-600"}),u.jsx("span",{children:"Your Performance Overview"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[u.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.length}),u.jsx("div",{className:"text-sm text-gray-600",children:"Total Experiments"})]}),u.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[u.jsx("div",{className:"text-2xl font-bold text-green-600",children:r.filter(z=>z.status==="approved").length}),u.jsx("div",{className:"text-sm text-gray-600",children:"Approved Submissions"})]}),u.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[u.jsx("div",{className:"text-2xl font-bold text-purple-600",children:s.length}),u.jsx("div",{className:"text-sm text-gray-600",children:"Viva Tests Completed"})]}),u.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[u.jsxs("div",{className:"text-2xl font-bold text-yellow-600",children:[s.length>0?Math.round(s.reduce((z,J)=>z+J.score/J.totalQuestions,0)/s.length*100):0,"%"]}),u.jsx("div",{className:"text-sm text-gray-600",children:"Average Viva Score"})]})]})]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(z=>{const J=(t==null?void 0:t.role)==="student"?B(z.id):null,se=(t==null?void 0:t.role)==="student"?M(z.id):null,q=(t==null?void 0:t.role)==="student"?U(z.id):null;return u.jsx("div",{className:"bg-white rounded-lg shadow-sm border hover:shadow-md transition-shadow",children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:u.jsx(wn,{className:"h-6 w-6 text-purple-600"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:z.title}),u.jsxs("p",{className:"text-sm text-gray-600",children:["Created ",z.createdAt.toLocaleDateString(),z.createdByName&&z.createdBy!==((t==null?void 0:t.primaryFacultyId)||(t==null?void 0:t.uid))&&u.jsxs("span",{className:"ml-2 text-blue-600",children:["by ",z.createdByName]})]})]})]}),(t==null?void 0:t.role)==="faculty"&&u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("button",{onClick:()=>F(z),className:"text-blue-600 hover:text-blue-800 p-1",children:u.jsx(xw,{className:"h-4 w-4"})}),u.jsx("button",{onClick:()=>O(z.id),className:"text-red-600 hover:text-red-800 p-1",children:u.jsx(pm,{className:"h-4 w-4"})})]})]}),u.jsx("p",{className:"text-gray-700 mb-4 line-clamp-3",children:z.description}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("button",{onClick:()=>V(z.manualLink),className:"w-full flex items-center justify-center space-x-2 px-4 py-2 bg-green-50 text-green-700 rounded-lg hover:bg-green-100 transition-colors",children:[u.jsx(e0,{className:"h-4 w-4"}),u.jsx("span",{children:"View Manual"})]}),(t==null?void 0:t.role)==="student"&&u.jsx("div",{className:"space-y-3",children:J?u.jsxs("div",{className:`p-3 rounded-lg border ${J.status==="approved"?"bg-green-50 border-green-200":J.status==="rejected"?"bg-red-50 border-red-200":"bg-yellow-50 border-yellow-200"}`,children:[u.jsx("div",{className:"flex items-center justify-between mb-2",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[J.status==="approved"?u.jsx(jn,{className:"h-5 w-5 text-green-600"}):J.status==="rejected"?u.jsx(Hn,{className:"h-5 w-5 text-red-600"}):u.jsx(ps,{className:"h-5 w-5 text-yellow-600"}),u.jsxs("span",{className:`text-sm font-medium ${J.status==="approved"?"text-green-800":J.status==="rejected"?"text-red-800":"text-yellow-800"}`,children:["Submission ",J.status==="approved"?"Approved":J.status==="rejected"?"Rejected":"Pending Review"]})]})}),J.status==="approved"&&u.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsx("div",{className:`p-2 rounded-lg border ${q!=null&&q.observationCorrected?"bg-green-50 border-green-200":"bg-yellow-50 border-yellow-200"}`,children:u.jsxs("div",{className:"flex items-center space-x-2",children:[q!=null&&q.observationCorrected?u.jsx(Gs,{className:"h-4 w-4 text-green-600"}):u.jsx(ps,{className:"h-4 w-4 text-yellow-600"}),u.jsxs("div",{children:[u.jsx("div",{className:`text-xs font-medium ${q!=null&&q.observationCorrected?"text-green-800":"text-yellow-800"}`,children:"Observation"}),u.jsx("div",{className:`text-xs ${q!=null&&q.observationCorrected?"text-green-600":"text-yellow-600"}`,children:q!=null&&q.observationCorrected?"Corrected":"Pending"})]})]})}),u.jsx("div",{className:`p-2 rounded-lg border ${q!=null&&q.recordSubmitted?"bg-green-50 border-green-200":"bg-yellow-50 border-yellow-200"}`,children:u.jsxs("div",{className:"flex items-center space-x-2",children:[q!=null&&q.recordSubmitted?u.jsx(Gs,{className:"h-4 w-4 text-green-600"}):u.jsx(ps,{className:"h-4 w-4 text-yellow-600"}),u.jsxs("div",{children:[u.jsx("div",{className:`text-xs font-medium ${q!=null&&q.recordSubmitted?"text-green-800":"text-yellow-800"}`,children:"Record"}),u.jsx("div",{className:`text-xs ${q!=null&&q.recordSubmitted?"text-green-600":"text-yellow-600"}`,children:q!=null&&q.recordSubmitted?"Submitted":"Pending"})]})]})})]})}),J.status==="approved"&&u.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:se?u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Viva Test Result:"}),u.jsxs("div",{className:"flex items-center space-x-2",children:[ee(se.score,se.totalQuestions),u.jsx("span",{className:"text-sm font-medium text-gray-600",children:fe(se.score,se.totalQuestions)})]})]}),u.jsxs("div",{className:`p-3 rounded-lg border-2 ${G(se.score,se.totalQuestions)}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Bf,{className:"h-5 w-5"}),u.jsxs("span",{className:"font-bold text-lg",children:[se.score,"/",se.totalQuestions]})]}),u.jsx("div",{className:"text-right",children:u.jsxs("div",{className:"text-2xl font-bold",children:[Math.round(se.score/se.totalQuestions*100),"%"]})})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:u.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${se.score/se.totalQuestions*100>=80?"bg-green-500":se.score/se.totalQuestions*100>=60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${se.score/se.totalQuestions*100}%`}})}),u.jsxs("div",{className:"flex justify-between text-xs",children:[u.jsxs("span",{children:["Completed: ",se.completedAt.toLocaleDateString()]}),u.jsxs("span",{children:["Questions: ",se.totalQuestions]})]})]})]}):u.jsxs("button",{onClick:()=>$(z.id),className:"w-full flex items-center justify-center space-x-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[u.jsx(rB,{className:"h-4 w-4"}),u.jsx("span",{children:"Take Viva Test"})]})})]}):u.jsxs("button",{onClick:()=>g(z),className:"w-full flex items-center justify-center space-x-2 px-4 py-2 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors",children:[u.jsx(n0,{className:"h-4 w-4"}),u.jsx("span",{children:"Submit Experiment"})]})})]})]})},z.id)})}),e.length===0&&u.jsxs("div",{className:"text-center py-12 bg-white rounded-lg border",children:[u.jsx(wn,{className:"mx-auto h-12 w-12 text-gray-400"}),u.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No experiments found"}),u.jsx("p",{className:"mt-1 text-sm text-gray-500",children:(t==null?void 0:t.role)==="faculty"?"Get started by adding your first experiment.":"No experiments have been added by your faculty yet."})]}),(c||h)&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:h?"Edit Experiment":"Add New Experiment"}),u.jsx("button",{onClick:K,className:"text-gray-400 hover:text-gray-600",children:u.jsx(Hn,{className:"h-6 w-6"})})]}),u.jsxs("form",{onSubmit:h?j:k,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Experiment Title"}),u.jsx("input",{type:"text",required:!0,value:x.title,onChange:z=>P({...x,title:z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter experiment title"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),u.jsx("textarea",{required:!0,rows:3,value:x.description,onChange:z=>P({...x,description:z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter experiment description"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Manual Google Drive Link"}),u.jsx("input",{type:"url",required:!0,value:x.manualLink,onChange:z=>P({...x,manualLink:z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"https://drive.google.com/..."})]}),u.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[u.jsx("button",{type:"button",onClick:K,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Cancel"}),u.jsx("button",{type:"submit",disabled:b,className:"px-4 py-2 text-sm font-medium text-white bg-purple-600 rounded-md hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:b?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),u.jsx("span",{children:"Saving..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(jn,{className:"h-4 w-4"}),u.jsxs("span",{children:[h?"Update":"Add"," Experiment"]})]})})]})]})]})}),m&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Submit Experiment: ",m.title]}),u.jsx("button",{onClick:K,className:"text-gray-400 hover:text-gray-600",children:u.jsx(Hn,{className:"h-6 w-6"})})]}),u.jsxs("form",{onSubmit:D,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Google Drive Link (PDF)"}),u.jsx("input",{type:"url",required:!0,value:A,onChange:z=>N(z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://drive.google.com/..."}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Upload your experiment execution PDF to Google Drive and share the link here."})]}),u.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[u.jsx("button",{type:"button",onClick:K,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Cancel"}),u.jsx("button",{type:"submit",disabled:b||!A.trim(),className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:b?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),u.jsx("span",{children:"Submitting..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(Rh,{className:"h-4 w-4"}),u.jsx("span",{children:"Submit"})]})})]})]})]})})]})},sfe=()=>{var U;const{userProfile:t}=fr(),[e,n]=L.useState([]),[r,i]=L.useState(""),[s,a]=L.useState([]),[o,l]=L.useState(!1),[c,f]=L.useState(!1),[h,p]=L.useState(null),[m,g]=L.useState(!1),[w,_]=L.useState(null),[b,v]=L.useState([]),[x,P]=L.useState([]),[A,N]=L.useState({question:"",options:["","","",""],correctAnswer:0});L.useEffect(()=>{E()},[t]),L.useEffect(()=>{r&&S()},[r]);const E=async()=>{if(!t)return;const V=t.primaryFacultyId||t.uid;try{const X=_e(le(re,"experiments"),xe("facultyId","==",V)),G=(await be(X)).docs.map(ee=>{var fe;return{id:ee.id,...ee.data(),createdAt:((fe=ee.data().createdAt)==null?void 0:fe.toDate())||new Date}});n(G)}catch(X){console.error("Error fetching experiments:",X)}},S=async()=>{if(r)try{const V=_e(le(re,"vivaQuestions"),xe("experimentId","==",r)),$=(await be(V)).docs.map(G=>({id:G.id,...G.data()}));a($)}catch(V){console.error("Error fetching questions:",V)}},I=async V=>{if(V.preventDefault(),!!r){g(!0);try{await Xr(le(re,"vivaQuestions"),{experimentId:r,question:A.question,options:A.options,correctAnswer:A.correctAnswer,facultyId:t.primaryFacultyId||t.uid}),N({question:"",options:["","","",""],correctAnswer:0}),l(!1),S(),alert("Question added successfully!")}catch(X){console.error("Error adding question:",X),alert(`Error adding question: ${X.message}`)}finally{g(!1)}}},C=async V=>{if(V.preventDefault(),!!h){g(!0);try{await pn(Et(re,"vivaQuestions",h.id),{question:A.question,options:A.options,correctAnswer:A.correctAnswer}),p(null),N({question:"",options:["","","",""],correctAnswer:0}),S(),alert("Question updated successfully!")}catch(X){console.error("Error updating question:",X),alert(`Error updating question: ${X.message}`)}finally{g(!1)}}},k=async V=>{if(confirm("Are you sure you want to delete this question?"))try{await So(Et(re,"vivaQuestions",V)),S(),alert("Question deleted successfully!")}catch(X){console.error("Error deleting question:",X),alert(`Error deleting question: ${X.message}`)}},j=V=>{var $;const X=($=V.target.files)==null?void 0:$[0];if(X){if(X.type!=="text/csv"&&!X.name.endsWith(".csv")){alert("Please select a valid CSV file");return}_(X),O(X)}},O=V=>{const X=new FileReader;X.onload=$=>{var ce;const ee=((ce=$.target)==null?void 0:ce.result).split(`
`).filter(te=>te.trim());if(ee.length<2){P(["CSV file must contain at least a header row and one data row"]);return}const fe=ee[0].split(",").map(te=>te.trim().toLowerCase()),z=["serialno","question","a","b","c","d","correctanswer"],J=[];if(z.forEach(te=>{fe.includes(te)||J.push(`Missing column: ${te}`)}),J.length>0){P(J);return}const se=[],q=[];for(let te=1;te<ee.length;te++){const Q=ee[te].split(",").map(Me=>Me.trim());if(Q.length!==fe.length){q.push(`Row ${te+1}: Expected ${fe.length} columns, got ${Q.length}`);continue}const de={};if(fe.forEach((Me,pt)=>{de[Me]=Q[pt]}),!de.question||!de.a||!de.b||!de.c||!de.d){q.push(`Row ${te+1}: Missing required fields`);continue}const oe=de.correctanswer.toLowerCase();if(!["a","b","c","d","0","1","2","3"].includes(oe)){q.push(`Row ${te+1}: Correct answer must be A, B, C, D or 0, 1, 2, 3`);continue}let we=0;["a","0"].includes(oe)?we=0:["b","1"].includes(oe)?we=1:["c","2"].includes(oe)?we=2:["d","3"].includes(oe)&&(we=3),se.push({serialNo:de.serialno,question:de.question,options:[de.a,de.b,de.c,de.d],correctAnswer:we,originalCorrectAnswer:de.correctanswer})}P(q),v(se)},X.readAsText(V)},D=async()=>{if(!(!r||b.length===0)){g(!0);try{const V=b.map(X=>Xr(le(re,"vivaQuestions"),{experimentId:r,question:X.question,options:X.options,correctAnswer:X.correctAnswer,facultyId:t.primaryFacultyId||t.uid}));await Promise.all(V),_(null),v([]),P([]),f(!1),S(),alert(`Successfully uploaded ${b.length} questions!`)}catch(V){console.error("Error uploading CSV questions:",V),alert(`Error uploading questions: ${V.message}`)}finally{g(!1)}}},F=()=>{const V=`serialno,question,a,b,c,d,correctanswer
1,"What is the capital of France?","Paris","London","Berlin","Madrid","a"
2,"Which planet is closest to the Sun?","Venus","Mercury","Earth","Mars","b"
3,"What is 2 + 2?","3","4","5","6","b"`,X=new Blob([V],{type:"text/csv"}),$=window.URL.createObjectURL(X),G=document.createElement("a");G.href=$,G.download="viva_questions_template.csv",document.body.appendChild(G),G.click(),document.body.removeChild(G),window.URL.revokeObjectURL($)},K=V=>{p(V),N({question:V.question,options:[...V.options],correctAnswer:V.correctAnswer})},B=()=>{l(!1),f(!1),p(null),_(null),v([]),P([]),N({question:"",options:["","","",""],correctAnswer:0})},M=(V,X)=>{const $=[...A.options];$[V]=X,N({...A,options:$})};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Viva Questions Management"}),u.jsxs("div",{className:"flex space-x-3",children:[u.jsxs("button",{onClick:F,className:"bg-green-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:bg-green-700 transition-colors",children:[u.jsx(JU,{className:"h-5 w-5"}),u.jsx("span",{children:"Download Template"})]}),u.jsxs("button",{onClick:()=>f(!0),disabled:!r,className:"bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[u.jsx(n0,{className:"h-5 w-5"}),u.jsx("span",{children:"Upload CSV"})]}),u.jsxs("button",{onClick:()=>l(!0),disabled:!r,className:"bg-orange-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[u.jsx(hm,{className:"h-5 w-5"}),u.jsx("span",{children:"Add Question"})]})]})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[u.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[u.jsx(wn,{className:"h-6 w-6 text-orange-600"}),u.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Select Experiment"})]}),e.length>0?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(V=>u.jsxs("button",{onClick:()=>i(V.id),className:`p-4 rounded-lg border-2 transition-all text-left ${r===V.id?"border-orange-500 bg-orange-50 shadow-md":"border-gray-200 hover:border-orange-300 hover:bg-orange-25"}`,children:[u.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:V.title}),u.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:V.description}),u.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[u.jsxs("span",{className:"text-xs text-gray-500",children:["Created: ",V.createdAt.toLocaleDateString()]}),r===V.id&&u.jsx("span",{className:"text-xs bg-orange-100 text-orange-800 px-2 py-1 rounded-full",children:"Selected"})]})]},V.id))}):u.jsxs("div",{className:"text-center py-8",children:[u.jsx(wn,{className:"mx-auto h-12 w-12 text-gray-400"}),u.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No experiments found"}),u.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Please create experiments first to add viva questions."})]})]}),r&&u.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[u.jsx("div",{className:"p-6 border-b",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx(dc,{className:"h-6 w-6 text-orange-600"}),u.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Viva Questions (",s.length,")"]})]}),u.jsx("div",{className:"text-sm text-gray-600",children:(U=e.find(V=>V.id===r))==null?void 0:U.title})]})}),u.jsx("div",{className:"divide-y divide-gray-200",children:s.map((V,X)=>u.jsx("div",{className:"p-6 hover:bg-gray-50",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"flex items-center space-x-3 mb-3",children:u.jsxs("span",{className:"bg-orange-100 text-orange-800 text-sm font-medium px-2.5 py-0.5 rounded-full",children:["Q",X+1]})}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:V.question}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-4",children:V.options.map(($,G)=>u.jsx("div",{className:`p-3 rounded-lg border ${G===V.correctAnswer?"border-green-500 bg-green-50":"border-gray-200 bg-gray-50"}`,children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-sm font-medium ${G===V.correctAnswer?"bg-green-500 text-white":"bg-gray-300 text-gray-700"}`,children:String.fromCharCode(65+G)}),u.jsx("span",{className:"text-gray-900",children:$}),G===V.correctAnswer&&u.jsx(jn,{className:"h-4 w-4 text-green-600 ml-auto"})]})},G))}),u.jsxs("div",{className:"text-sm text-green-600 font-medium",children:["Correct Answer: ",String.fromCharCode(65+V.correctAnswer)," - ",V.options[V.correctAnswer]]})]}),u.jsxs("div",{className:"flex space-x-2 ml-4",children:[u.jsx("button",{onClick:()=>K(V),className:"text-blue-600 hover:text-blue-900 p-2 rounded-full hover:bg-blue-50",children:u.jsx(xw,{className:"h-4 w-4"})}),u.jsx("button",{onClick:()=>k(V.id),className:"text-red-600 hover:text-red-900 p-2 rounded-full hover:bg-red-50",children:u.jsx(pm,{className:"h-4 w-4"})})]})]})},V.id))}),s.length===0&&u.jsxs("div",{className:"text-center py-12",children:[u.jsx(dc,{className:"mx-auto h-12 w-12 text-gray-400"}),u.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No questions found"}),u.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Add viva questions for this experiment using the buttons above."})]})]}),(o||h)&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:h?"Edit Question":"Add New Question"}),u.jsx("button",{onClick:B,className:"text-gray-400 hover:text-gray-600",children:u.jsx(Hn,{className:"h-6 w-6"})})]}),u.jsxs("form",{onSubmit:h?C:I,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Question"}),u.jsx("textarea",{required:!0,rows:3,value:A.question,onChange:V=>N({...A,question:V.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Enter the viva question"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Answer Options"}),u.jsx("div",{className:"space-y-3",children:A.options.map((V,X)=>u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("span",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center text-sm font-medium",children:String.fromCharCode(65+X)}),u.jsx("input",{type:"text",required:!0,value:V,onChange:$=>M(X,$.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:`Option ${String.fromCharCode(65+X)}`}),u.jsx("input",{type:"radio",name:"correctAnswer",checked:A.correctAnswer===X,onChange:()=>N({...A,correctAnswer:X}),className:"w-4 h-4 text-orange-600 focus:ring-orange-500"})]},X))}),u.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Select the radio button next to the correct answer"})]}),u.jsxs("div",{className:"flex justify-end space-x-3",children:[u.jsx("button",{type:"button",onClick:B,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Cancel"}),u.jsx("button",{type:"submit",disabled:m,className:"px-4 py-2 text-sm font-medium text-white bg-orange-600 rounded-md hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:m?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),u.jsx("span",{children:"Saving..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(jn,{className:"h-4 w-4"}),u.jsxs("span",{children:[h?"Update":"Add"," Question"]})]})})]})]})]})}),c&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Upload Questions via CSV"}),u.jsx("button",{onClick:B,className:"text-gray-400 hover:text-gray-600",children:u.jsx(Hn,{className:"h-6 w-6"})})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-start space-x-3",children:[u.jsx(Rh,{className:"h-5 w-5 text-blue-600 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"CSV Format Requirements:"}),u.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[u.jsxs("li",{children:[" ",u.jsx("strong",{children:"Columns:"})," serialno, question, a, b, c, d, correctanswer"]}),u.jsxs("li",{children:[" ",u.jsx("strong",{children:"Correct Answer:"})," Use A, B, C, D or 0, 1, 2, 3"]}),u.jsxs("li",{children:[" ",u.jsx("strong",{children:"No empty cells"})," in required columns"]}),u.jsxs("li",{children:[" ",u.jsx("strong",{children:"First row"})," must contain column headers"]})]})]})]})}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select CSV File"}),u.jsx("input",{type:"file",accept:".csv",onChange:j,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),x.length>0&&u.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-start space-x-3",children:[u.jsx(wC,{className:"h-5 w-5 text-red-600 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium text-red-800 mb-2",children:"Errors Found:"}),u.jsx("ul",{className:"text-sm text-red-700 space-y-1",children:x.map((V,X)=>u.jsxs("li",{children:[" ",V]},X))})]})]})}),b.length>0&&x.length===0&&u.jsxs("div",{children:[u.jsxs("h4",{className:"font-medium text-gray-900 mb-3",children:["Preview (",b.length," questions)"]}),u.jsxs("div",{className:"max-h-64 overflow-y-auto border border-gray-200 rounded-lg",children:[u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"S.No"}),u.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Question"}),u.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Options"}),u.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Correct"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b.slice(0,5).map((V,X)=>u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:V.serialNo}),u.jsx("td",{className:"px-4 py-2 text-sm text-gray-900 max-w-xs truncate",children:V.question}),u.jsxs("td",{className:"px-4 py-2 text-sm text-gray-600",children:["A: ",V.options[0].substring(0,20),"..."]}),u.jsx("td",{className:"px-4 py-2 text-sm font-medium text-green-600",children:String.fromCharCode(65+V.correctAnswer)})]},X))})]}),b.length>5&&u.jsxs("div",{className:"p-3 text-center text-sm text-gray-500 bg-gray-50",children:["... and ",b.length-5," more questions"]})]})]}),u.jsxs("div",{className:"flex justify-end space-x-3",children:[u.jsx("button",{type:"button",onClick:B,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Cancel"}),u.jsx("button",{onClick:D,disabled:m||b.length===0||x.length>0,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:m?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),u.jsx("span",{children:"Uploading..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(n0,{className:"h-4 w-4"}),u.jsxs("span",{children:["Upload ",b.length," Questions"]})]})})]})]})]})})]})},afe=()=>{var j,O;const{userProfile:t}=fr(),[e,n]=L.useState([]),[r,i]=L.useState([]),[s,a]=L.useState([]),[o,l]=L.useState([]),[c,f]=L.useState("all"),[h,p]=L.useState([]),[m,g]=L.useState(!1),[w,_]=L.useState("all");L.useEffect(()=>{b()},[t]),L.useEffect(()=>{P()},[e,c,w]);const b=async()=>{if(!t)return;const D=t.primaryFacultyId||t.uid;try{await v(D);const F=_e(le(re,"submissions"),VE("submittedAt","desc")),K=Jt(F,B=>{const M=B.docs.map(X=>{var $,G;return{id:X.id,...X.data(),submittedAt:(($=X.data().submittedAt)==null?void 0:$.toDate())||new Date,approvedAt:(G=X.data().approvedAt)==null?void 0:G.toDate()}}),U=s.map(X=>X.id),V=M.filter(X=>U.includes(X.experimentId));n(V),console.log("Real-time update: Submissions updated for faculty")});return()=>{K()}}catch(F){console.error("Error setting up real-time listeners:",F)}},v=async D=>{try{const F=_e(le(re,"students"),xe("facultyId","==",D)),B=(await be(F)).docs.map(G=>({id:G.id,...G.data()}));i(B);const U=(await be(le(re,"users"))).docs.map(G=>({id:G.id,...G.data()}));l(U);const V=_e(le(re,"experiments"),xe("facultyId","==",D)),$=(await be(V)).docs.map(G=>{var ee;return{id:G.id,...G.data(),createdAt:((ee=G.data().createdAt)==null?void 0:ee.toDate())||new Date}});a($)}catch(F){console.error("Error fetching static data:",F)}},x=async()=>{if(!t)return;const D=t.primaryFacultyId||t.uid;try{const F=_e(le(re,"students"),xe("facultyId","==",D)),B=(await be(F)).docs.map(J=>({id:J.id,...J.data()}));i(B);const U=(await be(le(re,"users"))).docs.map(J=>({id:J.id,...J.data()}));l(U);const V=_e(le(re,"experiments"),xe("facultyId","==",D)),$=(await be(V)).docs.map(J=>{var se;return{id:J.id,...J.data(),createdAt:((se=J.data().createdAt)==null?void 0:se.toDate())||new Date}});a($);const G=$.map(J=>J.id),z=(await be(_e(le(re,"submissions"),VE("submittedAt","desc")))).docs.map(J=>{var se,q;return{id:J.id,...J.data(),submittedAt:((se=J.data().submittedAt)==null?void 0:se.toDate())||new Date,approvedAt:(q=J.data().approvedAt)==null?void 0:q.toDate()}}).filter(J=>G.includes(J.experimentId));n(z)}catch(F){console.error("Error fetching data:",F)}},P=()=>{let D=e;c!=="all"&&(D=D.filter(F=>F.experimentId===c)),w!=="all"&&(D=D.filter(F=>F.status===w)),p(D)},A=async(D,F)=>{g(!0);try{await pn(Et(re,"submissions",D),{status:F==="approve"?"approved":"rejected",approvedAt:F==="approve"?new Date:null,approvedBy:t.uid,approvedByName:t.name}),x(),alert(`Submission ${F==="approve"?"approved":"rejected"} successfully!`)}catch(K){console.error(`Error ${F}ing submission:`,K),alert(`Error ${F}ing submission: ${K.message}`)}finally{g(!1)}},N=D=>{const F=o.find(M=>M.uid===D||M.id===D);if(F)return{name:F.name,rollNo:F.rollNo||"N/A",email:F.email};const K=r.find(M=>M.id===D||M.uid===D||M.userId===D);if(K)return{name:K.name,rollNo:K.rollNo,email:K.email};const B=o.find(M=>M.uid===D);if(B){const M=r.find(U=>U.email===B.email);if(M)return{name:M.name,rollNo:M.rollNo,email:M.email}}return{name:"Unknown Student",rollNo:"Unknown",email:"Unknown"}},E=D=>{const F=s.find(K=>K.id===D);return F?F.title:"Unknown Experiment"},S=D=>{D&&window.open(D,"_blank","noopener,noreferrer")},I=D=>{switch(D){case"approved":return"bg-green-100 text-green-800 border-green-200";case"rejected":return"bg-red-100 text-red-800 border-red-200";default:return"bg-yellow-100 text-yellow-800 border-yellow-200"}},C=D=>{switch(D){case"approved":return u.jsx(jn,{className:"h-4 w-4"});case"rejected":return u.jsx(Hn,{className:"h-4 w-4"});default:return u.jsx(ps,{className:"h-4 w-4"})}},k=D=>{const F=e.filter(K=>K.experimentId===D);return{total:F.length,pending:F.filter(K=>K.status==="pending").length,approved:F.filter(K=>K.status==="approved").length,rejected:F.filter(K=>K.status==="rejected").length}};return u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"flex justify-between items-center",children:u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Student Submissions"})}),u.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[u.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[u.jsx(wn,{className:"h-6 w-6 text-purple-600"}),u.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Select Experiment"})]}),s.length>0?u.jsxs("div",{className:"space-y-4",children:[u.jsx("button",{onClick:()=>f("all"),className:`w-full p-4 rounded-lg border-2 transition-all text-left ${c==="all"?"border-purple-500 bg-purple-50 shadow-md":"border-gray-200 hover:border-purple-300 hover:bg-purple-25"}`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:"All Experiments"}),u.jsx("p",{className:"text-sm text-gray-600",children:"View submissions from all experiments"})]}),u.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"font-bold text-blue-600",children:e.length}),u.jsx("div",{className:"text-gray-500",children:"Total"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"font-bold text-yellow-600",children:e.filter(D=>D.status==="pending").length}),u.jsx("div",{className:"text-gray-500",children:"Pending"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"font-bold text-green-600",children:e.filter(D=>D.status==="approved").length}),u.jsx("div",{className:"text-gray-500",children:"Approved"})]})]})]})}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(D=>{const F=k(D.id);return u.jsxs("button",{onClick:()=>f(D.id),className:`p-4 rounded-lg border-2 transition-all text-left ${c===D.id?"border-purple-500 bg-purple-50 shadow-md":"border-gray-200 hover:border-purple-300 hover:bg-purple-25"}`,children:[u.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:D.title}),u.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mb-3",children:D.description}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[u.jsxs("div",{className:"flex items-center justify-between bg-white rounded p-2",children:[u.jsx("span",{className:"text-gray-600",children:"Total:"}),u.jsx("span",{className:"font-bold text-blue-600",children:F.total})]}),u.jsxs("div",{className:"flex items-center justify-between bg-white rounded p-2",children:[u.jsx("span",{className:"text-gray-600",children:"Pending:"}),u.jsx("span",{className:"font-bold text-yellow-600",children:F.pending})]}),u.jsxs("div",{className:"flex items-center justify-between bg-white rounded p-2",children:[u.jsx("span",{className:"text-gray-600",children:"Approved:"}),u.jsx("span",{className:"font-bold text-green-600",children:F.approved})]}),u.jsxs("div",{className:"flex items-center justify-between bg-white rounded p-2",children:[u.jsx("span",{className:"text-gray-600",children:"Rejected:"}),u.jsx("span",{className:"font-bold text-red-600",children:F.rejected})]})]})]},D.id)})})]}):u.jsxs("div",{className:"text-center py-8",children:[u.jsx(wn,{className:"mx-auto h-12 w-12 text-gray-400"}),u.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No experiments found"}),u.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Please add experiments first to view submissions."})]})]}),c&&u.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx(vw,{className:"h-5 w-5 text-gray-400"}),u.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filter by Status:"}),u.jsxs("select",{value:w,onChange:D=>_(D.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[u.jsx("option",{value:"all",children:"All Submissions"}),u.jsx("option",{value:"pending",children:"Pending Review"}),u.jsx("option",{value:"approved",children:"Approved"}),u.jsx("option",{value:"rejected",children:"Rejected"})]})]}),u.jsx("div",{className:"text-sm text-gray-600",children:c==="all"?`Showing ${h.length} of ${e.length} total submissions`:`Showing ${h.length} submissions for selected experiment`})]})}),c&&u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[u.jsx(xf,{title:c==="all"?"Total Submissions":"Experiment Submissions",count:h.length,icon:u.jsx(Rh,{className:"h-6 w-6 text-blue-600"}),bg:"bg-blue-100"}),u.jsx(xf,{title:"Pending Review",count:h.filter(D=>D.status==="pending").length,icon:u.jsx(ps,{className:"h-6 w-6 text-yellow-600"}),bg:"bg-yellow-100"}),u.jsx(xf,{title:"Approved",count:h.filter(D=>D.status==="approved").length,icon:u.jsx(jn,{className:"h-6 w-6 text-green-600"}),bg:"bg-green-100"}),u.jsx(xf,{title:"Rejected",count:h.filter(D=>D.status==="rejected").length,icon:u.jsx(Hn,{className:"h-6 w-6 text-red-600"}),bg:"bg-red-100"})]}),c&&u.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[c!=="all"&&u.jsx("div",{className:"p-6 border-b bg-gray-50",children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx(wn,{className:"h-6 w-6 text-purple-600"}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:(j=s.find(D=>D.id===c))==null?void 0:j.title}),u.jsx("p",{className:"text-sm text-gray-600",children:(O=s.find(D=>D.id===c))==null?void 0:O.description})]})]})}),u.jsx("div",{className:"divide-y divide-gray-200",children:h.map(D=>{const F=N(D.studentId);return u.jsx("div",{className:"p-6 hover:bg-gray-50",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx($r,{className:"h-4 w-4 text-gray-500"}),u.jsx("span",{className:"font-medium text-gray-900",children:F.name})]}),u.jsxs("span",{className:"text-sm text-gray-500",children:["Roll No: ",F.rollNo]}),u.jsx("span",{className:"text-xs text-gray-400",children:F.email})]}),c==="all"&&u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:E(D.experimentId)}),u.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500 mb-3",children:[u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx(_C,{className:"h-4 w-4"}),u.jsxs("span",{children:["Submitted: ",D.submittedAt.toLocaleDateString()]})]}),D.approvedAt&&u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx(jn,{className:"h-4 w-4"}),u.jsxs("span",{children:["Approved: ",D.approvedAt.toLocaleDateString()]})]})]}),u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsxs("span",{className:`inline-flex items-center space-x-1 px-2.5 py-0.5 rounded-full text-xs font-medium border ${I(D.status)}`,children:[C(D.status),u.jsx("span",{className:"capitalize",children:D.status})]}),u.jsxs("button",{onClick:()=>S(D.submissionLink),className:"inline-flex items-center space-x-1 text-blue-600 hover:text-blue-800 text-sm font-medium",children:[u.jsx(_s,{className:"h-4 w-4"}),u.jsx("span",{children:"View Submission"}),u.jsx(e0,{className:"h-3 w-3"})]})]})]}),D.status==="pending"&&u.jsxs("div",{className:"flex space-x-2 ml-4",children:[u.jsxs("button",{onClick:()=>A(D.id,"approve"),disabled:m,className:"inline-flex items-center space-x-1 px-3 py-2 text-sm font-medium text-white bg-green-600 rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(jn,{className:"h-4 w-4"}),u.jsx("span",{children:"Approve"})]}),u.jsxs("button",{onClick:()=>A(D.id,"reject"),disabled:m,className:"inline-flex items-center space-x-1 px-3 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(Hn,{className:"h-4 w-4"}),u.jsx("span",{children:"Reject"})]})]})]})},D.id)})}),h.length===0&&c&&u.jsxs("div",{className:"text-center py-12",children:[u.jsx(Rh,{className:"mx-auto h-12 w-12 text-gray-400"}),u.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No submissions found"}),u.jsx("p",{className:"mt-1 text-sm text-gray-500",children:c==="all"?w==="all"?"No student submissions have been received yet.":`No ${w} submissions found.`:w==="all"?"No submissions found for this experiment.":`No ${w} submissions found for this experiment.`})]})]})]})},xf=({title:t,count:e,icon:n,bg:r})=>u.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-600",children:t}),u.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),u.jsx("div",{className:`p-3 rounded-full ${r}`,children:n})]})}),ofe=()=>{var X;const{userProfile:t,currentUser:e}=fr(),[n,r]=L.useState(null),[i,s]=L.useState([]),[a,o]=L.useState([]),[l,c]=L.useState(!1),[f,h]=L.useState(!1),[p,m]=L.useState(null),[g,w]=L.useState([]),[_,b]=L.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[v,x]=L.useState({name:"",email:"",password:"cse@nbkr"}),[P,A]=L.useState(!1),[N,E]=L.useState(!1),[S,I]=L.useState(""),[C,k]=L.useState("");L.useEffect(()=>{(t==null?void 0:t.role)==="student"&&(t!=null&&t.facultyId)?(O(),D()):(t==null?void 0:t.role)==="faculty"&&F(),j()},[t]);const j=async()=>{if(!(!t||!e))try{await M2(oo,t.email,"cse@nbkr"),m(!0),e&&await e.reload()}catch{m(!1)}},O=async()=>{var $,G;if(t!=null&&t.facultyId)try{const ee=[],fe=await Ha(Et(re,"users",t.facultyId));if(fe.exists()){const q=fe.data();ee.push({...q,isPrimary:!0,role:"Primary Faculty"})}const z=_e(le(re,"facultyAccess"),xe("primaryFacultyId","==",t.facultyId)),J=await be(z);for(const q of J.docs){const ce=q.data(),te=await Ha(Et(re,"users",ce.facultyId));if(te.exists()){const Q=te.data();ee.push({...Q,isPrimary:!1,role:"Additional Faculty",addedDate:((G=($=ce.createdAt)==null?void 0:$.toDate)==null?void 0:G.call($))||new Date})}}s(ee);const se=ee.find(q=>q.isPrimary);se&&r({name:se.name,email:se.email})}catch(ee){console.error("Error fetching faculty info:",ee)}},D=async()=>{if(!(!t||t.role!=="student"))try{const $=_e(le(re,"submissions"),xe("studentId","==",t.uid)),G=await be($),ee=await Promise.all(G.docs.map(async fe=>{var ce,te,Q,de;const z=fe.data(),J=await Ha(Et(re,"experiments",z.experimentId)),se=J.exists()?J.data():null;let q=null;if(z.status!=="pending"&&z.approvedBy){const oe=await Ha(Et(re,"users",z.approvedBy));oe.exists()&&(q=oe.data())}return{id:fe.id,...z,submittedAt:((te=(ce=z.submittedAt)==null?void 0:ce.toDate)==null?void 0:te.call(ce))||new Date,approvedAt:(de=(Q=z.approvedAt)==null?void 0:Q.toDate)==null?void 0:de.call(Q),experiment:se,approvedByFaculty:q}}));o(ee)}catch($){console.error("Error fetching submission history:",$)}},F=async()=>{if(!(!t||t.role!=="faculty"))try{const $=_e(le(re,"facultyAccess"),xe("primaryFacultyId","==",t.uid)),ee=(await be($)).docs.map(z=>({id:z.id,...z.data()})),fe=await Promise.all(ee.map(async z=>{const J=await Ha(Et(re,"users",z.facultyId));return J.exists()?{...z,...J.data(),accessId:z.id}:null}));w(fe.filter(Boolean))}catch($){console.error("Error fetching faculty list:",$)}},K=async $=>{if($.preventDefault(),I(""),k(""),_.newPassword!==_.confirmPassword){I("New passwords do not match");return}if(_.newPassword.length<6){I("Password must be at least 6 characters long");return}A(!0);try{if(e&&t){await $2(e,_.newPassword);const G=_.newPassword==="cse@nbkr";if(m(G),await pn(Et(re,"users",e.uid),{passwordChanged:!G}),t.role==="student"){console.log("Updating student password status for:",t.email,t.rollNo);const ee=_e(le(re,"students"),xe("email","==",t.email)),fe=await be(ee);if(!fe.empty){console.log("Found student by email, updating...");const z=fe.docs.map(J=>pn(J.ref,{passwordChanged:!G}));await Promise.all(z)}if(t.rollNo){const z=_e(le(re,"students"),xe("rollNo","==",t.rollNo)),J=await be(z);if(!J.empty){console.log("Found student by rollNo, updating...");const se=J.docs.map(q=>pn(q.ref,{passwordChanged:!G}));await Promise.all(se)}}if(t.facultyId){const z=_e(le(re,"students"),xe("facultyId","==",t.facultyId),xe("email","==",t.email)),J=await be(z);if(!J.empty){console.log("Found student by faculty and email, updating...");const se=J.docs.map(q=>pn(q.ref,{passwordChanged:!G}));await Promise.all(se)}}}k(G?'Password updated to default password. Status will show as "Password Not Changed" in faculty view.':'Password updated successfully! Status will show as "Active" in faculty view.'),b({currentPassword:"",newPassword:"",confirmPassword:""}),c(!1),console.log("Password change completed successfully")}}catch(G){console.error("Password change error:",G),I(G.message)}finally{A(!1)}},B=async $=>{$.preventDefault(),I(""),k(""),E(!0);try{const G=await Ob(oo,v.email,v.password);console.log("Created auth account for faculty:",v.email);const ee={uid:G.user.uid,email:v.email,name:v.name,role:"faculty",passwordChanged:v.password!=="cse@nbkr"};await Xr(le(re,"users"),ee),console.log("Created user profile for new faculty"),await Xr(le(re,"facultyAccess"),{primaryFacultyId:t.uid,facultyId:G.user.uid,facultyName:v.name,facultyEmail:v.email,createdAt:new Date,createdBy:t.name}),x({name:"",email:"",password:"cse@nbkr"}),h(!1),F(),k("Faculty member added successfully! They can now login and access your students.")}catch(G){console.error("Error adding faculty:",G),I(`Error adding faculty: ${G.message}`)}finally{E(!1)}},M=async($,G)=>{if(confirm(`Are you sure you want to remove ${G} from faculty access?`))try{await So(Et(re,"facultyAccess",$)),F(),k(`${G} has been removed from faculty access.`)}catch(ee){console.error("Error removing faculty:",ee),I(`Error removing faculty: ${ee.message}`)}},U=()=>p===null?{status:"Checking...",color:"text-gray-600",bgColor:"bg-gray-100",icon:"text-gray-600"}:p===!1?{status:"Custom Password",color:"text-green-600",bgColor:"bg-green-100",icon:"text-green-600"}:{status:"Default Password (cse@nbkr)",color:"text-yellow-600",bgColor:"bg-yellow-100",icon:"text-yellow-600"};if(!t)return null;const V=U();return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Profile"}),u.jsxs("div",{className:"flex space-x-3",children:[t.role==="faculty"&&u.jsxs("button",{onClick:()=>h(!0),className:"bg-purple-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:bg-purple-700 transition-colors",children:[u.jsx(hm,{className:"h-5 w-5"}),u.jsx("span",{children:"Add Faculty"})]}),u.jsxs("button",{onClick:()=>c(!l),className:"bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:bg-blue-700 transition-colors",children:[u.jsx(t0,{className:"h-5 w-5"}),u.jsx("span",{children:"Change Password"})]})]})]}),C&&u.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg",children:C}),S&&u.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:S}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[u.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[u.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:u.jsx($r,{className:"h-6 w-6 text-blue-600"})}),u.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Basic Information"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg",children:[u.jsx($r,{className:"h-5 w-5 text-gray-500"}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Full Name"}),u.jsx("p",{className:"text-lg font-semibold text-gray-900",children:t.name})]})]}),u.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg",children:[u.jsx(nB,{className:"h-5 w-5 text-gray-500"}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Email Address"}),u.jsx("p",{className:"text-lg font-semibold text-gray-900",children:t.email})]})]}),t.role==="student"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg",children:[u.jsx(eB,{className:"h-5 w-5 text-gray-500"}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Roll Number"}),u.jsx("p",{className:"text-lg font-semibold text-gray-900",children:t.rollNo})]})]}),u.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg",children:[u.jsx(wn,{className:"h-5 w-5 text-gray-500"}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Section"}),u.jsx("p",{className:"text-lg font-semibold text-gray-900",children:t.section})]})]}),u.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[u.jsx(r0,{className:"h-5 w-5 text-blue-600"}),u.jsx("label",{className:"text-sm font-medium text-blue-700",children:"Faculty Members"})]}),i.length>0?u.jsx("div",{className:"space-y-2",children:i.map(($,G)=>u.jsxs("div",{className:"flex items-center justify-between p-2 bg-white rounded border",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-blue-900",children:$.name}),u.jsx("p",{className:"text-xs text-blue-600",children:$.email})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${$.isPrimary?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:$.role}),!$.isPrimary&&$.addedDate&&u.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Added: ",$.addedDate.toLocaleDateString()]})]})]},G))}):u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),u.jsx("p",{className:"text-sm text-blue-600",children:"Loading faculty information..."})]})]})]}),u.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg",children:[u.jsx(hi,{className:"h-5 w-5 text-gray-500"}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Role"}),u.jsx("p",{className:"text-lg font-semibold text-gray-900 capitalize",children:t.role})]})]})]})]}),u.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[u.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[u.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:u.jsx(_C,{className:"h-6 w-6 text-green-600"})}),u.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Account Status"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Password Status"}),u.jsx("p",{className:`text-lg font-semibold ${V.color}`,children:V.status}),p&&u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Using default password. Consider changing for security."})]}),u.jsx("div",{className:`p-2 rounded-full ${V.bgColor}`,children:u.jsx(t0,{className:`h-5 w-5 ${V.icon}`})})]})}),u.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Account Type"}),u.jsx("p",{className:"text-lg font-semibold text-gray-900",children:t.role==="faculty"?"Faculty Member":"Student"})]}),u.jsx("div",{className:"p-2 rounded-full bg-blue-100",children:u.jsx($r,{className:"h-5 w-5 text-blue-600"})})]})}),t.role==="student"&&u.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Enrollment Status"}),u.jsx("p",{className:`text-lg font-semibold ${p===!1?"text-green-600":"text-yellow-600"}`,children:p===!1?"Active":"Password Not Changed"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:p===!1?"Account is fully activated":"Please change default password to activate account"})]}),u.jsx("div",{className:`p-2 rounded-full ${p===!1?"bg-green-100":"bg-yellow-100"}`,children:u.jsx(hi,{className:`h-5 w-5 ${p===!1?"text-green-600":"text-yellow-600"}`})})]})}),t.role==="student"&&i.length>0&&u.jsx("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium text-blue-700",children:"Primary Faculty"}),u.jsx("p",{className:"text-lg font-semibold text-blue-900",children:((X=i.find($=>$.isPrimary))==null?void 0:X.name)||"Loading..."}),u.jsx("p",{className:"text-sm text-blue-600",children:i.length>1?`+ ${i.length-1} additional faculty member(s)`:"Primary Faculty Mentor"})]}),u.jsx("div",{className:"p-2 rounded-full bg-blue-100",children:u.jsx(r0,{className:"h-5 w-5 text-blue-600"})})]})})]})]})]}),t.role==="faculty"&&u.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[u.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[u.jsx("div",{className:"bg-purple-100 p-3 rounded-full",children:u.jsx(Dh,{className:"h-6 w-6 text-purple-600"})}),u.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Faculty Access Management"})]}),u.jsx("div",{className:"mb-4",children:u.jsx("p",{className:"text-gray-600",children:"Faculty members added here will have full access to your students and can perform all faculty operations."})}),g.length>0?u.jsx("div",{className:"space-y-3",children:g.map($=>{var G,ee,fe;return u.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"bg-purple-100 p-2 rounded-full",children:u.jsx($r,{className:"h-5 w-5 text-purple-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-gray-900",children:$.name}),u.jsx("p",{className:"text-sm text-gray-600",children:$.email}),u.jsxs("p",{className:"text-xs text-gray-500",children:["Added on ",((fe=(ee=(G=$.createdAt)==null?void 0:G.toDate)==null?void 0:ee.call(G))==null?void 0:fe.toLocaleDateString())||"Unknown date"]})]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:"Active"}),u.jsx("button",{onClick:()=>M($.accessId,$.name),className:"text-red-600 hover:text-red-800 p-2 rounded-full hover:bg-red-50",children:u.jsx(pm,{className:"h-4 w-4"})})]})]},$.accessId)})}):u.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[u.jsx(Dh,{className:"mx-auto h-12 w-12 text-gray-400"}),u.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No additional faculty members"}),u.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Add faculty members to give them access to your students."})]})]}),l&&u.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Change Password"}),u.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[u.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"Password Guidelines:"}),u.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[u.jsx("li",{children:' If you set password to "cse@nbkr", it will be considered as default password'}),u.jsx("li",{children:' Default password status will show as "Password Not Changed" in faculty view'}),u.jsx("li",{children:' Any other password will show as "Active" status in faculty view'}),u.jsx("li",{children:" Password must be at least 6 characters long"})]})]}),u.jsxs("form",{onSubmit:K,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),u.jsx("input",{type:"password",required:!0,value:_.newPassword,onChange:$=>b({..._,newPassword:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter new password (e.g., cse@nbkr for default)"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),u.jsx("input",{type:"password",required:!0,value:_.confirmPassword,onChange:$=>b({..._,confirmPassword:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Confirm new password"})]}),u.jsxs("div",{className:"flex justify-end space-x-3",children:[u.jsx("button",{type:"button",onClick:()=>c(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Cancel"}),u.jsx("button",{type:"submit",disabled:P,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:P?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),u.jsx("span",{children:"Updating..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(sB,{className:"h-4 w-4"}),u.jsx("span",{children:"Update Password"})]})})]})]})]}),f&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Add Faculty Member"}),u.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600",children:u.jsx(Hn,{className:"h-6 w-6"})})]}),u.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 mb-6",children:u.jsxs("div",{className:"flex items-start space-x-3",children:[u.jsx(aa,{className:"h-5 w-5 text-purple-600 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold text-purple-800 mb-1",children:"Faculty Access Permissions"}),u.jsxs("ul",{className:"text-sm text-purple-700 space-y-1",children:[u.jsx("li",{children:" Full access to all your students"}),u.jsx("li",{children:" Can add, edit, and manage students"}),u.jsx("li",{children:" Can create and manage experiments"}),u.jsx("li",{children:" Can add viva questions and review submissions"}),u.jsx("li",{children:" Same privileges as the primary faculty"})]})]})]})}),u.jsxs("form",{onSubmit:B,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Faculty Name"}),u.jsx("input",{type:"text",required:!0,value:v.name,onChange:$=>x({...v,name:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter faculty full name"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),u.jsx("input",{type:"email",required:!0,value:v.email,onChange:$=>x({...v,email:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter faculty email address"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Default Password"}),u.jsx("input",{type:"text",value:v.password,onChange:$=>x({...v,password:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Default password for faculty"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Faculty can change this password after first login"})]}),u.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[u.jsx("button",{type:"button",onClick:()=>h(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Cancel"}),u.jsx("button",{type:"submit",disabled:N,className:"px-4 py-2 text-sm font-medium text-white bg-purple-600 rounded-md hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:N?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),u.jsx("span",{children:"Adding..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(jn,{className:"h-4 w-4"}),u.jsx("span",{children:"Add Faculty"})]})})]})]})]})}),t.role==="student"&&u.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[u.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[u.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:u.jsx(hi,{className:"h-6 w-6 text-green-600"})}),u.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Submission History"})]}),a.length>0?u.jsx("div",{className:"space-y-4",children:a.map($=>{var G,ee;return u.jsxs("div",{className:"border rounded-lg p-4 hover:bg-gray-50",children:[u.jsxs("div",{className:"flex items-start justify-between mb-2",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-gray-900",children:((G=$.experiment)==null?void 0:G.title)||"Unknown Experiment"}),u.jsxs("p",{className:"text-sm text-gray-600",children:["Submitted: ",$.submittedAt.toLocaleDateString()]})]}),u.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${$.status==="approved"?"bg-green-100 text-green-800":$.status==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:$.status.charAt(0).toUpperCase()+$.status.slice(1)})]}),$.status!=="pending"&&u.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-600",children:$.status==="approved"?"Approved by:":"Rejected by:"}),u.jsx("span",{className:"ml-2 font-medium text-gray-900",children:((ee=$.approvedByFaculty)==null?void 0:ee.name)||"Faculty Member"})]}),$.approvedAt&&u.jsx("span",{className:"text-gray-500",children:$.approvedAt.toLocaleDateString()})]})})]},$.id)})}):u.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[u.jsx(hi,{className:"mx-auto h-12 w-12 text-gray-400"}),u.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No submissions yet"}),u.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Your experiment submissions will appear here."})]})]})]})},lfe=()=>{var k;const{userProfile:t}=fr(),[e,n]=L.useState([]),[r,i]=L.useState("all"),[s,a]=L.useState([]),[o,l]=L.useState([]),[c,f]=L.useState("all"),[h,p]=L.useState(""),[m,g]=L.useState(!1);L.useEffect(()=>{w()},[t]),L.useEffect(()=>{P()},[s,r,c,h]);const w=async()=>{if(!t)return;const j=t.primaryFacultyId||t.uid;try{await b(j),_(j)}catch(O){console.error("Error setting up real-time listeners:",O)}},_=j=>{const O=Jt(le(re,"submissions"),()=>{v(j)}),D=Jt(le(re,"vivaAttempts"),()=>{v(j)}),F=_e(le(re,"studentRecords"),xe("facultyId","==",j)),K=Jt(F,()=>{v(j),console.log("Real-time update: Student records updated")});return()=>{O(),D(),K()}},b=async j=>{const O=_e(le(re,"experiments"),xe("facultyId","==",j)),F=(await be(O)).docs.map(K=>{var B;return{id:K.id,...K.data(),createdAt:((B=K.data().createdAt)==null?void 0:B.toDate())||new Date}});n(F)},v=async j=>{try{const[O,D,F,K,B]=await Promise.all([be(_e(le(re,"students"),xe("facultyId","==",j))),be(le(re,"users")),be(le(re,"submissions")),be(le(re,"vivaAttempts")),be(_e(le(re,"studentRecords"),xe("facultyId","==",j)))]),M=O.docs.map(z=>({id:z.id,...z.data()})),U=D.docs.map(z=>({id:z.id,...z.data()})),V=F.docs.map(z=>{var J,se;return{id:z.id,...z.data(),submittedAt:(J=z.data().submittedAt)==null?void 0:J.toDate(),approvedAt:(se=z.data().approvedAt)==null?void 0:se.toDate()}}),X=K.docs.map(z=>{var J;return{id:z.id,...z.data(),completedAt:(J=z.data().completedAt)==null?void 0:J.toDate()}}),$=B.docs.map(z=>{var J,se;return{id:z.id,...z.data(),observationCorrectedDate:(J=z.data().observationCorrectedDate)==null?void 0:J.toDate(),recordSubmittedDate:(se=z.data().recordSubmittedDate)==null?void 0:se.toDate()}}),G=[],ee=e.map(z=>z.id),fe=V.filter(z=>ee.includes(z.experimentId));M.forEach(z=>{e.forEach(J=>{const se=fe.find(we=>we.studentId===z.uid&&we.experimentId===J.id),q=U.find(we=>we.uid===z.uid||we.email===z.email),ce=(q==null?void 0:q.name)||z.name,te=(q==null?void 0:q.rollNo)||z.rollNo,Q=(q==null?void 0:q.email)||z.email,de=X.find(we=>we.studentId===z.uid&&we.experimentId===J.id),oe=$.find(we=>we.studentId===z.uid&&we.experimentId===J.id);se&&se.status==="approved"&&G.push({studentId:z.uid||z.id,studentName:ce,studentRollNo:te,studentEmail:Q,experimentId:J.id,experimentTitle:J.title,submissionStatus:se.status,submissionDate:se.submittedAt,approvedDate:se.approvedAt,observationCorrected:(oe==null?void 0:oe.observationCorrected)||!1,recordSubmitted:(oe==null?void 0:oe.recordSubmitted)||!1,observationCorrectedDate:oe==null?void 0:oe.observationCorrectedDate,recordSubmittedDate:oe==null?void 0:oe.recordSubmittedDate,vivaCompleted:!!de,vivaScore:de==null?void 0:de.score,vivaDate:de==null?void 0:de.completedAt,submissionLink:se.submissionLink})})}),a(G)}catch(O){console.error("Error rebuilding records:",O)}},x=async()=>{if(!t)return;const j=t.primaryFacultyId||t.uid;try{const O=_e(le(re,"experiments"),xe("facultyId","==",j)),F=(await be(O)).docs.map(te=>{var Q;return{id:te.id,...te.data(),createdAt:((Q=te.data().createdAt)==null?void 0:Q.toDate())||new Date}});n(F);const K=_e(le(re,"students"),xe("facultyId","==",j)),M=(await be(K)).docs.map(te=>({id:te.id,...te.data()})),V=(await be(le(re,"users"))).docs.map(te=>({id:te.id,...te.data()})),$=(await be(le(re,"submissions"))).docs.map(te=>{var Q,de;return{id:te.id,...te.data(),submittedAt:(Q=te.data().submittedAt)==null?void 0:Q.toDate(),approvedAt:(de=te.data().approvedAt)==null?void 0:de.toDate()}}),ee=(await be(le(re,"vivaAttempts"))).docs.map(te=>{var Q;return{id:te.id,...te.data(),completedAt:(Q=te.data().completedAt)==null?void 0:Q.toDate()}}),fe=_e(le(re,"studentRecords"),xe("facultyId","==",j)),J=(await be(fe)).docs.map(te=>{var Q,de;return{id:te.id,...te.data(),observationCorrectedDate:(Q=te.data().observationCorrectedDate)==null?void 0:Q.toDate(),recordSubmittedDate:(de=te.data().recordSubmittedDate)==null?void 0:de.toDate()}}),se=[],q=F.map(te=>te.id),ce=$.filter(te=>q.includes(te.experimentId));M.forEach(te=>{F.forEach(Q=>{const de=ce.find(xt=>xt.studentId===te.uid&&xt.experimentId===Q.id),oe=V.find(xt=>xt.uid===te.uid||xt.email===te.email),we=(oe==null?void 0:oe.name)||te.name,Me=(oe==null?void 0:oe.rollNo)||te.rollNo,pt=(oe==null?void 0:oe.email)||te.email,Ot=ee.find(xt=>xt.studentId===te.uid&&xt.experimentId===Q.id),dt=J.find(xt=>xt.studentId===te.uid&&xt.experimentId===Q.id);de&&de.status==="approved"&&se.push({studentId:te.uid||te.id,studentName:we,studentRollNo:Me,studentEmail:pt,experimentId:Q.id,experimentTitle:Q.title,submissionStatus:de.status,submissionDate:de.submittedAt,approvedDate:de.approvedAt,observationCorrected:(dt==null?void 0:dt.observationCorrected)||!1,recordSubmitted:(dt==null?void 0:dt.recordSubmitted)||!1,observationCorrectedDate:dt==null?void 0:dt.observationCorrectedDate,recordSubmittedDate:dt==null?void 0:dt.recordSubmittedDate,vivaCompleted:!!Ot,vivaScore:Ot==null?void 0:Ot.score,vivaDate:Ot==null?void 0:Ot.completedAt,submissionLink:de.submissionLink})})}),a(se)}catch(O){console.error("Error fetching records data:",O)}},P=()=>{let j=s;if(r!=="all"&&(j=j.filter(O=>O.experimentId===r)),c==="record-submitted"?j=j.filter(O=>O.recordSubmitted):c==="not-submitted"&&(j=j.filter(O=>!O.recordSubmitted)),h){const O=h.toLowerCase();j=j.filter(D=>D.studentName.toLowerCase().includes(O)||D.studentRollNo.toLowerCase().includes(O)||D.studentEmail.toLowerCase().includes(O)||D.experimentTitle.toLowerCase().includes(O))}l(j)},A=async(j,O)=>{g(!0);try{const D=_e(le(re,"studentRecords"),xe("studentId","==",j),xe("experimentId","==",O),xe("facultyId","==",t.primaryFacultyId||t.uid)),F=await be(D);if(F.empty)await Xr(le(re,"studentRecords"),{studentId:j,experimentId:O,facultyId:t.primaryFacultyId||t.uid,observationCorrected:!0,recordSubmitted:!1,observationCorrectedDate:new Date,observationCorrectedBy:t.uid,observationCorrectedByName:t.name});else{const K=F.docs[0];await pn(K.ref,{observationCorrected:!0,observationCorrectedDate:new Date,observationCorrectedBy:t.uid,observationCorrectedByName:t.name})}x(),alert("Observation marked as corrected successfully!")}catch(D){console.error("Error updating observation status:",D),alert(`Error updating observation status: ${D.message}`)}finally{g(!1)}},N=async(j,O)=>{g(!0);try{const D=_e(le(re,"studentRecords"),xe("studentId","==",j),xe("experimentId","==",O),xe("facultyId","==",t.primaryFacultyId||t.uid)),F=await be(D);if(F.empty)await Xr(le(re,"studentRecords"),{studentId:j,experimentId:O,facultyId:t.primaryFacultyId||t.uid,observationCorrected:!0,recordSubmitted:!0,observationCorrectedDate:new Date,recordSubmittedDate:new Date,recordSubmittedBy:t.uid,recordSubmittedByName:t.name});else{const K=F.docs[0];await pn(K.ref,{recordSubmitted:!0,recordSubmittedDate:new Date,recordSubmittedBy:t.uid,recordSubmittedByName:t.name,observationCorrected:!0,observationCorrectedDate:K.data().observationCorrectedDate||new Date})}x(),alert("Record marked as submitted successfully!")}catch(D){console.error("Error updating record status:",D),alert(`Error updating record status: ${D.message}`)}finally{g(!1)}},E=j=>{j&&window.open(j,"_blank","noopener,noreferrer")},S=j=>{const O=s.filter(D=>D.experimentId===j);return{total:O.length,observationCorrected:O.filter(D=>D.observationCorrected).length,recordSubmitted:O.filter(D=>D.recordSubmitted).length,notSubmitted:O.filter(D=>!D.recordSubmitted).length}},C={total:o.length,observationCorrected:o.filter(j=>j.observationCorrected).length,recordSubmitted:o.filter(j=>j.recordSubmitted).length,notSubmitted:o.filter(j=>!j.recordSubmitted).length,vivaCompleted:o.filter(j=>j.vivaCompleted).length};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Student Records"}),u.jsx("div",{className:"text-sm text-gray-600",children:"Track student progress from submission to final record"})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[u.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[u.jsx(wn,{className:"h-6 w-6 text-indigo-600"}),u.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Select Experiment"})]}),e.length>0?u.jsxs("div",{className:"space-y-4",children:[u.jsx("button",{onClick:()=>i("all"),className:`w-full p-4 rounded-lg border-2 transition-all text-left ${r==="all"?"border-indigo-500 bg-indigo-50 shadow-md":"border-gray-200 hover:border-indigo-300 hover:bg-indigo-25"}`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:"All Experiments"}),u.jsx("p",{className:"text-sm text-gray-600",children:"View records from all experiments"})]}),u.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"font-bold text-blue-600",children:s.length}),u.jsx("div",{className:"text-gray-500",children:"Total"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"font-bold text-green-600",children:s.filter(j=>j.recordSubmitted).length}),u.jsx("div",{className:"text-gray-500",children:"Submitted"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"font-bold text-yellow-600",children:s.filter(j=>!j.recordSubmitted).length}),u.jsx("div",{className:"text-gray-500",children:"Pending"})]})]})]})}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(j=>{const O=S(j.id);return u.jsxs("button",{onClick:()=>i(j.id),className:`p-4 rounded-lg border-2 transition-all text-left ${r===j.id?"border-indigo-500 bg-indigo-50 shadow-md":"border-gray-200 hover:border-indigo-300 hover:bg-indigo-25"}`,children:[u.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:j.title}),u.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mb-3",children:j.description}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[u.jsxs("div",{className:"flex items-center justify-between bg-white rounded p-2",children:[u.jsx("span",{className:"text-gray-600",children:"Total:"}),u.jsx("span",{className:"font-bold text-blue-600",children:O.total})]}),u.jsxs("div",{className:"flex items-center justify-between bg-white rounded p-2",children:[u.jsx("span",{className:"text-gray-600",children:"Submitted:"}),u.jsx("span",{className:"font-bold text-green-600",children:O.recordSubmitted})]}),u.jsxs("div",{className:"flex items-center justify-between bg-white rounded p-2",children:[u.jsx("span",{className:"text-gray-600",children:"Corrected:"}),u.jsx("span",{className:"font-bold text-purple-600",children:O.observationCorrected})]}),u.jsxs("div",{className:"flex items-center justify-between bg-white rounded p-2",children:[u.jsx("span",{className:"text-gray-600",children:"Pending:"}),u.jsx("span",{className:"font-bold text-yellow-600",children:O.notSubmitted})]})]})]},j.id)})})]}):u.jsxs("div",{className:"text-center py-8",children:[u.jsx(wn,{className:"mx-auto h-12 w-12 text-gray-400"}),u.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No experiments found"}),u.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Please add experiments first to view student records."})]})]}),r&&u.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx(vw,{className:"h-5 w-5 text-gray-400"}),u.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filter by Status:"}),u.jsxs("select",{value:c,onChange:j=>f(j.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[u.jsx("option",{value:"all",children:"All Records"}),u.jsx("option",{value:"record-submitted",children:"Record Submitted"}),u.jsx("option",{value:"not-submitted",children:"Not Submitted"})]})]}),u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx(aB,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),u.jsx("input",{type:"text",placeholder:"Search students...",value:h,onChange:j=>p(j.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),u.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",o.length," records"]})]})]})}),r&&u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:[u.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Records"}),u.jsx("p",{className:"text-3xl font-bold text-gray-900",children:C.total})]}),u.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:u.jsx(ku,{className:"h-6 w-6 text-blue-600"})})]})}),u.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Observation Corrected"}),u.jsx("p",{className:"text-3xl font-bold text-gray-900",children:C.observationCorrected})]}),u.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:u.jsx(_s,{className:"h-6 w-6 text-purple-600"})})]})}),u.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Record Submitted"}),u.jsx("p",{className:"text-3xl font-bold text-gray-900",children:C.recordSubmitted})]}),u.jsx("div",{className:"p-3 rounded-full bg-green-100",children:u.jsx(Gs,{className:"h-6 w-6 text-green-600"})})]})}),u.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Not Submitted"}),u.jsx("p",{className:"text-3xl font-bold text-gray-900",children:C.notSubmitted})]}),u.jsx("div",{className:"p-3 rounded-full bg-yellow-100",children:u.jsx(wC,{className:"h-6 w-6 text-yellow-600"})})]})}),u.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Viva Completed"}),u.jsx("p",{className:"text-3xl font-bold text-gray-900",children:C.vivaCompleted})]}),u.jsx("div",{className:"p-3 rounded-full bg-orange-100",children:u.jsx(hi,{className:"h-6 w-6 text-orange-600"})})]})})]}),r&&u.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[r!=="all"&&u.jsx("div",{className:"p-6 border-b bg-gray-50",children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx(wn,{className:"h-6 w-6 text-indigo-600"}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:(k=e.find(j=>j.id===r))==null?void 0:k.title}),u.jsx("p",{className:"text-sm text-gray-600",children:"Student records for this experiment"})]})]})}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student Details"}),r==="all"&&u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Experiment"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Submission"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Viva Test"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Progress Status"}),u.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map((j,O)=>{var D,F;return u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-full flex items-center justify-center",children:u.jsx($r,{className:"h-5 w-5 text-indigo-600"})})}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-medium text-gray-900",children:j.studentName}),u.jsxs("div",{className:"text-sm text-indigo-600 font-medium",children:["Roll: ",j.studentRollNo]}),u.jsx("div",{className:"text-sm text-gray-500",children:j.studentEmail})]})]})}),r==="all"&&u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm font-medium text-gray-900",children:j.experimentTitle})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Approved"}),u.jsx("button",{onClick:()=>E(j.submissionLink),className:"text-blue-600 hover:text-blue-800 text-xs",children:"View"})]}),u.jsxs("div",{className:"text-xs text-gray-500",children:["Approved: ",(D=j.approvedDate)==null?void 0:D.toLocaleDateString()]})]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:j.vivaCompleted?u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Gs,{className:"h-4 w-4 text-green-600"}),u.jsxs("span",{className:"text-sm font-medium text-green-600",children:[j.vivaScore,"/10"]})]}),u.jsx("div",{className:"text-xs text-gray-500",children:(F=j.vivaDate)==null?void 0:F.toLocaleDateString()})]}):u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(oy,{className:"h-4 w-4 text-gray-400"}),u.jsx("span",{className:"text-sm text-gray-500",children:"Not attempted"})]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[j.observationCorrected?u.jsx(Gs,{className:"h-4 w-4 text-green-600"}):u.jsx(oy,{className:"h-4 w-4 text-gray-400"}),u.jsxs("span",{className:`text-sm ${j.observationCorrected?"text-green-600":"text-gray-500"}`,children:["Observation ",j.observationCorrected?"Corrected":"Pending"]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[j.recordSubmitted?u.jsx(Gs,{className:"h-4 w-4 text-green-600"}):u.jsx(oy,{className:"h-4 w-4 text-gray-400"}),u.jsxs("span",{className:`text-sm ${j.recordSubmitted?"text-green-600":"text-gray-500"}`,children:["Record ",j.recordSubmitted?"Submitted":"Pending"]})]})]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:u.jsxs("div",{className:"flex justify-end space-x-2",children:[!j.observationCorrected&&u.jsxs("button",{onClick:()=>A(j.studentId,j.experimentId),disabled:m,className:"inline-flex items-center px-3 py-1 border border-transparent text-xs font-medium rounded-md text-white bg-purple-600 hover:bg-purple-700 disabled:opacity-50",children:[u.jsx(_s,{className:"h-3 w-3 mr-1"}),"Observation Corrected"]}),!j.recordSubmitted&&u.jsxs("button",{onClick:()=>N(j.studentId,j.experimentId),disabled:m,className:"inline-flex items-center px-3 py-1 border border-transparent text-xs font-medium rounded-md text-white bg-green-600 hover:bg-green-700 disabled:opacity-50",children:[u.jsx(ku,{className:"h-3 w-3 mr-1"}),"Record Submitted"]}),j.recordSubmitted&&u.jsxs("span",{className:"inline-flex items-center px-3 py-1 text-xs font-medium text-green-800 bg-green-100 rounded-md",children:[u.jsx(Gs,{className:"h-3 w-3 mr-1"}),"Complete"]})]})})]},`${j.studentId}-${j.experimentId}`)})})]})}),o.length===0&&r&&u.jsxs("div",{className:"text-center py-12",children:[u.jsx(ku,{className:"mx-auto h-12 w-12 text-gray-400"}),u.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No records found"}),u.jsx("p",{className:"mt-1 text-sm text-gray-500",children:r==="all"?c==="all"?"No approved student submissions found yet.":`No ${c.replace("-"," ")} records found.`:c==="all"?"No approved submissions found for this experiment.":`No ${c.replace("-"," ")} records found for this experiment.`})]})]})]})},ufe=()=>{const{currentUser:t,userProfile:e}=fr(),[n,r]=L.useState({newPassword:"",confirmPassword:""}),[i,s]=L.useState(!1),[a,o]=L.useState(!1),[l,c]=L.useState(!1),[f,h]=L.useState(""),p=async m=>{if(m.preventDefault(),h(""),n.newPassword!==n.confirmPassword){h("Passwords do not match");return}if(n.newPassword.length<6){h("Password must be at least 6 characters long");return}c(!0);try{if(t&&e&&(await $2(t,n.newPassword),await pn(Et(re,"users",t.uid),{passwordChanged:!0}),e.role==="student")){const g=_e(le(re,"students"),xe("email","==",e.email)),w=await be(g),_=w.docs.map(b=>pn(b.ref,{passwordChanged:!0}));if(await Promise.all(_),w.empty&&e.rollNo){const b=_e(le(re,"students"),xe("rollNo","==",e.rollNo)),x=(await be(b)).docs.map(P=>pn(P.ref,{passwordChanged:!0}));await Promise.all(x)}}}catch(g){h(g.message)}finally{c(!1)}};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-indigo-900 flex items-center justify-center p-4",children:u.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-2xl p-8",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx("div",{className:"bg-yellow-100 p-3 rounded-full",children:u.jsx(aa,{className:"h-12 w-12 text-yellow-600"})})}),u.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Password Change Required"}),u.jsx("p",{className:"text-gray-600",children:"For security reasons, please change your default password before continuing."})]}),u.jsxs("form",{onSubmit:p,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:i?"text":"password",required:!0,value:n.newPassword,onChange:m=>r({...n,newPassword:m.target.value}),className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter new password"}),u.jsx("button",{type:"button",onClick:()=>s(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:i?u.jsx(kh,{className:"h-5 w-5"}):u.jsx(_s,{className:"h-5 w-5"})})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:a?"text":"password",required:!0,value:n.confirmPassword,onChange:m=>r({...n,confirmPassword:m.target.value}),className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Confirm new password"}),u.jsx("button",{type:"button",onClick:()=>o(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:a?u.jsx(kh,{className:"h-5 w-5"}):u.jsx(_s,{className:"h-5 w-5"})})]})]}),f&&u.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:f}),u.jsx("button",{type:"submit",disabled:l,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-2",children:l?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),u.jsx("span",{children:"Updating Password..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(t0,{className:"h-5 w-5"}),u.jsx("span",{children:"Update Password"})]})})]}),u.jsx("div",{className:"mt-6 text-center text-sm text-gray-500",children:u.jsx("p",{children:"Password must be at least 6 characters long"})})]})})},cfe=()=>{const{currentUser:t,userProfile:e}=fr(),[n,r]=L.useState("dashboard");if(console.log("AppContent - currentUser:",t==null?void 0:t.email),console.log("AppContent - userProfile:",e),!t||!e)return console.log("Showing login - currentUser:",!!t,"userProfile:",!!e),u.jsx(cB,{});if(e.role==="student"&&!e.passwordChanged)return console.log("Student needs to change password:",e.email),u.jsx(ufe,{});console.log("Showing main app for:",e.role,e.email);const i=()=>{switch(n){case"dashboard":return u.jsx(Ba,{});case"students":return e.role==="faculty"?u.jsx(nfe,{}):u.jsx(Ba,{});case"experiments":return u.jsx(ife,{});case"viva-questions":return e.role==="faculty"?u.jsx(sfe,{}):u.jsx(Ba,{});case"submissions":return e.role==="faculty"?u.jsx(afe,{}):u.jsx(Ba,{});case"records":return e.role==="faculty"?u.jsx(lfe,{}):u.jsx(Ba,{});case"profile":return u.jsx(ofe,{});default:return u.jsx(Ba,{})}};return u.jsx(dB,{activeTab:n,onTabChange:r,children:i()})};function dfe(){return u.jsx(KU,{children:u.jsx(cfe,{})})}Zj(document.getElementById("root")).render(u.jsx(L.StrictMode,{children:u.jsx(dfe,{})}));
